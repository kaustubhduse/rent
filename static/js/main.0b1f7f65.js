/*! For license information please see main.0b1f7f65.js.LICENSE.txt */
(()=>{var e={730:(e,t,n)=>{"use strict";var i=n(43),r=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function A(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var z,O=Object.assign;function D(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var F=!1;function j(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function Q(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case b:return"Portal";case I:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function J(e,t){K(e,t);var n=q(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),i=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ae(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,we=null,Ee=null;function Ie(e){if(e=Ar(e)){if("function"!==typeof be)throw Error(a(280));var t=e.stateNode;t&&(t=xr(t),be(e.stateNode,e.type,t))}}function Ce(e){we?Ee?Ee.push(e):Ee=[e]:we=e}function ke(){if(we){var e=we,t=Ee;if(Ee=we=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Se(e,t){return e(t)}function Te(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Se(e,t,n)}finally{Pe=!1,(null!==we||null!==Ee)&&(Te(),ke())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Be=!1}function Re(e,t,n,i,r,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ze=!1,Oe=null,De=!1,Fe=null,je={onError:function(e){ze=!0,Oe=e}};function Qe(e,t,n,i,r,a,o,s,l){ze=!1,Oe=null,Re.apply(je,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return qe(r),e;if(o===i)return qe(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Xe=r.unstable_scheduleCallback,We=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Ze=r.unstable_requestPaint,Ke=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~r;0!==s?i=ht(s):0!==(a&=o)&&(i=ht(a))}else 0!==(o=n&~r)?i=ht(o):0!==a&&(i=ht(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var At=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,bt,wt,Et,It,Ct=!1,kt=[],St=null,Tt=null,Pt=null,Nt=new Map,Mt=new Map,Bt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function zt(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=Ar(t))&&bt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ot(e){var t=vr(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void It(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ar(n))&&bt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);_e=i,n.target.dispatchEvent(i),_e=null,t.shift()}return!0}function Ft(e,t,n){Dt(e)&&n.delete(t)}function jt(){Ct=!1,null!==St&&Dt(St)&&(St=null),null!==Tt&&Dt(Tt)&&(Tt=null),null!==Pt&&Dt(Pt)&&(Pt=null),Nt.forEach(Ft),Mt.forEach(Ft)}function Qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jt)))}function Ut(e){function t(t){return Qt(t,e)}if(0<kt.length){Qt(kt[0],e);for(var n=1;n<kt.length;n++){var i=kt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==St&&Qt(St,e),null!==Tt&&Qt(Tt,e),null!==Pt&&Qt(Pt,e),Nt.forEach(t),Mt.forEach(t),n=0;n<Bt.length;n++)(i=Bt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Bt.shift()}var Vt=_.ReactCurrentBatchConfig,qt=!0;function Gt(e,t,n,i){var r=At,a=Vt.transition;Vt.transition=null;try{At=1,Xt(e,t,n,i)}finally{At=r,Vt.transition=a}}function Ht(e,t,n,i){var r=At,a=Vt.transition;Vt.transition=null;try{At=4,Xt(e,t,n,i)}finally{At=r,Vt.transition=a}}function Xt(e,t,n,i){if(qt){var r=Yt(e,t,n,i);if(null===r)qi(e,t,i,Wt,n),Rt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return St=zt(St,e,t,n,i,r),!0;case"dragenter":return Tt=zt(Tt,e,t,n,i,r),!0;case"mouseover":return Pt=zt(Pt,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Nt.set(a,zt(Nt.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Mt.set(a,zt(Mt.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Rt(e,i),4&t&&-1<Lt.indexOf(e)){for(;null!==r;){var a=Ar(r);if(null!==a&&xt(a),null===(a=Yt(e,t,n,i))&&qi(e,t,i,Wt,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else qi(e,t,i,null,n)}}var Wt=null;function Yt(e,t,n,i){if(Wt=null,null!==(e=vr(e=xe(i))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Kt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,i=n.length,r="value"in Kt?Kt.value:Kt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),hn=O({},un,{view:0,detail:0}),dn=an(hn),fn=O({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),gn=an(O({},fn,{dataTransfer:0})),mn=an(O({},hn,{relatedTarget:0})),yn=an(O({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=O({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),An=an(vn),_n=an(O({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function In(){return En}var Cn=O({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=an(Cn),Sn=an(O({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(O({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=an(O({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=O({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Nn),Bn=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var zn=c&&"TextEvent"in window&&!Rn,On=c&&(!Ln||Rn&&8<Rn&&11>=Rn),Dn=String.fromCharCode(32),Fn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,i){Ce(i),0<(t=Hi(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Hn=null,Xn=null;function Wn(e){Di(e,0)}function Yn(e){if(X(_r(e)))return e}function Zn(e,t){if("change"===e)return t}var Kn=!1;if(c){var Jn;if(c){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Jn=$n}else Jn=!1;Kn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Hn&&(Hn.detachEvent("onpropertychange",ni),Xn=Hn=null)}function ni(e){if("value"===e.propertyName&&Yn(Xn)){var t=[];Gn(t,Xn,e,xe(e)),Ne(Wn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Xn=n,(Hn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Xn)}function ai(e,t){if("click"===e)return Yn(t)}function oi(e,t){if("input"===e||"change"===e)return Yn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=ci(n,a);var o=ci(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=c&&"documentMode"in document&&11>=document.documentMode,mi=null,yi=null,vi=null,Ai=!1;function _i(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ai||null==mi||mi!==W(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&li(vi,i)||(vi=i,0<(i=Hi(yi,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bi={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},wi={},Ei={};function Ii(e){if(wi[e])return wi[e];if(!bi[e])return e;var t,n=bi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ei)return wi[e]=n[t];return e}c&&(Ei=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);var Ci=Ii("animationend"),ki=Ii("animationiteration"),Si=Ii("animationstart"),Ti=Ii("transitionend"),Pi=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){Pi.set(e,t),l(t,[e])}for(var Bi=0;Bi<Ni.length;Bi++){var Li=Ni[Bi];Mi(Li.toLowerCase(),"on"+(Li[0].toUpperCase()+Li.slice(1)))}Mi(Ci,"onAnimationEnd"),Mi(ki,"onAnimationIteration"),Mi(Si,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Ti,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Oi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,s,l,u){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(a(198));var c=Oe;ze=!1,Oe=null,De||(De=!0,Fe=c)}}(i,t,void 0,e),e.currentTarget=null}function Di(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;Oi(r,s,u),a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;Oi(r,s,u),a=l}}}if(De)throw e=Fe,De=!1,Fe=null,e}function Fi(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(Vi(t,e,2,!1),n.add(i))}function ji(e,t,n){var i=0;t&&(i|=4),Vi(n,e,i,t)}var Qi="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Qi]){e[Qi]=!0,o.forEach((function(t){"selectionchange"!==t&&(zi.has(t)||ji(t,!1,e),ji(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qi]||(t[Qi]=!0,ji("selectionchange",!1,t))}}function Vi(e,t,n,i){switch(Zt(t)){case 1:var r=Gt;break;case 4:r=Ht;break;default:r=Xt}n=r.bind(null,t,n,e),r=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qi(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==s;){if(null===(o=vr(s)))return;if(5===(l=o.tag)||6===l){i=a=o;continue e}s=s.parentNode}}i=i.return}Ne((function(){var i=a,r=xe(n),o=[];e:{var s=Pi.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ci:case ki:case Si:l=yn;break;case Ti:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Me(p,d))&&c.push(Gi(p,g,f)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,r),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!vr(u)&&!u[pr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?vr(u):null)&&(u!==(h=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Sn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:_r(l),f=null==u?s:_r(u),(s=new c(g,p+"leave",l,n,r)).target=h,s.relatedTarget=f,g=null,vr(r)===i&&((c=new c(d,p+"enter",u,n,r)).target=f,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Xi(f))p++;for(f=0,g=d;g;g=Xi(g))f++;for(;0<p-f;)c=Xi(c),p--;for(;0<f-p;)d=Xi(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Xi(c),d=Xi(d)}c=null}else c=null;null!==l&&Wi(o,s,l,c,!1),null!==u&&null!==h&&Wi(o,h,u,c,!0)}if("select"===(l=(s=i?_r(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Zn;else if(qn(s))if(Kn)m=oi;else{m=ri;var y=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ai);switch(m&&(m=m(e,i))?Gn(o,m,n,r):(y&&y(e,s,i),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=i?_r(i):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mi=y,yi=i,vi=null);break;case"focusout":vi=yi=mi=null;break;case"mousedown":Ai=!0;break;case"contextmenu":case"mouseup":case"dragend":Ai=!1,_i(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":_i(o,n,r)}var v;if(Ln)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Un?jn(e,n)&&(A="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(A="onCompositionStart");A&&(On&&"ko"!==n.locale&&(Un||"onCompositionStart"!==A?"onCompositionEnd"===A&&Un&&(v=en()):(Jt="value"in(Kt=r)?Kt.value:Kt.textContent,Un=!0)),0<(y=Hi(i,A)).length&&(A=new _n(A,e,null,n,r),o.push({event:A,listeners:y}),v?A.data=v:null!==(v=Qn(n))&&(A.data=v))),(v=zn?function(e,t){switch(e){case"compositionend":return Qn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Ln&&jn(e,t)?(e=en(),$t=Jt=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Hi(i,"onBeforeInput")).length&&(r=new _n("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=v))}Di(o,t)}))}function Gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Me(e,n))&&i.unshift(Gi(e,a,r)),null!=(a=Me(e,t))&&i.push(Gi(e,a,r))),e=e.return}return i}function Xi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wi(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=Me(n,a))&&o.unshift(Gi(n,l,s)):r||null!=(l=Me(n,a))&&o.push(Gi(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yi=/\r\n?/g,Zi=/\u0000|\uFFFD/g;function Ki(e){return("string"===typeof e?e:""+e).replace(Yi,"\n").replace(Zi,"")}function Ji(e,t,n){if(t=Ki(t),Ki(e)!==t&&n)throw Error(a(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Ut(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ut(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,gr="__reactEvents$"+hr,mr="__reactListeners$"+hr,yr="__reactHandles$"+hr;function vr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[dr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function Ar(e){return!(e=e[dr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _r(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xr(e){return e[fr]||null}var br=[],wr=-1;function Er(e){return{current:e}}function Ir(e){0>wr||(e.current=br[wr],br[wr]=null,wr--)}function Cr(e,t){wr++,br[wr]=e.current,e.current=t}var kr={},Sr=Er(kr),Tr=Er(!1),Pr=kr;function Nr(e,t){var n=e.type.contextTypes;if(!n)return kr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Br(){Ir(Tr),Ir(Sr)}function Lr(e,t,n){if(Sr.current!==kr)throw Error(a(168));Cr(Sr,t),Cr(Tr,n)}function Rr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,V(e)||"Unknown",r));return O({},n,i)}function zr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,Pr=Sr.current,Cr(Sr,e),Cr(Tr,Tr.current),!0}function Or(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Rr(e,t,Pr),i.__reactInternalMemoizedMergedChildContext=e,Ir(Tr),Ir(Sr),Cr(Sr,e)):Ir(Tr),Cr(Tr,n)}var Dr=null,Fr=!1,jr=!1;function Qr(e){null===Dr?Dr=[e]:Dr.push(e)}function Ur(){if(!jr&&null!==Dr){jr=!0;var e=0,t=At;try{var n=Dr;for(At=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Dr=null,Fr=!1}catch(r){throw null!==Dr&&(Dr=Dr.slice(e+1)),Xe($e,Ur),r}finally{At=t,jr=!1}}return null}var Vr=[],qr=0,Gr=null,Hr=0,Xr=[],Wr=0,Yr=null,Zr=1,Kr="";function Jr(e,t){Vr[qr++]=Hr,Vr[qr++]=Gr,Gr=e,Hr=t}function $r(e,t,n){Xr[Wr++]=Zr,Xr[Wr++]=Kr,Xr[Wr++]=Yr,Yr=e;var i=Zr;e=Kr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var a=32-ot(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Zr=1<<32-ot(t)+r|n<<r|i,Kr=a+e}else Zr=1<<a|n<<r|i,Kr=e}function ea(e){null!==e.return&&(Jr(e,1),$r(e,1,0))}function ta(e){for(;e===Gr;)Gr=Vr[--qr],Vr[qr]=null,Hr=Vr[--qr],Vr[qr]=null;for(;e===Yr;)Yr=Xr[--Wr],Xr[Wr]=null,Kr=Xr[--Wr],Xr[Wr]=null,Zr=Xr[--Wr],Xr[Wr]=null}var na=null,ia=null,ra=!1,aa=null;function oa(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Zr,overflow:Kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ra){var t=ia;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ur(n.nextSibling);var i=na;t&&sa(e,t)?oa(i,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ra)return ca(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ur(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?ur(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ia;e;)e=ur(e.nextSibling)}function fa(){ia=na=null,ra=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ga=_.ReactCurrentBatchConfig;function ma(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function Aa(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Bu(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Ou(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var a=n.type;return a===w?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&va(a)===t.type)?((i=r(t,n.props)).ref=ma(e,t,n),i.return=e,i):((i=Lu(n.type,n.key,n.props,null,e.mode,i)).ref=ma(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Du(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,a){return null===t||7!==t.tag?((t=Ru(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ou(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=ma(e,null,t),n.return=e,n;case b:return(t=Du(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?u(e,t,n,i):null;case b:return n.key===r?c(e,t,n,i):null;case M:return f(e,t,(r=n._init)(n._payload),i)}if(te(n)||R(n))return null!==r?null:h(e,t,n,i,null);ya(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case b:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case M:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||R(i))return h(t,e=e.get(n)||null,i,r,null);ya(t,i)}return null}function g(r,a,s,l){for(var u=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(r,h,s[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(r,h),a=o(y,a,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===s.length)return n(r,h),ra&&Jr(r,g),u;if(null===h){for(;g<s.length;g++)null!==(h=d(r,s[g],l))&&(a=o(h,a,g),null===c?u=h:c.sibling=h,c=h);return ra&&Jr(r,g),u}for(h=i(r,h);g<s.length;g++)null!==(m=p(h,r,g,s[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(r,e)})),ra&&Jr(r,g),u}function m(r,s,l,u){var c=R(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var A=f(r,g,v.value,u);if(null===A){null===g&&(g=y);break}e&&g&&null===A.alternate&&t(r,g),s=o(A,s,m),null===h?c=A:h.sibling=A,h=A,g=y}if(v.done)return n(r,g),ra&&Jr(r,m),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(r,v.value,u))&&(s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return ra&&Jr(r,m),c}for(g=i(r,g);!v.done;m++,v=l.next())null!==(v=p(g,r,m,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(r,e)})),ra&&Jr(r,m),c}return function e(i,a,o,l){if("object"===typeof o&&null!==o&&o.type===w&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===w){if(7===c.tag){n(i,c.sibling),(a=r(c,o.props.children)).return=i,i=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&va(u)===c.type){n(i,c.sibling),(a=r(c,o.props)).ref=ma(i,c,o),a.return=i,i=a;break e}n(i,c);break}t(i,c),c=c.sibling}o.type===w?((a=Ru(o.props.children,i.mode,l,o.key)).return=i,i=a):((l=Lu(o.type,o.key,o.props,null,i.mode,l)).ref=ma(i,a,o),l.return=i,i=l)}return s(i);case b:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(i,a.sibling),(a=r(a,o.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=Du(o,i.mode,l)).return=i,i=a}return s(i);case M:return e(i,a,(c=o._init)(o._payload),l)}if(te(o))return g(i,a,o,l);if(R(o))return m(i,a,o,l);ya(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,o)).return=i,i=a):(n(i,a),(a=Ou(o,i.mode,l)).return=i,i=a),s(i)):n(i,a)}}var _a=Aa(!0),xa=Aa(!1),ba=Er(null),wa=null,Ea=null,Ia=null;function Ca(){Ia=Ea=wa=null}function ka(e){var t=ba.current;Ir(ba),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){wa=e,Ia=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(As=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(Ia!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===wa)throw Error(a(308));Ea=e,wa.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Na=null;function Ma(e){null===Na?Na=[e]:Na.push(e)}function Ba(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Ma(t)):(n.next=r.next,r.next=n),t.interleaved=n,La(e,i)}function La(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function za(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Sl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,La(e,n)}return null===(r=i.interleaved)?(t.next=t,Ma(i)):(t.next=r.next,r.next=t),i.interleaved=t,La(e,n)}function ja(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Qa(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,i){var r=e.updateQueue;Ra=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var h=r.baseState;for(o=0,c=u=l=null,s=a;;){var d=s.lane,f=s.eventTime;if((i&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=O({},h,d);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(d=s).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);zl|=o,e.lanes=o,e.memoizedState=h}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var qa={},Ga=Er(qa),Ha=Er(qa),Xa=Er(qa);function Wa(e){if(e===qa)throw Error(a(174));return e}function Ya(e,t){switch(Cr(Xa,t),Cr(Ha,e),Cr(Ga,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ir(Ga),Cr(Ga,t)}function Za(){Ir(Ga),Ir(Ha),Ir(Xa)}function Ka(e){Wa(Xa.current);var t=Wa(Ga.current),n=le(t,e.type);t!==n&&(Cr(Ha,e),Cr(Ga,n))}function Ja(e){Ha.current===e&&(Ir(Ga),Ir(Ha))}var $a=Er(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var io=_.ReactCurrentDispatcher,ro=_.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(a(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function mo(e,t,n,i,r,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?$o:es,e=n(i,r),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,io.current=ts,e=n(i,r)}while(co)}if(io.current=Jo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,uo=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function Ao(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function _o(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=so,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=s=null,u=null,c=o;do{var h=c.lane;if((ao&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=i):u=u.next=d,oo.lanes|=h,zl|=h}c=c.next}while(null!==c&&c!==o);null===u?s=i:u.next=l,si(i,t.memoizedState)||(As=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,oo.lanes|=o,zl|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bo(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);si(o,t.memoizedState)||(As=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function wo(){}function Eo(e,t){var n=oo,i=Ao(),r=t(),o=!si(i.memoizedState,r);if(o&&(i.memoizedState=r,As=!0),i=i.queue,zo(ko.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,No(9,Co.bind(null,n,i,r,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&ao)||Io(n,t,r)}return r}function Io(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,i){t.value=n,t.getSnapshot=i,So(t)&&To(e)}function ko(e,t,n){return n((function(){So(t)&&To(e)}))}function So(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function To(e){var t=La(e,1);null!==t&&nu(t,e,1,-1)}function Po(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[t.memoizedState,e]}function No(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Mo(){return Ao().memoizedState}function Bo(e,t,n,i){var r=vo();oo.flags|=e,r.memoizedState=No(1|t,n,void 0,void 0===i?null:i)}function Lo(e,t,n,i){var r=Ao();i=void 0===i?null:i;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==i&&go(i,o.deps))return void(r.memoizedState=No(t,n,a,i))}oo.flags|=e,r.memoizedState=No(1|t,n,a,i)}function Ro(e,t){return Bo(8390656,8,e,t)}function zo(e,t){return Lo(2048,8,e,t)}function Oo(e,t){return Lo(4,2,e,t)}function Do(e,t){return Lo(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Fo.bind(null,t,e),n)}function Qo(){}function Uo(e,t){var n=Ao();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&go(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Vo(e,t){var n=Ao();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&go(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,As=!0),e.memoizedState=n):(si(n,t)||(n=gt(),oo.lanes|=n,zl|=n,e.baseState=!0),t)}function Go(e,t){var n=At;At=0!==n&&4>n?n:4,e(!0);var i=ro.transition;ro.transition={};try{e(!1),t()}finally{At=n,ro.transition=i}}function Ho(){return Ao().memoizedState}function Xo(e,t,n){var i=tu(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Zo(t,n);else if(null!==(n=Ba(e,t,n,i))){nu(n,e,i,eu()),Ko(n,t,i)}}function Wo(e,t,n){var i=tu(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Zo(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,o)){var l=t.interleaved;return null===l?(r.next=r,Ma(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(u){}null!==(n=Ba(e,t,r,i))&&(nu(n,e,i,r=eu()),Ko(n,t,i))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Zo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ko(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:Pa,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},$o={readContext:Pa,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Ro,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=vo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Xo.bind(null,oo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Po,useDebugValue:Qo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Go.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=oo,r=vo();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));0!==(30&ao)||Io(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Ro(ko.bind(null,i,o,e),[e]),i.flags|=2048,No(9,Co.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Tl.identifierPrefix;if(ra){var n=Kr;t=":"+t+"R"+(n=(Zr&~(1<<32-ot(Zr)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Pa,useCallback:Uo,useContext:Pa,useEffect:zo,useImperativeHandle:jo,useInsertionEffect:Oo,useLayoutEffect:Do,useMemo:Vo,useReducer:xo,useRef:Mo,useState:function(){return xo(_o)},useDebugValue:Qo,useDeferredValue:function(e){return qo(Ao(),so.memoizedState,e)},useTransition:function(){return[xo(_o)[0],Ao().memoizedState]},useMutableSource:wo,useSyncExternalStore:Eo,useId:Ho,unstable_isNewReconciler:!1},ts={readContext:Pa,useCallback:Uo,useContext:Pa,useEffect:zo,useImperativeHandle:jo,useInsertionEffect:Oo,useLayoutEffect:Do,useMemo:Vo,useReducer:bo,useRef:Mo,useState:function(){return bo(_o)},useDebugValue:Qo,useDeferredValue:function(e){var t=Ao();return null===so?t.memoizedState=e:qo(t,so.memoizedState,e)},useTransition:function(){return[bo(_o)[0],Ao().memoizedState]},useMutableSource:wo,useSyncExternalStore:Eo,useId:Ho,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function is(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),a=Da(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,r))&&(nu(t,e,r,i),ja(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),a=Da(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,r))&&(nu(t,e,r,i),ja(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),i=tu(e),r=Da(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Fa(e,r,i))&&(nu(t,e,i,n),ja(t,e,i))}};function as(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,a))}function os(e,t,n){var i=!1,r=kr,a=t.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(r=Mr(t)?Pr:Sr.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Nr(e,r):kr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},za(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Pa(a):(a=Mr(t)?Pr:Sr.current,r.context=Nr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(is(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rs.enqueueReplaceState(r,r.state,null),Ua(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",i=t;do{n+=Q(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ql||(ql=!0,Gl=i),hs(0,t)},n}function ps(e,t,n){(n=Da(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof i&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ds;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vs=_.ReactCurrentOwner,As=!1;function _s(e,t,n,i){t.child=null===e?xa(t,null,n,i):_a(t,e.child,n,i)}function xs(e,t,n,i,r){n=n.render;var a=t.ref;return Ta(t,r),i=mo(e,t,n,i,a,r),n=yo(),null===e||As?(ra&&n&&ea(t),t.flags|=1,_s(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qs(e,t,r))}function bs(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Mu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ws(e,t,a,i,r))}if(a=e.child,0===(e.lanes&r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return qs(e,t,r)}return t.flags|=1,(e=Bu(a,i)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(As=!1,t.pendingProps=i=a,0===(e.lanes&r))return t.lanes=e.lanes,qs(e,t,r);0!==(131072&e.flags)&&(As=!0)}}return Cs(e,t,n,i,r)}function Es(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Bl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Bl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Cr(Bl,Ml),Ml|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Cr(Bl,Ml),Ml|=i;return _s(e,t,r,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,i,r){var a=Mr(n)?Pr:Sr.current;return a=Nr(t,a),Ta(t,r),n=mo(e,t,n,i,a,r),i=yo(),null===e||As?(ra&&i&&ea(t),t.flags|=1,_s(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qs(e,t,r))}function ks(e,t,n,i,r){if(Mr(n)){var a=!0;zr(t)}else a=!1;if(Ta(t,r),null===t.stateNode)Vs(e,t),os(t,n,i),ls(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Pa(u):u=Nr(t,u=Mr(n)?Pr:Sr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==u)&&ss(t,o,i,u),Ra=!1;var d=t.memoizedState;o.state=d,Ua(t,i,o,r),l=t.memoizedState,s!==i||d!==l||Tr.current||Ra?("function"===typeof c&&(is(t,n,c,i),l=t.memoizedState),(s=Ra||as(t,n,s,i,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pa(l):l=Nr(t,l=Mr(n)?Pr:Sr.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&ss(t,o,i,l),Ra=!1,d=t.memoizedState,o.state=d,Ua(t,i,o,r);var p=t.memoizedState;s!==h||d!==p||Tr.current||Ra?("function"===typeof f&&(is(t,n,f,i),p=t.memoizedState),(u=Ra||as(t,n,u,i,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Ss(e,t,n,i,a,r)}function Ss(e,t,n,i,r,a){Is(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Or(t,n,!1),qs(e,t,a);i=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,s,a)):_s(e,t,s,a),t.memoizedState=i.state,r&&Or(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),Ya(e,t.containerInfo)}function Ps(e,t,n,i,r){return fa(),pa(r),t.flags|=256,_s(e,t,n,i),t.child}var Ns,Ms,Bs,Ls,Rs={dehydrated:null,treeContext:null,retryLane:0};function zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t,n){var i,r=t.pendingProps,o=$a.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Cr($a,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=zu(l,r,0,null),e=Ru(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zs(n),t.memoizedState=Rs,e):Ds(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,i=cs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=zu({mode:"visible",children:i.children},r,0,null),(o=Ru(o,r,s,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&_a(t,e.child,null,s),t.child.memoizedState=zs(s),t.memoizedState=Rs,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Fs(e,t,s,i=cs(o=Error(a(419)),i,void 0))}if(l=0!==(s&e.childLanes),As||l){if(null!==(i=Tl)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==o.retryLane&&(o.retryLane=r,La(e,r),nu(i,e,r,-1))}return gu(),Fs(e,t,s,i=cs(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,ia=ur(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&(Xr[Wr++]=Zr,Xr[Wr++]=Kr,Xr[Wr++]=Yr,Zr=e.id,Kr=e.overflow,Yr=t),t=Ds(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(s){s=r.fallback,l=t.mode,i=(o=e.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=u,t.deletions=null):(r=Bu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==i?s=Bu(i,s):(s=Ru(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?zs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,r}return e=(s=e.child).sibling,r=Bu(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ds(e,t){return(t=zu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,i){return null!==i&&pa(i),_a(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Sa(e.return,t,n)}function Qs(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Us(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(_s(e,t,i.children,n),0!==(2&(i=$a.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Cr($a,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Qs(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===eo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Qs(t,!0,n,null,a);break;case"together":Qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Bu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xs(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Mr(t.type)&&Br(),Hs(t),null;case 3:return i=t.stateNode,Za(),Ir(Tr),Ir(Sr),no(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Ms(e,t),Hs(t),null;case 5:Ja(t);var r=Wa(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)Bs(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return Hs(t),null}if(e=Wa(Ga.current),ha(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[dr]=t,i[fr]=o,e=0!==(1&t.mode),n){case"dialog":Fi("cancel",i),Fi("close",i);break;case"iframe":case"object":case"embed":Fi("load",i);break;case"video":case"audio":for(r=0;r<Ri.length;r++)Fi(Ri[r],i);break;case"source":Fi("error",i);break;case"img":case"image":case"link":Fi("error",i),Fi("load",i);break;case"details":Fi("toggle",i);break;case"input":Z(i,o),Fi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Fi("invalid",i);break;case"textarea":re(i,o),Fi("invalid",i)}for(var l in ve(n,o),r=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,u,e),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,u,e),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fi("scroll",i)}switch(n){case"input":H(i),$(i,o,!0);break;case"textarea":H(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[fr]=i,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ae(n,i),n){case"dialog":Fi("cancel",e),Fi("close",e),r=i;break;case"iframe":case"object":case"embed":Fi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ri.length;r++)Fi(Ri[r],e);r=i;break;case"source":Fi("error",e),r=i;break;case"img":case"image":case"link":Fi("error",e),Fi("load",e),r=i;break;case"details":Fi("toggle",e),r=i;break;case"input":Z(e,i),r=Y(e,i),Fi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=O({},i,{value:void 0}),Fi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Fi("invalid",e)}for(o in ve(n,r),u=r)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fi("scroll",e):null!=c&&A(e,o,c,l))}switch(n){case"input":H(e),$(e,i,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+q(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=Wa(Xa.current),Wa(Ga.current),ha(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(o=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return Hs(t),null;case 13:if(Ir($a),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))da(),fa(),t.flags|=98560,o=!1;else if(o=ha(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[dr]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===Ll&&(Ll=3):gu())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return Za(),Ms(e,t),null===e&&Ui(t.stateNode.containerInfo),Hs(t),null;case 10:return ka(t.type._context),Hs(t),null;case 19:if(Ir($a),null===(o=t.memoizedState))return Hs(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)Gs(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Gs(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr($a,1&$a.current|2),t.child}e=e.sibling}null!==o.tail&&Ke()>Ul&&(t.flags|=128,i=!0,Gs(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=eo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ra)return Hs(t),null}else 2*Ke()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,i=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,n=$a.current,Cr($a,i?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return hu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ws(e,t){switch(ta(t),t.tag){case 1:return Mr(t.type)&&Br(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Za(),Ir(Tr),Ir(Sr),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(Ir($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ir($a),null;case 4:return Za(),null;case 10:return ka(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},Bs=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Wa(Ga.current);var a,o=null;switch(n){case"input":r=Y(e,r),i=Y(e,i),o=[];break;case"select":r=O({},r,{value:void 0}),i=O({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(c in ve(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fi("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ys=!1,Zs=!1,Ks="function"===typeof WeakSet?WeakSet:Set,Js=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Eu(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Eu(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&el(t,n,a)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[fr],delete t[gr],delete t[mr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Zs||$s(n,t);case 6:var i=cl,r=hl;cl=null,dl(e,t,n),hl=r,null!==(cl=i)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Ut(e)):lr(cl,n.stateNode));break;case 4:i=cl,r=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),r=r.next}while(r!==i)}dl(e,t,n);break;case 1:if(!Zs&&($s(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Eu(n,t,s)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Zs=(i=Zs)||null!==n.memoizedState,dl(e,t,n),Zs=i):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach((function(t){var i=Su.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));fl(o,s,r),cl=null,hl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){Eu(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(m){Eu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Eu(e,e.return,m)}}break;case 1:gl(t,e),yl(e),512&i&&null!==n&&$s(n,n.return);break;case 5:if(gl(t,e),yl(e),512&i&&null!==n&&$s(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(m){Eu(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&K(r,o),Ae(l,s);var c=Ae(l,o);for(s=0;s<u.length;s+=2){var h=u[s],d=u[s+1];"style"===h?me(r,d):"dangerouslySetInnerHTML"===h?he(r,d):"children"===h?de(r,d):A(r,h,d,c)}switch(l){case"input":J(r,o);break;case"textarea":ae(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(m){Eu(e,e.return,m)}}break;case 6:if(gl(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(m){Eu(e,e.return,m)}}break;case 3:if(gl(t,e),yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Eu(e,e.return,m)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Ql=Ke())),4&i&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||h,gl(t,e),Zs=c):gl(t,e),yl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Js=e,h=e.child;null!==h;){for(d=Js=h;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:$s(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){i=f,n=f.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Eu(i,n,m)}}break;case 5:$s(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Js=p):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,c?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",s))}catch(m){Eu(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Eu(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&i&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),ul(e,sl(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Eu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,Al(e,t,n)}function Al(e,t,n){for(var i=0!==(1&e.mode);null!==Js;){var r=Js,a=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Ys;if(!o){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Ys;var u=Zs;if(Ys=o,(Zs=l)&&!u)for(Js=r;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?bl(r):null!==l?(l.return=o,Js=l):bl(r);for(;null!==a;)Js=a,Al(a,t,n),a=a.sibling;Js=r,Ys=s,Zs=u}_l(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Js=a):_l(e)}}function _l(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Zs)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(a(163))}Zs||512&t.flags&&rl(t)}catch(f){Eu(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function bl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Eu(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Eu(t,r,l)}}var a=t.return;try{rl(t)}catch(l){Eu(t,a,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){Eu(t,o,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var wl,El=Math.ceil,Il=_.ReactCurrentDispatcher,Cl=_.ReactCurrentOwner,kl=_.ReactCurrentBatchConfig,Sl=0,Tl=null,Pl=null,Nl=0,Ml=0,Bl=Er(0),Ll=0,Rl=null,zl=0,Ol=0,Dl=0,Fl=null,jl=null,Ql=0,Ul=1/0,Vl=null,ql=!1,Gl=null,Hl=null,Xl=!1,Wl=null,Yl=0,Zl=0,Kl=null,Jl=-1,$l=0;function eu(){return 0!==(6&Sl)?Ke():-1!==Jl?Jl:Jl=Ke()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Sl)&&0!==Nl?Nl&-Nl:null!==ga.transition?(0===$l&&($l=gt()),$l):0!==(e=At)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nu(e,t,n,i){if(50<Zl)throw Zl=0,Kl=null,Error(a(185));yt(e,n,i),0!==(2&Sl)&&e===Tl||(e===Tl&&(0===(2&Sl)&&(Ol|=n),4===Ll&&su(e,Nl)),iu(e,i),1===n&&0===Sl&&0===(1&t.mode)&&(Ul=Ke()+500,Fr&&Ur()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var i=dt(e,e===Tl?Nl:0);if(0===i)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Fr=!0,Qr(e)}(lu.bind(null,e)):Qr(lu.bind(null,e)),or((function(){0===(6&Sl)&&Ur()})),n=null;else{switch(_t(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Tu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Jl=-1,$l=0,0!==(6&Sl))throw Error(a(327));var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var i=dt(e,e===Tl?Nl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=mu(e,i);else{t=i;var r=Sl;Sl|=2;var o=pu();for(Tl===e&&Nl===t||(Vl=null,Ul=Ke()+500,du(e,t));;)try{vu();break}catch(l){fu(e,l)}Ca(),Il.current=o,Sl=r,null!==Pl?t=0:(Tl=null,Nl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=au(e,r))),1===t)throw n=Rl,du(e,0),su(e,i),iu(e,Ke()),n;if(6===t)su(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!si(a(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=mu(e,i))&&(0!==(o=pt(e))&&(i=o,t=au(e,o))),1===t))throw n=Rl,du(e,0),su(e,i),iu(e,Ke()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:xu(e,jl,Vl);break;case 3:if(su(e,i),(130023424&i)===i&&10<(t=Ql+500-Ke())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){eu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(xu.bind(null,e,jl,Vl),t);break}xu(e,jl,Vl);break;case 4:if(su(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-ot(i);o=1<<s,(s=t[s])>r&&(r=s),i&=~o}if(i=r,10<(i=(120>(i=Ke()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*El(i/1960))-i)){e.timeoutHandle=ir(xu.bind(null,e,jl,Vl),i);break}xu(e,jl,Vl);break;default:throw Error(a(329))}}}return iu(e,Ke()),e.callbackNode===n?ru.bind(null,e):null}function au(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=mu(e,t))&&(t=jl,jl=n,null!==t&&ou(t)),e}function ou(e){null===jl?jl=e:jl.push.apply(jl,e)}function su(e,t){for(t&=~Dl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function lu(e){if(0!==(6&Sl))throw Error(a(327));bu();var t=dt(e,0);if(0===(1&t))return iu(e,Ke()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=au(e,i))}if(1===n)throw n=Rl,du(e,0),su(e,t),iu(e,Ke()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,jl,Vl),iu(e,Ke()),null}function uu(e,t){var n=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=n)&&(Ul=Ke()+500,Fr&&Ur())}}function cu(e){null!==Wl&&0===Wl.tag&&0===(6&Sl)&&bu();var t=Sl;Sl|=1;var n=kl.transition,i=At;try{if(kl.transition=null,At=1,e)return e()}finally{At=i,kl.transition=n,0===(6&(Sl=t))&&Ur()}}function hu(){Ml=Bl.current,Ir(Bl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Pl)for(n=Pl.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Br();break;case 3:Za(),Ir(Tr),Ir(Sr),no();break;case 5:Ja(i);break;case 4:Za();break;case 13:case 19:Ir($a);break;case 10:ka(i.type._context);break;case 22:case 23:hu()}n=n.return}if(Tl=e,Pl=e=Bu(e.current,null),Nl=Ml=t,Ll=0,Rl=null,Dl=Ol=zl=0,jl=Fl=null,null!==Na){for(t=0;t<Na.length;t++)if(null!==(i=(n=Na[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var o=a.next;a.next=r,i.next=o}n.pending=i}Na=null}return e}function fu(e,t){for(;;){var n=Pl;try{if(Ca(),io.current=Jo,uo){for(var i=oo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}uo=!1}if(ao=0,lo=so=oo=null,co=!1,ho=0,Cl.current=null,null===n||null===n.return){Ll=1,Rl=t,Pl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Nl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(o,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){gs(o,c,t),gu();break e}u=Error(a(426))}else if(ra&&1&l.mode){var y=ms(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),pa(us(u,l));break e}}o=u=us(u,l),4!==Ll&&(Ll=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Qa(o,fs(0,u,t));break e;case 1:l=u;var v=o.type,A=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==A&&"function"===typeof A.componentDidCatch&&(null===Hl||!Hl.has(A)))){o.flags|=65536,t&=-t,o.lanes|=t,Qa(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}_u(n)}catch(_){t=_,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pu(){var e=Il.current;return Il.current=Jo,null===e?Jo:e}function gu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Tl||0===(268435455&zl)&&0===(268435455&Ol)||su(Tl,Nl)}function mu(e,t){var n=Sl;Sl|=2;var i=pu();for(Tl===e&&Nl===t||(Vl=null,du(e,t));;)try{yu();break}catch(r){fu(e,r)}if(Ca(),Sl=n,Il.current=i,null!==Pl)throw Error(a(261));return Tl=null,Nl=0,Ll}function yu(){for(;null!==Pl;)Au(Pl)}function vu(){for(;null!==Pl&&!Ye();)Au(Pl)}function Au(e){var t=wl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?_u(e):Pl=t,Cl.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Ml)))return void(Pl=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function xu(e,t,n){var i=At,r=kl.transition;try{kl.transition=null,At=1,function(e,t,n,i){do{bu()}while(null!==Wl);if(0!==(6&Sl))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,o),e===Tl&&(Pl=Tl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Tu(tt,(function(){return bu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=kl.transition,kl.transition=null;var s=At;At=1;var l=Sl;Sl|=4,Cl.current=null,function(e,t){if(er=qt,fi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=s+r),d!==o||0!==i&&3!==d.nodeType||(u=s+i),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===r&&(l=s),f===o&&++h===i&&(u=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,A=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(x){Eu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}g=tl,tl=!1}(e,n),ml(n,e),pi(tr),qt=!!er,tr=er=null,e.current=n,vl(n,e,r),Ze(),Sl=l,At=s,kl.transition=o}else e.current=n;if(Xl&&(Xl=!1,Wl=e,Yl=r),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Ke()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ql)throw ql=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&bu(),o=e.pendingLanes,0!==(1&o)?e===Kl?Zl++:(Zl=0,Kl=e):Zl=0,Ur()}(e,t,n,i)}finally{kl.transition=r,At=i}return null}function bu(){if(null!==Wl){var e=_t(Yl),t=kl.transition,n=At;try{if(kl.transition=null,At=16>e?16:e,null===Wl)var i=!1;else{if(e=Wl,Wl=null,Yl=0,0!==(6&Sl))throw Error(a(331));var r=Sl;for(Sl|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Js=d;else for(;null!==Js;){var f=(h=Js).sibling,p=h.return;if(al(h),h===c){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Js=v;break e}Js=o.return}}var A=e.current;for(Js=A;null!==Js;){var _=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Js=_;else e:for(s=A;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(b){Eu(l,l.return,b)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Sl=r,Ur(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(b){}i=!0}return i}finally{At=n,kl.transition=t}}return!1}function wu(e,t,n){e=Fa(e,t=fs(0,t=us(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),iu(e,t))}function Eu(e,t,n){if(3===e.tag)wu(e,e,n);else for(;null!==t;){if(3===t.tag){wu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Hl||!Hl.has(i))){t=Fa(t,e=ps(t,e=us(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),iu(t,e));break}}t=t.return}}function Iu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Nl&n)===n&&(4===Ll||3===Ll&&(130023424&Nl)===Nl&&500>Ke()-Ql?du(e,0):Dl|=n),iu(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=La(e,t))&&(yt(e,t,n),iu(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Su(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Cu(e,n)}function Tu(e,t){return Xe(e,t)}function Pu(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,i){return new Pu(e,t,n,i)}function Mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)Mu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return Ru(n.children,r,o,t);case E:s=8,r|=8;break;case I:return(e=Nu(12,n,t,2|r)).elementType=I,e.lanes=o,e;case T:return(e=Nu(13,n,t,r)).elementType=T,e.lanes=o,e;case P:return(e=Nu(19,n,t,r)).elementType=P,e.lanes=o,e;case B:return zu(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case k:s=9;break e;case S:s=11;break e;case N:s=14;break e;case M:s=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nu(s,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Ru(e,t,n,i){return(e=Nu(7,e,i,t)).lanes=n,e}function zu(e,t,n,i){return(e=Nu(22,e,i,t)).elementType=B,e.lanes=n,e.stateNode={isHidden:!1},e}function Ou(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Du(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,i,r,a,o,s,l){return e=new Fu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},za(a),e}function Qu(e){if(!e)return kr;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Mr(n))return Rr(e,n,t)}return t}function Uu(e,t,n,i,r,a,o,s,l){return(e=ju(n,i,!0,e,0,a,0,s,l)).context=Qu(null),n=e.current,(a=Da(i=eu(),r=tu(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,r),e.current.lanes=r,yt(e,r,i),iu(e,i),e}function Vu(e,t,n,i){var r=t.current,a=eu(),o=tu(r);return n=Qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Fa(r,t,o))&&(nu(e,r,o,a),ja(e,r,o)),o}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Tr.current)As=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return As=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),fa();break;case 5:Ka(t);break;case 1:Mr(t.type)&&zr(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Cr(ba,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Cr($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Os(e,t,n):(Cr($a,1&$a.current),null!==(e=qs(e,t,n))?e.sibling:null);Cr($a,1&$a.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Us(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr($a,$a.current),i)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return qs(e,t,n)}(e,t,n);As=0!==(131072&e.flags)}else As=!1,ra&&0!==(1048576&t.flags)&&$r(t,Hr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Vs(e,t),e=t.pendingProps;var r=Nr(t,Sr.current);Ta(t,n),r=mo(null,t,i,e,r,n);var o=yo();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(i)?(o=!0,zr(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,za(t),r.updater=rs,t.stateNode=r,r._reactInternals=t,ls(t,i,e,n),t=Ss(null,t,i,!0,o,n)):(t.tag=0,ra&&o&&ea(t),_s(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Mu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===N)return 14}return 2}(i),e=ns(i,e),r){case 0:t=Cs(null,t,i,e,n);break e;case 1:t=ks(null,t,i,e,n);break e;case 11:t=xs(null,t,i,e,n);break e;case 14:t=bs(null,t,i,ns(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Cs(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 1:return i=t.type,r=t.pendingProps,ks(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 3:e:{if(Ts(t),null===e)throw Error(a(387));i=t.pendingProps,r=(o=t.memoizedState).element,Oa(e,t),Ua(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,i,n,r=us(Error(a(423)),t));break e}if(i!==r){t=Ps(e,t,i,n,r=us(Error(a(424)),t));break e}for(ia=ur(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=xa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),i===r){t=qs(e,t,n);break e}_s(e,t,i,n)}t=t.child}return t;case 5:return Ka(t),null===e&&ua(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==o&&nr(i,o)&&(t.flags|=32),Is(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Os(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=_a(t,null,i,n):_s(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,xs(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,Cr(ba,i._currentValue),i._currentValue=s,null!==o)if(si(o.value,s)){if(o.children===r.children&&!Tr.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===o.tag){(u=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Sa(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ta(t,n),i=i(r=Pa(r)),t.flags|=1,_s(e,t,i,n),t.child;case 14:return r=ns(i=t.type,t.pendingProps),bs(e,t,i,r=ns(i.type,r),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ns(i,r),Vs(e,t),t.tag=1,Mr(i)?(e=!0,zr(t)):e=!1,Ta(t,n),os(t,i,r),ls(t,i,r,n),Ss(null,t,i,!0,e,n);case 19:return Us(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Xu="function"===typeof reportError?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function $u(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof r){var s=r;r=function(){var e=qu(o);s.call(e)}}Vu(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var a=i;i=function(){var e=qu(o);a.call(e)}}var o=Uu(t,i,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[pr]=o.current,Ui(8===e.nodeType?e.parentNode:e),cu(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=qu(l);s.call(e)}}var l=ju(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pr]=l.current,Ui(8===e.nodeType?e.parentNode:e),cu((function(){Vu(t,l,n,i)})),l}(n,t,e,r,i);return qu(o)}Yu.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vu(e,t,null,null)},Yu.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Vu(null,e,null,null)})),t[pr]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Ot(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),iu(t,Ke()),0===(6&Sl)&&(Ul=Ke()+500,Ur()))}break;case 13:cu((function(){var t=La(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Hu(e,1)}},bt=function(e){if(13===e.tag){var t=La(e,134217728);if(null!==t)nu(t,e,134217728,eu());Hu(e,134217728)}},wt=function(e){if(13===e.tag){var t=tu(e),n=La(e,t);if(null!==n)nu(n,e,t,eu());Hu(e,t)}},Et=function(){return At},It=function(e,t){var n=At;try{return At=e,t()}finally{At=n}},be=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=xr(i);if(!r)throw Error(a(90));X(i),J(i,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=uu,Te=cu;var ec={usingClientEntryPoint:!1,Events:[Ar,_r,xr,Ce,ke,uu]},tc={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{rt=ic.inject(nc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zu(e))throw Error(a(299));var n=!1,i="",r=Xu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Ui(8===e.nodeType?e.parentNode:e),new Wu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Ku(t))throw Error(a(200));return $u(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",s=Xu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,r,0,o,s),e[pr]=t.current,Ui(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yu(t)},t.render=function(e,t,n){if(!Ku(t))throw Error(a(200));return $u(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ku(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){$u(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ku(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $u(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var i=n(950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var i=n(43),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,a={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:u,ref:c,props:a,_owner:s.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function A(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=A.prototype=new v;_.constructor=A,g(_,y.prototype),_.isPureReactComponent=!0;var x=Array.isArray,b=Object.prototype.hasOwnProperty,w={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,i){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!E.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,r,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===a?"."+S(l,0):a,x(o)?(r="",null!=e&&(r=e.replace(k,"$&/")+"/"),T(o,t,r,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",x(e))for(var u=0;u<e.length;u++){var c=a+S(s=e[u],u);l+=T(s,t,r,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,r,c=a+S(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var i=[],r=0;return T(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},B={transition:null},L={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:B,ReactCurrentOwner:w};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=o,t.PureComponent=A,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=R,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)b.call(t,u)&&!E.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=B.transition;B.transition={};try{e()}finally{B.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<r&&0>a(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[s]=n,i=s);else{if(!(u<r&&0>a(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,A="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function x(e){if(m=!1,_(e),!g)if(null!==i(u))g=!0,B(b);else{var t=i(c);null!==t&&L(x,t.startTime-e)}}function b(e,n){g=!1,m&&(m=!1,v(C),C=-1),p=!0;var a=f;try{for(_(n),d=i(u);null!==d&&(!(d.expirationTime>n)||e&&!T());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===i(u)&&r(u),_(n)}else r(u);d=i(u)}if(null!==d)var l=!0;else{var h=i(c);null!==h&&L(x,h.startTime-n),l=!1}return l}finally{d=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,E=!1,I=null,C=-1,k=5,S=-1;function T(){return!(t.unstable_now()-S<k)}function P(){if(null!==I){var e=t.unstable_now();S=e;var n=!0;try{n=I(!0,e)}finally{n?w():(E=!1,I=null)}}else E=!1}if("function"===typeof A)w=function(){A(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,M=N.port2;N.port1.onmessage=P,w=function(){M.postMessage(null)}}else w=function(){y(P,0)};function B(e){I=e,E||(E=!0,w())}function L(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,B(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===i(u)&&e===i(c)&&(m?(v(C),C=-1):m=!0,L(x,a-o))):(e.sortIndex=s,n(u,e),g||p||(g=!0,B(b))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},66:function(e){e.exports=function(){"use strict";var e={},t={};function n(n,i,r){if(t[n]=r,"index"===n){var a="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",o={};return t.shared(o),t.index(e,o),"undefined"!==typeof window&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([a],{type:"text/javascript"}))),e}}return n("shared",["exports"],(function(e){function t(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"==typeof SuppressedError&&SuppressedError;var i=r;function r(e,t){this.x=e,this.y=t}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),i=Math.sin(e),r=t.y+i*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-i*(this.y-t.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e};var a=n(i),o=s;function s(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}s.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var r=this.sampleCurveX(n)-e;if(Math.abs(r)<t)return n;var a=this.sampleCurveDerivativeX(n);if(Math.abs(a)<1e-6)break;n-=r/a}var o=0,s=1;for(n=e,i=0;i<20&&(r=this.sampleCurveX(n),!(Math.abs(r-e)<t));i++)e>r?o=n:s=n,n=.5*(s-o)+o;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var l=n(o);let u,c;function h(){return null==u&&(u="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),u}function d(){if(null==c&&(c=!1,h())){const e=5,t=new OffscreenCanvas(e,e).getContext("2d",{willReadFrequently:!0});if(t){for(let i=0;i<e*e;i++){const n=4*i;t.fillStyle="rgb(".concat(n,",").concat(n+1,",").concat(n+2,")"),t.fillRect(i%e,Math.floor(i/e),1,1)}const n=t.getImageData(0,0,e,e).data;for(let t=0;t<e*e*4;t++)if(t%4!=3&&n[t]!==t){c=!0;break}}}return c||!1}function f(e,t,n,i){const r=new l(e,t,n,i);return e=>r.solve(e)}const p=f(.25,.1,.25,1);function g(e,t,n){return Math.min(n,Math.max(t,e))}function m(e,t,n){const i=n-t,r=((e-t)%i+i)%i+t;return r===t?n:r}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)for(const t in r)e[t]=r[t];return e}let v=1;function A(e,t,n){const i={};for(const r in e)i[r]=t.call(this,e[r],r,e);return i}function _(e,t,n){const i={};for(const r in e)t.call(this,e[r],r,e)&&(i[r]=e[r]);return i}function x(e){return Array.isArray(e)?e.map(x):"object"==typeof e&&e?A(e,x):e}const b={};function w(e){b[e]||("undefined"!=typeof console&&console.warn(e),b[e]=!0)}function E(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function I(e){return"undefined"!=typeof WorkerGlobalScope&&void 0!==e&&e instanceof WorkerGlobalScope}let C=null;function k(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}const S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function T(e,n,i,r,a){return t(this,void 0,void 0,(function*(){if("undefined"==typeof VideoFrame)throw new Error("VideoFrame not supported");const t=new VideoFrame(e,{timestamp:0});try{const o=null==t?void 0:t.format;if(!o||!o.startsWith("BGR")&&!o.startsWith("RGB"))throw new Error("Unrecognized format ".concat(o));const s=o.startsWith("BGR"),l=new Uint8ClampedArray(r*a*4);if(yield t.copyTo(l,function(e,t,n,i,r){const a=4*Math.max(-t,0),o=(Math.max(0,n)-n)*i*4+a,s=4*i,l=Math.max(0,t),u=Math.max(0,n);return{rect:{x:l,y:u,width:Math.min(e.width,t+i)-l,height:Math.min(e.height,n+r)-u},layout:[{offset:o,stride:s}]}}(e,n,i,r,a)),s)for(let e=0;e<l.length;e+=4){const t=l[e];l[e]=l[e+2],l[e+2]=t}return l}finally{t.close()}}))}let P,N;const M="AbortError";function B(){return new Error(M)}const L={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function R(e){return L.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))]}const z="global-dispatcher";class O extends Error{constructor(e,t,n,i){super("AJAXError: ".concat(t," (").concat(e,"): ").concat(n)),this.status=e,this.statusText=t,this.url=n,this.body=i}}const D=()=>I(self)?self.worker&&self.worker.referrer:("blob:"===window.location.protocol?window.parent:window).location.href,F=function(e,n){if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){const t=R(e.url);if(t)return t(e,n);if(I(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:e,targetMapId:z},n)}if(!(/^file:/.test(i=e.url)||/^file:/.test(D())&&!/^\w+:/.test(i))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(e,n){return t(this,void 0,void 0,(function*(){const t=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,cache:e.cache,referrer:D(),signal:n.signal});"json"!==e.type||t.headers.has("Accept")||t.headers.set("Accept","application/json");const i=yield fetch(t);if(!i.ok){const t=yield i.blob();throw new O(i.status,i.statusText,e.url,t)}let r;r="arrayBuffer"===e.type||"image"===e.type?i.arrayBuffer():"json"===e.type?i.json():i.text();const a=yield r;if(n.signal.aborted)throw B();return{data:a,cacheControl:i.headers.get("Cache-Control"),expires:i.headers.get("Expires")}}))}(e,n);if(I(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:e,mustQueue:!0,targetMapId:z},n)}var i;return function(e,t){return new Promise(((n,i)=>{var r;const a=new XMLHttpRequest;a.open(e.method||"GET",e.url,!0),"arrayBuffer"!==e.type&&"image"!==e.type||(a.responseType="arraybuffer");for(const t in e.headers)a.setRequestHeader(t,e.headers[t]);"json"===e.type&&(a.responseType="text",(null===(r=e.headers)||void 0===r?void 0:r.Accept)||a.setRequestHeader("Accept","application/json")),a.withCredentials="include"===e.credentials,a.onerror=()=>{i(new Error(a.statusText))},a.onload=()=>{if(!t.signal.aborted)if((a.status>=200&&a.status<300||0===a.status)&&null!==a.response){let t=a.response;if("json"===e.type)try{t=JSON.parse(a.response)}catch(e){return void i(e)}n({data:t,cacheControl:a.getResponseHeader("Cache-Control"),expires:a.getResponseHeader("Expires")})}else{const t=new Blob([a.response],{type:a.getResponseHeader("Content-Type")});i(new O(a.status,a.statusText,e.url,t))}},t.signal.addEventListener("abort",(()=>{a.abort(),i(B())})),a.send(e.body)}))}(e,n)};function j(e){if(!e||e.indexOf("://")<=0||0===e.indexOf("data:image/")||0===e.indexOf("blob:"))return!0;const t=new URL(e),n=window.location;return t.protocol===n.protocol&&t.host===n.host}function Q(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function U(e,t,n){if(n&&n[e]){const i=n[e].indexOf(t);-1!==i&&n[e].splice(i,1)}}class V{constructor(e){y(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.type=e}}class q extends V{constructor(e){super("error",y({error:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}}class G{on(e,t){return this._listeners=this._listeners||{},Q(e,t,this._listeners),this}off(e,t){return U(e,t,this._listeners),U(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},Q(e,t,this._oneTimeListeners),this):new Promise((t=>this.once(e,t)))}fire(e,t){"string"==typeof e&&(e=new V(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const i=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const a of i)U(n,a,this._oneTimeListeners),a.call(this,e);const r=this._eventedParent;r&&(y(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(e))}else e instanceof q&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var H={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const X=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function W(e,t){const n={};for(const i in e)"ref"!==i&&(n[i]=e[i]);return X.forEach((e=>{e in t&&(n[e]=t[e])})),n}function Y(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Y(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Y(e[n],t[n]))return!1;return!0}return e===t}function Z(e,t){e.push(t)}function K(e,t,n){Z(n,{command:"addSource",args:[e,t[e]]})}function J(e,t,n){Z(t,{command:"removeSource",args:[e]}),n[e]=!0}function $(e,t,n,i){J(e,n,i),K(e,t,n)}function ee(e,t,n){let i;for(i in e[n])if(Object.prototype.hasOwnProperty.call(e[n],i)&&"data"!==i&&!Y(e[n][i],t[n][i]))return!1;for(i in t[n])if(Object.prototype.hasOwnProperty.call(t[n],i)&&"data"!==i&&!Y(e[n][i],t[n][i]))return!1;return!0}function te(e,t,n,i,r,a){e=e||{},t=t||{};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(Y(e[o],t[o])||n.push({command:a,args:[i,o,t[o],r]}));for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&!Object.prototype.hasOwnProperty.call(e,o)&&(Y(e[o],t[o])||n.push({command:a,args:[i,o,t[o],r]}))}function ne(e){return e.id}function ie(e,t){return e[t.id]=t,e}class re{constructor(e,t,n,i){this.message=(e?"".concat(e,": "):"")+n,i&&(this.identifier=i),null!=t&&t.__line__&&(this.line=t.__line__)}}function ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)for(const t in r)e[t]=r[t];return e}class oe extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class se{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.parent=e,this.bindings={};for(const[n,i]of t)this.bindings[n]=i}concat(e){return new se(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const le={kind:"null"},ue={kind:"number"},ce={kind:"string"},he={kind:"boolean"},de={kind:"color"},fe={kind:"object"},pe={kind:"value"},ge={kind:"collator"},me={kind:"formatted"},ye={kind:"padding"},ve={kind:"resolvedImage"},Ae={kind:"variableAnchorOffsetCollection"};function _e(e,t){return{kind:"array",itemType:e,N:t}}function xe(e){if("array"===e.kind){const t=xe(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}const be=[le,ue,ce,he,de,me,fe,_e(pe),ye,ve,Ae];function we(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!we(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of be)if(!we(e,t))return null}return"Expected ".concat(xe(e)," but found ").concat(xe(t)," instead.")}function Ee(e,t){return t.some((t=>t.kind===e.kind))}function Ie(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}function Ce(e,t){return"array"===e.kind&&"array"===t.kind?e.itemType.kind===t.itemType.kind&&"number"==typeof e.N:e.kind===t.kind}const ke=.96422,Se=.82521,Te=4/29,Pe=6/29,Ne=3*Pe*Pe,Me=Pe*Pe*Pe,Be=Math.PI/180,Le=180/Math.PI;function Re(e){return(e%=360)<0&&(e+=360),e}function ze(e){let t,n,[i,r,a,o]=e;const s=De((.2225045*(i=Oe(i))+.7168786*(r=Oe(r))+.0606169*(a=Oe(a)))/1);i===r&&r===a?t=n=s:(t=De((.4360747*i+.3850649*r+.1430804*a)/ke),n=De((.0139322*i+.0971045*r+.7141733*a)/Se));const l=116*s-16;return[l<0?0:l,500*(t-s),200*(s-n),o]}function Oe(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function De(e){return e>Me?Math.pow(e,1/3):e/Ne+Te}function Fe(e){let[t,n,i,r]=e,a=(t+16)/116,o=isNaN(n)?a:a+n/500,s=isNaN(i)?a:a-i/200;return a=1*Qe(a),o=ke*Qe(o),s=Se*Qe(s),[je(3.1338561*o-1.6168667*a-.4906146*s),je(-.9787684*o+1.9161415*a+.033454*s),je(.0719453*o-.2289914*a+1.4052427*s),r]}function je(e){return(e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055)<0?0:e>1?1:e}function Qe(e){return e>Pe?e*e*e:Ne*(e-Te)}function Ue(e){return parseInt(e.padEnd(2,e),16)/255}function Ve(e,t){return qe(t?e/100:e,0,1)}function qe(e,t,n){return Math.min(Math.max(t,e),n)}function Ge(e){return!e.some(Number.isNaN)}const He={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Xe{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.r=e,this.g=t,this.b=n,this.a=i,r||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[e,t,n,i]))}static parse(e){if(e instanceof Xe)return e;if("string"!=typeof e)return;const t=function(e){if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];const t=He[e];if(t){const[e,n,i]=t;return[e/255,n/255,i/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){const t=e.length<6?1:2;let n=1;return[Ue(e.slice(n,n+=t)),Ue(e.slice(n,n+=t)),Ue(e.slice(n,n+=t)),Ue(e.slice(n,n+t)||"ff")]}if(e.startsWith("rgb")){const t=e.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(t){const[e,n,i,r,a,o,s,l,u,c,h,d]=t,f=[r||" ",s||" ",c].join("");if("  "===f||"  /"===f||",,"===f||",,,"===f){const e=[i,o,u].join(""),t="%%%"===e?100:""===e?255:0;if(t){const e=[qe(+n/t,0,1),qe(+a/t,0,1),qe(+l/t,0,1),h?Ve(+h,d):1];if(Ge(e))return e}}return}}const n=e.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(n){const[e,t,i,r,a,o,s,l,u]=n,c=[i||" ",a||" ",s].join("");if("  "===c||"  /"===c||",,"===c||",,,"===c){const e=[+t,qe(+r,0,100),qe(+o,0,100),l?Ve(+l,u):1];if(Ge(e))return function(e){let[t,n,i,r]=e;function a(e){const r=(e+t/30)%12,a=n*Math.min(i,1-i);return i-a*Math.max(-1,Math.min(r-3,9-r,1))}return t=Re(t),n/=100,i/=100,[a(0),a(8),a(4),r]}(e)}}}(e);return t?new Xe(...t,!1):void 0}get rgb(){const{r:e,g:t,b:n,a:i}=this,r=i||1/0;return this.overwriteGetter("rgb",[e/r,t/r,n/r,i])}get hcl(){return this.overwriteGetter("hcl",function(e){const[t,n,i,r]=ze(e),a=Math.sqrt(n*n+i*i);return[Math.round(1e4*a)?Re(Math.atan2(i,n)*Le):NaN,a,t,r]}(this.rgb))}get lab(){return this.overwriteGetter("lab",ze(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,n,i]=this.rgb;return"rgba(".concat([e,t,n].map((e=>Math.round(255*e))).join(","),",").concat(i,")")}}Xe.black=new Xe(0,0,0,1),Xe.white=new Xe(1,1,1,1),Xe.transparent=new Xe(0,0,0,0),Xe.red=new Xe(1,0,0,1);class We{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ye{constructor(e,t,n,i,r){this.text=e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=r}}class Ze{constructor(e){this.sections=e}static fromString(e){return new Ze([new Ye(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof Ze?e:Ze.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}}class Ke{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Ke)return e;if("number"==typeof e)return new Ke([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if("number"!=typeof t)return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new Ke(e)}}toString(){return JSON.stringify(this.values)}}const Je=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class $e{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof $e)return e;if(Array.isArray(e)&&!(e.length<1)&&e.length%2==0){for(let t=0;t<e.length;t+=2){const n=e[t],i=e[t+1];if("string"!=typeof n||!Je.has(n))return;if(!Array.isArray(i)||2!==i.length||"number"!=typeof i[0]||"number"!=typeof i[1])return}return new $e(e)}}toString(){return JSON.stringify(this.values)}}class et{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new et({name:e,available:!1}):null}}function tt(e,t,n,i){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:"Invalid rgba value [".concat([e,t,n,i].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof i?[e,t,n,i]:[e,t,n]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function nt(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof Xe||e instanceof We||e instanceof Ze||e instanceof Ke||e instanceof $e||e instanceof et)return!0;if(Array.isArray(e)){for(const t of e)if(!nt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!nt(e[t]))return!1;return!0}return!1}function it(e){if(null===e)return le;if("string"==typeof e)return ce;if("boolean"==typeof e)return he;if("number"==typeof e)return ue;if(e instanceof Xe)return de;if(e instanceof We)return ge;if(e instanceof Ze)return me;if(e instanceof Ke)return ye;if(e instanceof $e)return Ae;if(e instanceof et)return ve;if(Array.isArray(e)){const t=e.length;let n;for(const i of e){const e=it(i);if(n){if(n===e)continue;n=pe;break}n=e}return _e(n||pe,t)}return fe}function rt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Xe||e instanceof Ze||e instanceof Ke||e instanceof $e||e instanceof et?e.toString():JSON.stringify(e)}class at{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found ".concat(e.length-1," instead."));if(!nt(e[1]))return t.error("invalid value");const n=e[1];let i=it(n);const r=t.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new at(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class ot{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const st={string:ce,number:ue,boolean:he,object:fe};class lt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,i=1;const r=e[0];if("array"===r){let r,a;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in st)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=st[n],i++}else r=pe;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],i++}n=_e(r,a)}else{if(!st[r])throw new Error("Types doesn't contain name = ".concat(r));n=st[r]}const a=[];for(;i<e.length;i++){const n=t.parse(e[i],i,pe);if(!n)return null;a.push(n)}return new lt(n,a)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!we(this.type,it(n)))return n;if(t===this.args.length-1)throw new ot("Expected value to be of type ".concat(xe(this.type),", but found ").concat(xe(it(n))," instead."))}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const ut={"to-boolean":he,"to-color":de,"to-number":ue,"to-string":ce};class ct{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(!ut[n])throw new Error("Can't parse ".concat(n," as it is not part of the known types"));if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const i=ut[n],r=[];for(let a=1;a<e.length;a++){const n=t.parse(e[a],a,pe);if(!n)return null;r.push(n)}return new ct(i,r)}evaluate(e){switch(this.type.kind){case"boolean":return Boolean(this.args[0].evaluate(e));case"color":{let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof Xe)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):tt(t[0],t[1],t[2],t[3]),!n))return new Xe(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ot(n||"Could not parse color from value '".concat("string"==typeof t?t:JSON.stringify(t),"'"))}case"padding":{let t;for(const n of this.args){t=n.evaluate(e);const i=Ke.parse(t);if(i)return i}throw new ot("Could not parse padding from value '".concat("string"==typeof t?t:JSON.stringify(t),"'"))}case"variableAnchorOffsetCollection":{let t;for(const n of this.args){t=n.evaluate(e);const i=$e.parse(t);if(i)return i}throw new ot("Could not parse variableAnchorOffsetCollection from value '".concat("string"==typeof t?t:JSON.stringify(t),"'"))}case"number":{let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const i=Number(t);if(!isNaN(i))return i}throw new ot("Could not convert ".concat(JSON.stringify(t)," to number."))}case"formatted":return Ze.fromString(rt(this.args[0].evaluate(e)));case"resolvedImage":return et.fromString(rt(this.args[0].evaluate(e)));default:return rt(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const ht=["Unknown","Point","LineString","Polygon"];class dt{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?ht[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Xe.parse(e)),t}}class ft{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new se,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];this.registry=e,this.path=n,this.key=n.map((e=>"[".concat(e,"]"))).join(""),this.scope=r,this.errors=a,this.expectedType=i,this._isConstant=t}parse(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,n,i)._parse(e,r):this._parse(e,r)}_parse(e,t){function n(e,t,n){return"assert"===n?new lt(t,[e]):"coerce"===n?new ct(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found ".concat(typeof i,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;const r=this.registry[i];if(r){let i=r.parse(e,this);if(!i)return null;if(this.expectedType){const e=this.expectedType,r=i.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==r.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==r.kind&&"string"!==r.kind)if("padding"!==e.kind||"value"!==r.kind&&"number"!==r.kind&&"array"!==r.kind)if("variableAnchorOffsetCollection"!==e.kind||"value"!==r.kind&&"array"!==r.kind){if(this.checkSubtype(e,r))return null}else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"assert")}if(!(i instanceof at)&&"resolvedImage"!==i.type.kind&&this._isConstant(i)){const t=new dt;try{i=new at(i.type,i.evaluate(t))}catch(e){return this.error(e.message),null}}return i}return this.error('Unknown expression "'.concat(i,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof e," instead."))}concat(e,t,n){const i="number"==typeof e?this.path.concat(e):this.path,r=n?this.scope.concat(n):this.scope;return new ft(this.registry,this._isConstant,i,t||null,r,this.errors)}error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r="".concat(this.key).concat(n.map((e=>"[".concat(e,"]"))).join(""));this.errors.push(new oe(r,e))}checkSubtype(e,t){const n=we(e,t);return n&&this.error(n),n}}class pt{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found ".concat(e.length-1," instead."));const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)return t.error("Expected string, but found ".concat(typeof i," instead."),r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const a=t.parse(e[r+1],r+1);if(!a)return null;n.push([i,a])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new pt(n,i):null}outputDefined(){return this.result.outputDefined()}}class gt{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new gt(n,t.scope.get(n)):t.error('Unknown variable "'.concat(n,'". Make sure "').concat(n,'" has been bound in an enclosing "let" expression before using it.'),1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class mt{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,ue),i=t.parse(e[2],2,_e(t.expectedType||pe));return n&&i?new mt(i.type.itemType,n,i):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new ot("Array index out of bounds: ".concat(t," < 0."));if(t>=n.length)throw new ot("Array index out of bounds: ".concat(t," > ").concat(n.length-1,"."));if(t!==Math.floor(t))throw new ot("Array index must be an integer, but found ".concat(t," instead."));return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class yt{constructor(e,t){this.type=he,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,pe),i=t.parse(e[2],2,pe);return n&&i?Ee(n.type,[he,ce,ue,le,pe])?new yt(n,i):t.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(xe(n.type)," instead")):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Ie(t,["boolean","string","number","null"]))throw new ot("Expected first argument to be of type boolean, string, number or null, but found ".concat(xe(it(t))," instead."));if(!Ie(n,["string","array"]))throw new ot("Expected second argument to be of type array or string, but found ".concat(xe(it(n))," instead."));return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class vt{constructor(e,t,n){this.type=ue,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,pe),i=t.parse(e[2],2,pe);if(!n||!i)return null;if(!Ee(n.type,[he,ce,ue,le,pe]))return t.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(xe(n.type)," instead"));if(4===e.length){const r=t.parse(e[3],3,ue);return r?new vt(n,i,r):null}return new vt(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Ie(t,["boolean","string","number","null"]))throw new ot("Expected first argument to be of type boolean, string, number or null, but found ".concat(xe(it(t))," instead."));if(!Ie(n,["string","array"]))throw new ot("Expected second argument to be of type array or string, but found ".concat(xe(it(n))," instead."));if(this.fromIndex){const i=this.fromIndex.evaluate(e);return n.indexOf(t,i)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class At{constructor(e,t,n,i,r,a){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=r,this.otherwise=a}static parse(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);const r={},a=[];for(let l=2;l<e.length-1;l+=2){let o=e[l];const s=e[l+1];Array.isArray(o)||(o=[o]);const u=t.concat(l);if(0===o.length)return u.error("Expected at least one branch label.");for(const e of o){if("number"!=typeof e&&"string"!=typeof e)return u.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof e&&Math.floor(e)!==e)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,it(e)))return null}else n=it(e);if(void 0!==r[String(e)])return u.error("Branch labels must be unique.");r[String(e)]=a.length}const c=t.parse(s,l,i);if(!c)return null;i=i||c.type,a.push(c)}const o=t.parse(e[1],1,pe);if(!o)return null;const s=t.parse(e[e.length-1],e.length-1,i);return s?"value"!==o.type.kind&&t.concat(1).checkSubtype(n,o.type)?null:new At(n,i,o,r,a,s):null}evaluate(e){const t=this.input.evaluate(e);return(it(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}}class _t{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only ".concat(e.length-1,"."));if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i=[];for(let a=1;a<e.length-1;a+=2){const r=t.parse(e[a],a,he);if(!r)return null;const o=t.parse(e[a+1],a+1,n);if(!o)return null;i.push([r,o]),n=n||o.type}const r=t.parse(e[e.length-1],e.length-1,n);if(!r)return null;if(!n)throw new Error("Can't infer output type");return new _t(n,i,r)}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((e=>{let[t,n]=e;return n.outputDefined()}))&&this.otherwise.outputDefined()}}class xt{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,pe),i=t.parse(e[2],2,ue);if(!n||!i)return null;if(!Ee(n.type,[_e(pe),ce,pe]))return t.error("Expected first argument to be of type array or string, but found ".concat(xe(n.type)," instead"));if(4===e.length){const r=t.parse(e[3],3,ue);return r?new xt(n.type,n,i,r):null}return new xt(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Ie(t,["string","array"]))throw new ot("Expected first argument to be of type array or string, but found ".concat(xe(it(t))," instead."));if(this.endIndex){const i=this.endIndex.evaluate(e);return t.slice(n,i)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function bt(e,t){const n=e.length-1;let i,r,a=0,o=n,s=0;for(;a<=o;)if(s=Math.floor((a+o)/2),i=e[s],r=e[s+1],i<=t){if(s===n||t<r)return s;a=s+1}else{if(!(i>t))throw new ot("Input is not a number.");o=s-1}return 0}class wt{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,r]of n)this.labels.push(i),this.outputs.push(r)}static parse(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,ue);if(!n)return null;const i=[];let r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let a=1;a<e.length;a+=2){const n=1===a?-1/0:e[a],o=e[a+1],s=a,l=a+1;if("number"!=typeof n)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(i.length&&i[i.length-1][0]>=n)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const u=t.parse(o,l,r);if(!u)return null;r=r||u.type,i.push([n,u])}return new wt(r,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;return i>=t[r-1]?n[r-1].evaluate(e):n[bt(t,i)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function Et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var It=Ct;function Ct(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}Ct.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var r=this.sampleCurveX(n)-e;if(Math.abs(r)<t)return n;var a=this.sampleCurveDerivativeX(n);if(Math.abs(a)<1e-6)break;n-=r/a}var o=0,s=1;for(n=e,i=0;i<20&&(r=this.sampleCurveX(n),!(Math.abs(r-e)<t));i++)e>r?o=n:s=n,n=.5*(s-o)+o;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var kt=Et(It);function St(e,t,n){return e+n*(t-e)}function Tt(e,t,n){return e.map(((e,i)=>St(e,t[i],n)))}const Pt={number:St,color:function(e,t,n){switch(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb"){case"rgb":{const[i,r,a,o]=Tt(e.rgb,t.rgb,n);return new Xe(i,r,a,o,!1)}case"hcl":{const[i,r,a,o]=e.hcl,[s,l,u,c]=t.hcl;let h,d;if(isNaN(i)||isNaN(s))isNaN(i)?isNaN(s)?h=NaN:(h=s,1!==a&&0!==a||(d=l)):(h=i,1!==u&&0!==u||(d=r));else{let e=s-i;s>i&&e>180?e-=360:s<i&&i-s>180&&(e+=360),h=i+n*e}const[f,p,g,m]=function(e){let[t,n,i,r]=e;return t=isNaN(t)?0:t*Be,Fe([i,Math.cos(t)*n,Math.sin(t)*n,r])}([h,null!=d?d:St(r,l,n),St(a,u,n),St(o,c,n)]);return new Xe(f,p,g,m,!1)}case"lab":{const[i,r,a,o]=Fe(Tt(e.lab,t.lab,n));return new Xe(i,r,a,o,!1)}}},array:Tt,padding:function(e,t,n){return new Ke(Tt(e.values,t.values,n))},variableAnchorOffsetCollection:function(e,t,n){const i=e.values,r=t.values;if(i.length!==r.length)throw new ot("Cannot interpolate values of different length. from: ".concat(e.toString(),", to: ").concat(t.toString()));const a=[];for(let o=0;o<i.length;o+=2){if(i[o]!==r[o])throw new ot("Cannot interpolate values containing mismatched anchors. from[".concat(o,"]: ").concat(i[o],", to[").concat(o,"]: ").concat(r[o]));a.push(i[o]);const[e,t]=i[o+1],[s,l]=r[o+1];a.push([St(e,s,n),St(t,l,n)])}return new $e(a)}};class Nt{constructor(e,t,n,i,r){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[a,o]of r)this.labels.push(a),this.outputs.push(o)}static interpolationFactor(e,t,n,i){let r=0;if("exponential"===e.name)r=Mt(t,e.base,n,i);else if("linear"===e.name)r=Mt(t,1,n,i);else if("cubic-bezier"===e.name){const a=e.controlPoints;r=new kt(a[0],a[1],a[2],a[3]).solve(Mt(t,1,n,i))}return r}static parse(e,t){let[n,i,r,...a]=e;if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const e=i[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:e}}else{if("cubic-bezier"!==i[0])return t.error("Unknown interpolation type ".concat(String(i[0])),1,0);{const e=i.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(r=t.parse(r,2,ue),!r)return null;const o=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=de:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let l=0;l<a.length;l+=2){const e=a[l],n=a[l+1],i=l+3,r=l+4;if("number"!=typeof e)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(o.length&&o[o.length-1][0]>=e)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const u=t.parse(n,r,s);if(!u)return null;s=s||u.type,o.push([e,u])}return Ce(s,ue)||Ce(s,de)||Ce(s,ye)||Ce(s,Ae)||Ce(s,_e(ue))?new Nt(s,n,i,r,o):t.error("Type ".concat(xe(s)," is not interpolatable."))}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);const a=bt(t,i),o=Nt.interpolationFactor(this.interpolation,i,t[a],t[a+1]),s=n[a].evaluate(e),l=n[a+1].evaluate(e);switch(this.operator){case"interpolate":return Pt[this.type.kind](s,l,o);case"interpolate-hcl":return Pt.color(s,l,o,"hcl");case"interpolate-lab":return Pt.color(s,l,o,"lab")}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function Mt(e,t,n,i){const r=i-n,a=e-n;return 0===r?0:1===t?a/r:(Math.pow(t,a)-1)/(Math.pow(t,r)-1)}class Bt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const i=t.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const o of e.slice(1)){const e=t.parse(o,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,r.push(e)}if(!n)throw new Error("No output type");const a=i&&r.some((e=>we(i,e.type)));return new Bt(a?pe:n,r)}evaluate(e){let t,n=null,i=0;for(const r of this.args)if(i++,n=r.evaluate(e),n&&n instanceof et&&!n.available&&(t||(t=n.name),n=null,i===this.args.length&&(n=t)),null!==n)break;return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}function Lt(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Rt(e,t,n,i){return 0===i.compare(t,n)}function zt(e,t,n){const i="=="!==e&&"!="!==e;return class r{constructor(e,t,n){this.type=he,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let a=t.parse(e[1],1,pe);if(!a)return null;if(!Lt(n,a.type))return t.concat(1).error('"'.concat(n,"\" comparisons are not supported for type '").concat(xe(a.type),"'."));let o=t.parse(e[2],2,pe);if(!o)return null;if(!Lt(n,o.type))return t.concat(2).error('"'.concat(n,"\" comparisons are not supported for type '").concat(xe(o.type),"'."));if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '".concat(xe(a.type),"' and '").concat(xe(o.type),"'."));i&&("value"===a.type.kind&&"value"!==o.type.kind?a=new lt(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new lt(a.type,[o])));let s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,ge),!s)return null}return new r(a,o,s)}evaluate(r){const a=this.lhs.evaluate(r),o=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){const t=it(a),n=it(o);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new ot('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(t.kind,", ").concat(n.kind,") instead."))}if(this.collator&&!i&&this.hasUntypedArgument){const e=it(a),n=it(o);if("string"!==e.kind||"string"!==n.kind)return t(r,a,o)}return this.collator?n(r,a,o,this.collator.evaluate(r)):t(r,a,o)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}}}const Ot=zt("==",(function(e,t,n){return t===n}),Rt),Dt=zt("!=",(function(e,t,n){return t!==n}),(function(e,t,n,i){return!Rt(0,t,n,i)})),Ft=zt("<",(function(e,t,n){return t<n}),(function(e,t,n,i){return i.compare(t,n)<0})),jt=zt(">",(function(e,t,n){return t>n}),(function(e,t,n,i){return i.compare(t,n)>0})),Qt=zt("<=",(function(e,t,n){return t<=n}),(function(e,t,n,i){return i.compare(t,n)<=0})),Ut=zt(">=",(function(e,t,n){return t>=n}),(function(e,t,n,i){return i.compare(t,n)>=0}));class Vt{constructor(e,t,n){this.type=ge,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,he);if(!i)return null;const r=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,he);if(!r)return null;let a=null;return n.locale&&(a=t.parse(n.locale,1,ce),!a)?null:new Vt(i,r,a)}evaluate(e){return new We(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class qt{constructor(e,t,n,i,r){this.type=ce,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=r}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,ue);if(!n)return null;const i=e[2];if("object"!=typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let r=null;if(i.locale&&(r=t.parse(i.locale,1,ce),!r))return null;let a=null;if(i.currency&&(a=t.parse(i.currency,1,ce),!a))return null;let o=null;if(i["min-fraction-digits"]&&(o=t.parse(i["min-fraction-digits"],1,ue),!o))return null;let s=null;return i["max-fraction-digits"]&&(s=t.parse(i["max-fraction-digits"],1,ue),!s)?null:new qt(n,r,a,o,s)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class Gt{constructor(e){this.type=me,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const i=[];let r=!1;for(let a=1;a<=e.length-1;++a){const n=e[a];if(r&&"object"==typeof n&&!Array.isArray(n)){r=!1;let e=null;if(n["font-scale"]&&(e=t.parse(n["font-scale"],1,ue),!e))return null;let a=null;if(n["text-font"]&&(a=t.parse(n["text-font"],1,_e(ce)),!a))return null;let o=null;if(n["text-color"]&&(o=t.parse(n["text-color"],1,de),!o))return null;const s=i[i.length-1];s.scale=e,s.font=a,s.textColor=o}else{const n=t.parse(e[a],1,pe);if(!n)return null;const o=n.type.kind;if("string"!==o&&"value"!==o&&"null"!==o&&"resolvedImage"!==o)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:n,scale:null,font:null,textColor:null})}}return new Gt(i)}evaluate(e){return new Ze(this.sections.map((t=>{const n=t.content.evaluate(e);return it(n)===ve?new Ye("",n,null,null,null):new Ye(rt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}}class Ht{constructor(e){this.type=ve,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,ce);return n?new Ht(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=et.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}}class Xt{constructor(e){this.type=ue,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found ".concat(xe(n.type)," instead.")):new Xt(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ot("Expected value to be of type string or array, but found ".concat(xe(it(t))," instead."))}eachChild(e){e(this.input)}outputDefined(){return!1}}const Wt=8192;function Yt(e,t){const n=(180+e[0])/360,i=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,r=Math.pow(2,t.z);return[Math.round(n*r*Wt),Math.round(i*r*Wt)]}function Zt(e,t){const n=Math.pow(2,t.z);return[(r=(e[0]/Wt+t.x)/n,360*r-180),(i=(e[1]/Wt+t.y)/n,360/Math.PI*Math.atan(Math.exp((180-360*i)*Math.PI/180))-90)];var i,r}function Kt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Jt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function $t(e,t,n){const i=e[0]-t[0],r=e[1]-t[1],a=e[0]-n[0],o=e[1]-n[1];return i*o-a*r==0&&i*a<=0&&r*o<=0}function en(e,t,n,i){return 0!=(r=[i[0]-n[0],i[1]-n[1]])[0]*(a=[t[0]-e[0],t[1]-e[1]])[1]-r[1]*a[0]&&!(!sn(e,t,n,i)||!sn(n,i,e,t));var r,a}function tn(e,t,n){for(const i of n)for(let n=0;n<i.length-1;++n)if(en(e,t,i[n],i[n+1]))return!0;return!1}function nn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1;for(const s of t)for(let t=0;t<s.length-1;t++){if($t(e,s[t],s[t+1]))return n;(a=s[t])[1]>(r=e)[1]!=(o=s[t+1])[1]>r[1]&&r[0]<(o[0]-a[0])*(r[1]-a[1])/(o[1]-a[1])+a[0]&&(i=!i)}var r,a,o;return i}function rn(e,t){for(const n of t)if(nn(e,n))return!0;return!1}function an(e,t){for(const n of e)if(!nn(n,t))return!1;for(let n=0;n<e.length-1;++n)if(tn(e[n],e[n+1],t))return!1;return!0}function on(e,t){for(const n of t)if(an(e,n))return!0;return!1}function sn(e,t,n,i){const r=i[0]-n[0],a=i[1]-n[1],o=(e[0]-n[0])*a-r*(e[1]-n[1]),s=(t[0]-n[0])*a-r*(t[1]-n[1]);return o>0&&s<0||o<0&&s>0}function ln(e,t,n){const i=[];for(let r=0;r<e.length;r++){const a=[];for(let i=0;i<e[r].length;i++){const o=Yt(e[r][i],n);Kt(t,o),a.push(o)}i.push(a)}return i}function un(e,t,n){const i=[];for(let r=0;r<e.length;r++){const a=ln(e[r],t,n);i.push(a)}return i}function cn(e,t,n,i){if(e[0]<n[0]||e[0]>n[2]){const t=.5*i;let r=e[0]-n[0]>t?-i:n[0]-e[0]>t?i:0;0===r&&(r=e[0]-n[2]>t?-i:n[2]-e[0]>t?i:0),e[0]+=r}Kt(t,e)}function hn(e,t,n,i){const r=Math.pow(2,i.z)*Wt,a=[i.x*Wt,i.y*Wt],o=[];for(const s of e)for(const e of s){const i=[e.x+a[0],e.y+a[1]];cn(i,t,n,r),o.push(i)}return o}function dn(e,t,n,i){const r=Math.pow(2,i.z)*Wt,a=[i.x*Wt,i.y*Wt],o=[];for(const l of e){const e=[];for(const n of l){const i=[n.x+a[0],n.y+a[1]];Kt(t,i),e.push(i)}o.push(e)}if(t[2]-t[0]<=r/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of o)for(const i of e)cn(i,t,n,r)}var s;return o}class fn{constructor(e,t){this.type=he,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found ".concat(e.length-1," instead."));if(nt(e[1])){const t=e[1];if("FeatureCollection"===t.type){const e=[];for(const n of t.features){const{type:t,coordinates:i}=n.geometry;"Polygon"===t&&e.push(i),"MultiPolygon"===t&&e.push(...i)}if(e.length)return new fn(t,{type:"MultiPolygon",coordinates:e})}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new fn(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new fn(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){const a=ln(t.coordinates,i,r),o=hn(e.geometry(),n,i,r);if(!Jt(n,i))return!1;for(const e of o)if(!nn(e,a))return!1}if("MultiPolygon"===t.type){const a=un(t.coordinates,i,r),o=hn(e.geometry(),n,i,r);if(!Jt(n,i))return!1;for(const e of o)if(!rn(e,a))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){const a=ln(t.coordinates,i,r),o=dn(e.geometry(),n,i,r);if(!Jt(n,i))return!1;for(const e of o)if(!an(e,a))return!1}if("MultiPolygon"===t.type){const a=un(t.coordinates,i,r),o=dn(e.geometry(),n,i,r);if(!Jt(n,i))return!1;for(const e of o)if(!on(e,a))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let pn=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,a=t[r];if(n(i,a)>=0)break;t[e]=a,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1),a=t[i];const o=i+1;if(o<this.length&&n(t[o],a)<0&&(i=o,a=t[o]),n(a,r)>=0)break;t[e]=a,e=i}t[e]=r}};function gn(e,t){return e<t?-1:e>t?1:0}function mn(e,t,n,i,r){yn(e,t,n,i||e.length-1,r||An)}function yn(e,t,n,i,r){for(;i>n;){if(i-n>600){var a=i-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);yn(e,t,Math.max(n,Math.floor(t-o*l/a+u)),Math.min(i,Math.floor(t+(a-o)*l/a+u)),r)}var c=e[t],h=n,d=i;for(vn(e,n,t),r(e[i],c)>0&&vn(e,n,i);h<d;){for(vn(e,h,d),h++,d--;r(e[h],c)<0;)h++;for(;r(e[d],c)>0;)d--}0===r(e[n],c)?vn(e,n,d):vn(e,++d,i),d<=t&&(n=d+1),t<=d&&(i=d-1)}}function vn(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function An(e,t){return e<t?-1:e>t?1:0}function _n(e,t){if(e.length<=1)return[e];const n=[];let i,r;for(const a of e){const e=bn(a);0!==e&&(a.area=Math.abs(e),void 0===r&&(r=e<0),r===e<0?(i&&n.push(i),i=[a]):i.push(a))}if(i&&n.push(i),t>1)for(let a=0;a<n.length;a++)n[a].length<=t||(mn(n[a],t,1,n[a].length-1,xn),n[a]=n[a].slice(0,t));return n}function xn(e,t){return t.area-e.area}function bn(e){let t=0;for(let n,i,r=0,a=e.length,o=a-1;r<a;o=r++)n=e[r],i=e[o],t+=(i.x-n.x)*(n.y+i.y);return t}const wn=1/298.257223563,En=wn*(2-wn),In=Math.PI/180;class Cn{constructor(e){const t=6378.137*In*1e3,n=Math.cos(e*In),i=1/(1-En*(1-n*n)),r=Math.sqrt(i);this.kx=t*r*n,this.ky=t*r*i*(1-En)}distance(e,t){const n=this.wrap(e[0]-t[0])*this.kx,i=(e[1]-t[1])*this.ky;return Math.sqrt(n*n+i*i)}pointOnLine(e,t){let n,i,r,a,o=1/0;for(let s=0;s<e.length-1;s++){let l=e[s][0],u=e[s][1],c=this.wrap(e[s+1][0]-l)*this.kx,h=(e[s+1][1]-u)*this.ky,d=0;0===c&&0===h||(d=(this.wrap(t[0]-l)*this.kx*c+(t[1]-u)*this.ky*h)/(c*c+h*h),d>1?(l=e[s+1][0],u=e[s+1][1]):d>0&&(l+=c/this.kx*d,u+=h/this.ky*d)),c=this.wrap(t[0]-l)*this.kx,h=(t[1]-u)*this.ky;const f=c*c+h*h;f<o&&(o=f,n=l,i=u,r=s,a=d)}return{point:[n,i],index:r,t:Math.max(0,Math.min(1,a))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}function kn(e,t){return t[0]-e[0]}function Sn(e){return e[1]-e[0]+1}function Tn(e,t){return e[1]>=e[0]&&e[1]<t}function Pn(e,t){if(e[0]>e[1])return[null,null];const n=Sn(e);if(t){if(2===n)return[e,null];const t=Math.floor(n/2);return[[e[0],e[0]+t],[e[0]+t,e[1]]]}if(1===n)return[e,null];const i=Math.floor(n/2)-1;return[[e[0],e[0]+i],[e[0]+i+1,e[1]]]}function Nn(e,t){if(!Tn(t,e.length))return[1/0,1/0,-1/0,-1/0];const n=[1/0,1/0,-1/0,-1/0];for(let i=t[0];i<=t[1];++i)Kt(n,e[i]);return n}function Mn(e){const t=[1/0,1/0,-1/0,-1/0];for(const n of e)for(const e of n)Kt(t,e);return t}function Bn(e){return e[0]!==-1/0&&e[1]!==-1/0&&e[2]!==1/0&&e[3]!==1/0}function Ln(e,t,n){if(!Bn(e)||!Bn(t))return NaN;let i=0,r=0;return e[2]<t[0]&&(i=t[0]-e[2]),e[0]>t[2]&&(i=e[0]-t[2]),e[1]>t[3]&&(r=e[1]-t[3]),e[3]<t[1]&&(r=t[1]-e[3]),n.distance([0,0],[i,r])}function Rn(e,t,n){const i=n.pointOnLine(t,e);return n.distance(e,i.point)}function zn(e,t,n,i,r){const a=Math.min(Rn(e,[n,i],r),Rn(t,[n,i],r)),o=Math.min(Rn(n,[e,t],r),Rn(i,[e,t],r));return Math.min(a,o)}function On(e,t,n,i,r){if(!Tn(t,e.length)||!Tn(i,n.length))return 1/0;let a=1/0;for(let o=t[0];o<t[1];++o){const t=e[o],s=e[o+1];for(let e=i[0];e<i[1];++e){const i=n[e],o=n[e+1];if(en(t,s,i,o))return 0;a=Math.min(a,zn(t,s,i,o,r))}}return a}function Dn(e,t,n,i,r){if(!Tn(t,e.length)||!Tn(i,n.length))return NaN;let a=1/0;for(let o=t[0];o<=t[1];++o)for(let t=i[0];t<=i[1];++t)if(a=Math.min(a,r.distance(e[o],n[t])),0===a)return a;return a}function Fn(e,t,n){if(nn(e,t,!0))return 0;let i=1/0;for(const r of t){const t=r[0],a=r[r.length-1];if(t!==a&&(i=Math.min(i,Rn(e,[a,t],n)),0===i))return i;const o=n.pointOnLine(r,e);if(i=Math.min(i,n.distance(e,o.point)),0===i)return i}return i}function jn(e,t,n,i){if(!Tn(t,e.length))return NaN;for(let a=t[0];a<=t[1];++a)if(nn(e[a],n,!0))return 0;let r=1/0;for(let a=t[0];a<t[1];++a){const t=e[a],o=e[a+1];for(const e of n)for(let n=0,a=e.length,s=a-1;n<a;s=n++){const a=e[s],l=e[n];if(en(t,o,a,l))return 0;r=Math.min(r,zn(t,o,a,l,i))}}return r}function Qn(e,t){for(const n of e)for(const e of n)if(nn(e,t,!0))return!0;return!1}function Un(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const r=Mn(e),a=Mn(t);if(i!==1/0&&Ln(r,a,n)>=i)return i;if(Jt(r,a)){if(Qn(e,t))return 0}else if(Qn(t,e))return 0;let o=1/0;for(const s of e)for(let e=0,i=s.length,r=i-1;e<i;r=e++){const i=s[r],a=s[e];for(const e of t)for(let t=0,r=e.length,s=r-1;t<r;s=t++){const r=e[s],l=e[t];if(en(i,a,r,l))return 0;o=Math.min(o,zn(i,a,r,l,n))}}return o}function Vn(e,t,n,i,r,a){if(!a)return;const o=Ln(Nn(i,a),r,n);o<t&&e.push([o,a,[0,0]])}function qn(e,t,n,i,r,a,o){if(!a||!o)return;const s=Ln(Nn(i,a),Nn(r,o),n);s<t&&e.push([s,a,o])}function Gn(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,a=Math.min(i.distance(e[0],n[0][0]),r);if(0===a)return a;const o=new pn([[0,[0,e.length-1],[0,0]]],kn),s=Mn(n);for(;o.length>0;){const r=o.pop();if(r[0]>=a)continue;const l=r[1],u=t?50:100;if(Sn(l)<=u){if(!Tn(l,e.length))return NaN;if(t){const t=jn(e,l,n,i);if(isNaN(t)||0===t)return t;a=Math.min(a,t)}else for(let t=l[0];t<=l[1];++t){const r=Fn(e[t],n,i);if(a=Math.min(a,r),0===a)return 0}}else{const n=Pn(l,t);Vn(o,a,i,e,s,n[0]),Vn(o,a,i,e,s,n[1])}}return a}function Hn(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,o=Math.min(a,r.distance(e[0],n[0]));if(0===o)return o;const s=new pn([[0,[0,e.length-1],[0,n.length-1]]],kn);for(;s.length>0;){const a=s.pop();if(a[0]>=o)continue;const l=a[1],u=a[2],c=t?50:100,h=i?50:100;if(Sn(l)<=c&&Sn(u)<=h){if(!Tn(l,e.length)&&Tn(u,n.length))return NaN;let a;if(t&&i)a=On(e,l,n,u,r),o=Math.min(o,a);else if(t&&!i){const t=e.slice(l[0],l[1]+1);for(let e=u[0];e<=u[1];++e)if(a=Rn(n[e],t,r),o=Math.min(o,a),0===o)return o}else if(!t&&i){const t=n.slice(u[0],u[1]+1);for(let n=l[0];n<=l[1];++n)if(a=Rn(e[n],t,r),o=Math.min(o,a),0===o)return o}else a=Dn(e,l,n,u,r),o=Math.min(o,a)}else{const a=Pn(l,t),c=Pn(u,i);qn(s,o,r,e,n,a[0],c[0]),qn(s,o,r,e,n,a[0],c[1]),qn(s,o,r,e,n,a[1],c[0]),qn(s,o,r,e,n,a[1],c[1])}}return o}function Xn(e){return"MultiPolygon"===e.type?e.coordinates.map((e=>({type:"Polygon",coordinates:e}))):"MultiLineString"===e.type?e.coordinates.map((e=>({type:"LineString",coordinates:e}))):"MultiPoint"===e.type?e.coordinates.map((e=>({type:"Point",coordinates:e}))):[e]}class Wn{constructor(e,t){this.type=ue,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error("'distance' expression requires exactly one argument, but found ".concat(e.length-1," instead."));if(nt(e[1])){const t=e[1];if("FeatureCollection"===t.type)return new Wn(t,t.features.map((e=>Xn(e.geometry))).flat());if("Feature"===t.type)return new Wn(t,Xn(t.geometry));if("type"in t&&"coordinates"in t)return new Wn(t,Xn(t))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=e.geometry(),i=n.flat().map((t=>Zt([t.x,t.y],e.canonical)));if(0===n.length)return NaN;const r=new Cn(i[0][1]);let a=1/0;for(const o of t){switch(o.type){case"Point":a=Math.min(a,Hn(i,!1,[o.coordinates],!1,r,a));break;case"LineString":a=Math.min(a,Hn(i,!1,o.coordinates,!0,r,a));break;case"Polygon":a=Math.min(a,Gn(i,!1,o.coordinates,r,a))}if(0===a)return a}return a}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=e.geometry(),i=n.flat().map((t=>Zt([t.x,t.y],e.canonical)));if(0===n.length)return NaN;const r=new Cn(i[0][1]);let a=1/0;for(const o of t){switch(o.type){case"Point":a=Math.min(a,Hn(i,!0,[o.coordinates],!1,r,a));break;case"LineString":a=Math.min(a,Hn(i,!0,o.coordinates,!0,r,a));break;case"Polygon":a=Math.min(a,Gn(i,!0,o.coordinates,r,a))}if(0===a)return a}return a}(e,this.geometries);if("Polygon"===e.geometryType())return function(e,t){const n=e.geometry();if(0===n.length||0===n[0].length)return NaN;const i=_n(n,0).map((t=>t.map((t=>t.map((t=>Zt([t.x,t.y],e.canonical))))))),r=new Cn(i[0][0][0][1]);let a=1/0;for(const o of t)for(const e of i){switch(o.type){case"Point":a=Math.min(a,Gn([o.coordinates],!1,e,r,a));break;case"LineString":a=Math.min(a,Gn(o.coordinates,!0,e,r,a));break;case"Polygon":a=Math.min(a,Un(e,o.coordinates,r,a))}if(0===a)return a}return a}(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const Yn={"==":Ot,"!=":Dt,">":jt,"<":Ft,">=":Ut,"<=":Qt,array:lt,at:mt,boolean:lt,case:_t,coalesce:Bt,collator:Vt,format:Gt,image:Ht,in:yt,"index-of":vt,interpolate:Nt,"interpolate-hcl":Nt,"interpolate-lab":Nt,length:Xt,let:pt,literal:at,match:At,number:lt,"number-format":qt,object:lt,slice:xt,step:wt,string:lt,"to-boolean":ct,"to-color":ct,"to-number":ct,"to-string":ct,var:gt,within:fn,distance:Wn};class Zn{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const n=e[0],i=Zn.definitions[n];if(!i)return t.error('Unknown expression "'.concat(n,'". If you wanted a literal array, use ["literal", [...]].'),0);const r=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,o=a.filter((t=>{let[n]=t;return!Array.isArray(n)||n.length===e.length-1}));let s=null;for(const[l,u]of o){s=new ft(t.registry,ti,t.path,null,t.scope);const i=[];let a=!1;for(let t=1;t<e.length;t++){const n=e[t],r=Array.isArray(l)?l[t-1]:l.type,o=s.parse(n,1+i.length,r);if(!o){a=!0;break}i.push(o)}if(!a)if(Array.isArray(l)&&l.length!==i.length)s.error("Expected ".concat(l.length," arguments, but found ").concat(i.length," instead."));else{for(let e=0;e<i.length;e++){const t=Array.isArray(l)?l[e]:l.type,n=i[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new Zn(n,r,u,i)}}if(1===o.length)t.errors.push(...s.errors);else{const n=(o.length?o:a).map((e=>{let[t]=e;return n=t,Array.isArray(n)?"(".concat(n.map(xe).join(", "),")"):"(".concat(xe(n.type),"...)");var n})).join(" | "),i=[];for(let r=1;r<e.length;r++){const n=t.parse(e[r],1+i.length);if(!n)return null;i.push(xe(n.type))}t.error("Expected arguments of type ".concat(n,", but found (").concat(i.join(", "),") instead."))}return null}static register(e,t){Zn.definitions=t;for(const n in t)e[n]=Zn}}function Kn(e,t){let[n,i,r,a]=t;n=n.evaluate(e),i=i.evaluate(e),r=r.evaluate(e);const o=a?a.evaluate(e):1,s=tt(n,i,r,o);if(s)throw new ot(s);return new Xe(n/255,i/255,r/255,o,!1)}function Jn(e,t){return e in t}function $n(e,t){const n=t[e];return void 0===n?null:n}function ei(e){return{type:e}}function ti(e){if(e instanceof gt)return ti(e.boundExpression);if(e instanceof Zn&&"error"===e.name)return!1;if(e instanceof Vt)return!1;if(e instanceof fn)return!1;if(e instanceof Wn)return!1;const t=e instanceof ct||e instanceof lt;let n=!0;return e.eachChild((e=>{n=t?n&&ti(e):n&&e instanceof at})),!!n&&ni(e)&&ri(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function ni(e){if(e instanceof Zn){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof fn)return!1;if(e instanceof Wn)return!1;let t=!0;return e.eachChild((e=>{t&&!ni(e)&&(t=!1)})),t}function ii(e){if(e instanceof Zn&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!ii(e)&&(t=!1)})),t}function ri(e,t){if(e instanceof Zn&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!ri(e,t)&&(n=!1)})),n}function ai(e){return{result:"success",value:e}}function oi(e){return{result:"error",value:e}}function si(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function li(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function ui(e){return!!e.expression&&e.expression.interpolated}function ci(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function hi(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function di(e){return e}function fi(e,t){const n="color"===t.type,i=e.stops&&"object"==typeof e.stops[0][0],r=i||!(i||void 0!==e.property),a=e.type||(ui(t)?"exponential":"interval");if(n||"padding"===t.type){const i=n?Xe.parse:Ke.parse;(e=ae({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],i(e[1])]))),e.default=i(e.default?e.default:t.default)}if(e.colorSpace&&"rgb"!==(o=e.colorSpace)&&"hcl"!==o&&"lab"!==o)throw new Error('Unknown color space: "'.concat(e.colorSpace,'"'));var o;let s,l,u;if("exponential"===a)s=yi;else if("interval"===a)s=mi;else if("categorical"===a){s=gi,l=Object.create(null);for(const t of e.stops)l[t[0]]=t[1];u=typeof e.stops[0][0]}else{if("identity"!==a)throw new Error('Unknown function type "'.concat(a,'"'));s=vi}if(i){const n={},i=[];for(let t=0;t<e.stops.length;t++){const r=e.stops[t],a=r[0].zoom;void 0===n[a]&&(n[a]={zoom:a,type:e.type,property:e.property,default:e.default,stops:[]},i.push(a)),n[a].stops.push([r[0].value,r[1]])}const r=[];for(const e of i)r.push([n[e].zoom,fi(n[e],t)]);const a={name:"linear"};return{kind:"composite",interpolationType:a,interpolationFactor:Nt.interpolationFactor.bind(void 0,a),zoomStops:r.map((e=>e[0])),evaluate:(n,i)=>{let{zoom:a}=n;return yi({stops:r,base:e.base},t,a).evaluate(a,i)}}}if(r){const n="exponential"===a?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:n,interpolationFactor:Nt.interpolationFactor.bind(void 0,n),zoomStops:e.stops.map((e=>e[0])),evaluate:n=>{let{zoom:i}=n;return s(e,t,i,l,u)}}}return{kind:"source",evaluate(n,i){const r=i&&i.properties?i.properties[e.property]:void 0;return void 0===r?pi(e.default,t.default):s(e,t,r,l,u)}}}function pi(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function gi(e,t,n,i,r){return pi(typeof n===r?i[n]:void 0,e.default,t.default)}function mi(e,t,n){if("number"!==ci(n))return pi(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const r=bt(e.stops.map((e=>e[0])),n);return e.stops[r][1]}function yi(e,t,n){const i=void 0!==e.base?e.base:1;if("number"!==ci(n))return pi(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const a=bt(e.stops.map((e=>e[0])),n),o=function(e,t,n,i){const r=i-n,a=e-n;return 0===r?0:1===t?a/r:(Math.pow(t,a)-1)/(Math.pow(t,r)-1)}(n,i,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],l=e.stops[a+1][1],u=Pt[t.type]||di;return"function"==typeof s.evaluate?{evaluate(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const r=s.evaluate.apply(void 0,n),a=l.evaluate.apply(void 0,n);if(void 0!==r&&void 0!==a)return u(r,a,o,e.colorSpace)}}:u(s,l,o,e.colorSpace)}function vi(e,t,n){switch(t.type){case"color":n=Xe.parse(n);break;case"formatted":n=Ze.fromString(n.toString());break;case"resolvedImage":n=et.fromString(n.toString());break;case"padding":n=Ke.parse(n);break;default:ci(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0)}return pi(n,e.default,t.default)}Zn.register(Yn,{error:[{kind:"error"},[ce],(e,t)=>{let[n]=t;throw new ot(n.evaluate(e))}],typeof:[ce,[pe],(e,t)=>{let[n]=t;return xe(it(n.evaluate(e)))}],"to-rgba":[_e(ue,4),[de],(e,t)=>{let[n]=t;const[i,r,a,o]=n.evaluate(e).rgb;return[255*i,255*r,255*a,o]}],rgb:[de,[ue,ue,ue],Kn],rgba:[de,[ue,ue,ue,ue],Kn],has:{type:he,overloads:[[[ce],(e,t)=>{let[n]=t;return Jn(n.evaluate(e),e.properties())}],[[ce,fe],(e,t)=>{let[n,i]=t;return Jn(n.evaluate(e),i.evaluate(e))}]]},get:{type:pe,overloads:[[[ce],(e,t)=>{let[n]=t;return $n(n.evaluate(e),e.properties())}],[[ce,fe],(e,t)=>{let[n,i]=t;return $n(n.evaluate(e),i.evaluate(e))}]]},"feature-state":[pe,[ce],(e,t)=>{let[n]=t;return $n(n.evaluate(e),e.featureState||{})}],properties:[fe,[],e=>e.properties()],"geometry-type":[ce,[],e=>e.geometryType()],id:[pe,[],e=>e.id()],zoom:[ue,[],e=>e.globals.zoom],"heatmap-density":[ue,[],e=>e.globals.heatmapDensity||0],"line-progress":[ue,[],e=>e.globals.lineProgress||0],accumulated:[pe,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[ue,ei(ue),(e,t)=>{let n=0;for(const i of t)n+=i.evaluate(e);return n}],"*":[ue,ei(ue),(e,t)=>{let n=1;for(const i of t)n*=i.evaluate(e);return n}],"-":{type:ue,overloads:[[[ue,ue],(e,t)=>{let[n,i]=t;return n.evaluate(e)-i.evaluate(e)}],[[ue],(e,t)=>{let[n]=t;return-n.evaluate(e)}]]},"/":[ue,[ue,ue],(e,t)=>{let[n,i]=t;return n.evaluate(e)/i.evaluate(e)}],"%":[ue,[ue,ue],(e,t)=>{let[n,i]=t;return n.evaluate(e)%i.evaluate(e)}],ln2:[ue,[],()=>Math.LN2],pi:[ue,[],()=>Math.PI],e:[ue,[],()=>Math.E],"^":[ue,[ue,ue],(e,t)=>{let[n,i]=t;return Math.pow(n.evaluate(e),i.evaluate(e))}],sqrt:[ue,[ue],(e,t)=>{let[n]=t;return Math.sqrt(n.evaluate(e))}],log10:[ue,[ue],(e,t)=>{let[n]=t;return Math.log(n.evaluate(e))/Math.LN10}],ln:[ue,[ue],(e,t)=>{let[n]=t;return Math.log(n.evaluate(e))}],log2:[ue,[ue],(e,t)=>{let[n]=t;return Math.log(n.evaluate(e))/Math.LN2}],sin:[ue,[ue],(e,t)=>{let[n]=t;return Math.sin(n.evaluate(e))}],cos:[ue,[ue],(e,t)=>{let[n]=t;return Math.cos(n.evaluate(e))}],tan:[ue,[ue],(e,t)=>{let[n]=t;return Math.tan(n.evaluate(e))}],asin:[ue,[ue],(e,t)=>{let[n]=t;return Math.asin(n.evaluate(e))}],acos:[ue,[ue],(e,t)=>{let[n]=t;return Math.acos(n.evaluate(e))}],atan:[ue,[ue],(e,t)=>{let[n]=t;return Math.atan(n.evaluate(e))}],min:[ue,ei(ue),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[ue,ei(ue),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[ue,[ue],(e,t)=>{let[n]=t;return Math.abs(n.evaluate(e))}],round:[ue,[ue],(e,t)=>{let[n]=t;const i=n.evaluate(e);return i<0?-Math.round(-i):Math.round(i)}],floor:[ue,[ue],(e,t)=>{let[n]=t;return Math.floor(n.evaluate(e))}],ceil:[ue,[ue],(e,t)=>{let[n]=t;return Math.ceil(n.evaluate(e))}],"filter-==":[he,[ce,pe],(e,t)=>{let[n,i]=t;return e.properties()[n.value]===i.value}],"filter-id-==":[he,[pe],(e,t)=>{let[n]=t;return e.id()===n.value}],"filter-type-==":[he,[ce],(e,t)=>{let[n]=t;return e.geometryType()===n.value}],"filter-<":[he,[ce,pe],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],a=i.value;return typeof r==typeof a&&r<a}],"filter-id-<":[he,[pe],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i<r}],"filter->":[he,[ce,pe],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],a=i.value;return typeof r==typeof a&&r>a}],"filter-id->":[he,[pe],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i>r}],"filter-<=":[he,[ce,pe],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],a=i.value;return typeof r==typeof a&&r<=a}],"filter-id-<=":[he,[pe],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i<=r}],"filter->=":[he,[ce,pe],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],a=i.value;return typeof r==typeof a&&r>=a}],"filter-id->=":[he,[pe],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i>=r}],"filter-has":[he,[pe],(e,t)=>{let[n]=t;return n.value in e.properties()}],"filter-has-id":[he,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[he,[_e(ce)],(e,t)=>{let[n]=t;return n.value.indexOf(e.geometryType())>=0}],"filter-id-in":[he,[_e(pe)],(e,t)=>{let[n]=t;return n.value.indexOf(e.id())>=0}],"filter-in-small":[he,[ce,_e(pe)],(e,t)=>{let[n,i]=t;return i.value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[he,[ce,_e(pe)],(e,t)=>{let[n,i]=t;return function(e,t,n,i){for(;n<=i;){const r=n+i>>1;if(t[r]===e)return!0;t[r]>e?i=r-1:n=r+1}return!1}(e.properties()[n.value],i.value,0,i.value.length-1)}],all:{type:he,overloads:[[[he,he],(e,t)=>{let[n,i]=t;return n.evaluate(e)&&i.evaluate(e)}],[ei(he),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:he,overloads:[[[he,he],(e,t)=>{let[n,i]=t;return n.evaluate(e)||i.evaluate(e)}],[ei(he),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[he,[he],(e,t)=>{let[n]=t;return!n.evaluate(e)}],"is-supported-script":[he,[ce],(e,t)=>{let[n]=t;const i=e.globals&&e.globals.isSupportedScript;return!i||i(n.evaluate(e))}],upcase:[ce,[ce],(e,t)=>{let[n]=t;return n.evaluate(e).toUpperCase()}],downcase:[ce,[ce],(e,t)=>{let[n]=t;return n.evaluate(e).toLowerCase()}],concat:[ce,ei(pe),(e,t)=>t.map((t=>rt(t.evaluate(e)))).join("")],"resolved-locale":[ce,[ge],(e,t)=>{let[n]=t;return n.evaluate(e).resolvedLocale()}]});class Ai{constructor(e,t){var n;this.expression=e,this._warningHistory={},this._evaluator=new dt,this._defaultValue=t?"color"===(n=t).type&&hi(n.default)?new Xe(0,0,0,0):"color"===n.type?Xe.parse(n.default)||null:"padding"===n.type?Ke.parse(n.default)||null:"variableAnchorOffsetCollection"===n.type?$e.parse(n.default)||null:void 0===n.default?null:n.default:null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,r,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,r,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=a||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new ot("Expected value to be one of ".concat(Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", "),", but found ").concat(JSON.stringify(e)," instead."));return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function _i(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Yn}function xi(e,t){const n=new ft(Yn,ti,[],t?function(e){const t={color:de,string:ce,number:ue,enum:ce,boolean:he,formatted:me,padding:ye,resolvedImage:ve,variableAnchorOffsetCollection:Ae};return"array"===e.type?_e(t[e.value]||pe,e.length):t[e.type]}(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?ai(new Ai(i,t)):oi(n.errors)}class bi{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!ii(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,r,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,a)}evaluate(e,t,n,i,r,a){return this._styleExpression.evaluate(e,t,n,i,r,a)}}class wi{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!ii(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,r,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,a)}evaluate(e,t,n,i,r,a){return this._styleExpression.evaluate(e,t,n,i,r,a)}interpolationFactor(e,t,n){return this.interpolationType?Nt.interpolationFactor(this.interpolationType,e,t,n):0}}function Ei(e,t){const n=xi(e,t);if("error"===n.result)return n;const i=n.value.expression,r=ni(i);if(!r&&!si(t))return oi([new oe("","data expressions not supported")]);const a=ri(i,["zoom"]);if(!a&&!li(t))return oi([new oe("","zoom expressions not supported")]);const o=Ci(i);return o||a?o instanceof oe?oi([o]):o instanceof Nt&&!ui(t)?oi([new oe("",'"interpolate" expressions cannot be used with this property')]):ai(o?new wi(r?"camera":"composite",n.value,o.labels,o instanceof Nt?o.interpolation:void 0):new bi(r?"constant":"source",n.value)):oi([new oe("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ii{constructor(e,t){this._parameters=e,this._specification=t,ae(this,fi(this._parameters,this._specification))}static deserialize(e){return new Ii(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function Ci(e){let t=null;if(e instanceof pt)t=Ci(e.result);else if(e instanceof Bt){for(const n of e.args)if(t=Ci(n),t)break}else(e instanceof wt||e instanceof Nt)&&e.input instanceof Zn&&"zoom"===e.input.name&&(t=e);return t instanceof oe||e.eachChild((e=>{const n=Ci(e);n instanceof oe?t=n:!t&&n?t=new oe("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new oe("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function ki(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!ki(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const Si={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ti(e){if(null==e)return{filter:()=>!0,needGeometry:!1};ki(e)||(e=Mi(e));const t=xi(e,Si);if("error"===t.result)throw new Error(t.value.map((e=>"".concat(e.key,": ").concat(e.message))).join(", "));return{filter:(e,n,i)=>t.value.evaluate(e,n,{},i),needGeometry:Ni(e)}}function Pi(e,t){return e<t?-1:e>t?1:0}function Ni(e){if(!Array.isArray(e))return!1;if("within"===e[0]||"distance"===e[0])return!0;for(let t=1;t<e.length;t++)if(Ni(e[t]))return!0;return!1}function Mi(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?Bi(e[1],e[2],"=="):"!="===t?zi(Bi(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Bi(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(Mi))):"all"===t?["all"].concat(e.slice(1).map(Mi)):"none"===t?["all"].concat(e.slice(1).map(Mi).map(zi)):"in"===t?Li(e[1],e.slice(2)):"!in"===t?zi(Li(e[1],e.slice(2))):"has"===t?Ri(e[1]):"!has"!==t||zi(Ri(e[1]));var n}function Bi(e,t,n){switch(e){case"$type":return["filter-type-".concat(n),t];case"$id":return["filter-id-".concat(n),t];default:return["filter-".concat(n),e,t]}}function Li(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(Pi)]]:["filter-in-small",e,["literal",t]]}}function Ri(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function zi(e){return["!",e]}function Oi(e){const t=typeof e;if("number"===t||"boolean"===t||"string"===t||null==e)return JSON.stringify(e);if(Array.isArray(e)){let t="[";for(const n of e)t+="".concat(Oi(n),",");return"".concat(t,"]")}const n=Object.keys(e).sort();let i="{";for(let r=0;r<n.length;r++)i+="".concat(JSON.stringify(n[r]),":").concat(Oi(e[n[r]]),",");return"".concat(i,"}")}function Di(e){let t="";for(const n of X)t+="/".concat(Oi(e[n]));return t}function Fi(e){const t=e.value;return t?[new re(e.key,t,"constants have been deprecated as of v8")]:[]}function ji(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Qi(e){if(Array.isArray(e))return e.map(Qi);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=Qi(e[n]);return t}return ji(e)}function Ui(e){const t=e.key,n=e.value,i=e.valueSpec||{},r=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=e.validateSpec;let l=[];const u=ci(n);if("object"!==u)return[new re(t,n,"object expected, ".concat(u," found"))];for(const c in n){const e=c.split(".")[0],u=i[e]||i["*"];let h;if(r[e])h=r[e];else if(i[e])h=s;else if(r["*"])h=r["*"];else{if(!i["*"]){l.push(new re(t,n[c],'unknown property "'.concat(c,'"')));continue}h=s}l=l.concat(h({key:(t?"".concat(t,"."):t)+c,value:n[c],valueSpec:u,style:a,styleSpec:o,object:n,objectKey:c,validateSpec:s},n))}for(const c in i)r[c]||i[c].required&&void 0===i[c].default&&void 0===n[c]&&l.push(new re(t,n,'missing required property "'.concat(c,'"')));return l}function Vi(e){const t=e.value,n=e.valueSpec,i=e.style,r=e.styleSpec,a=e.key,o=e.arrayElementValidator||e.validateSpec;if("array"!==ci(t))return[new re(a,t,"array expected, ".concat(ci(t)," found"))];if(n.length&&t.length!==n.length)return[new re(a,t,"array length ".concat(n.length," expected, length ").concat(t.length," found"))];if(n["min-length"]&&t.length<n["min-length"])return[new re(a,t,"array length at least ".concat(n["min-length"]," expected, length ").concat(t.length," found"))];let s={type:n.value,values:n.values};r.$version<7&&(s.function=n.function),"object"===ci(n.value)&&(s=n.value);let l=[];for(let u=0;u<t.length;u++)l=l.concat(o({array:t,arrayIndex:u,value:t[u],valueSpec:s,validateSpec:e.validateSpec,style:i,styleSpec:r,key:"".concat(a,"[").concat(u,"]")}));return l}function qi(e){const t=e.key,n=e.value,i=e.valueSpec;let r=ci(n);return"number"===r&&n!=n&&(r="NaN"),"number"!==r?[new re(t,n,"number expected, ".concat(r," found"))]:"minimum"in i&&n<i.minimum?[new re(t,n,"".concat(n," is less than the minimum value ").concat(i.minimum))]:"maximum"in i&&n>i.maximum?[new re(t,n,"".concat(n," is greater than the maximum value ").concat(i.maximum))]:[]}function Gi(e){const t=e.valueSpec,n=ji(e.value.type);let i,r,a,o={};const s="categorical"!==n&&void 0===e.value.property,l=!s,u="array"===ci(e.value.stops)&&"array"===ci(e.value.stops[0])&&"object"===ci(e.value.stops[0][0]),c=Ui({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new re(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const i=e.value;return t=t.concat(Vi({key:e.key,value:i,valueSpec:e.valueSpec,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===ci(i)&&0===i.length&&t.push(new re(e.key,i,"array must have at least one stop")),t},default:function(e){return e.validateSpec({key:e.key,value:e.value,valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&s&&c.push(new re(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||c.push(new re(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!ui(e.valueSpec)&&c.push(new re(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!si(e.valueSpec)?c.push(new re(e.key,e.value,"property functions not supported")):s&&!li(e.valueSpec)&&c.push(new re(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!u||void 0!==e.value.property||c.push(new re(e.key,e.value,'"property" property is required')),c;function h(e){let n=[];const i=e.value,s=e.key;if("array"!==ci(i))return[new re(s,i,"array expected, ".concat(ci(i)," found"))];if(2!==i.length)return[new re(s,i,"array length 2 expected, length ".concat(i.length," found"))];if(u){if("object"!==ci(i[0]))return[new re(s,i,"object expected, ".concat(ci(i[0])," found"))];if(void 0===i[0].zoom)return[new re(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new re(s,i,"object stop key must have value")];if(a&&a>ji(i[0].zoom))return[new re(s,i[0].zoom,"stop zoom values must appear in ascending order")];ji(i[0].zoom)!==a&&(a=ji(i[0].zoom),r=void 0,o={}),n=n.concat(Ui({key:"".concat(s,"[0]"),value:i[0],valueSpec:{zoom:{}},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:qi,value:d}}))}else n=n.concat(d({key:"".concat(s,"[0]"),value:i[0],valueSpec:{},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec},i));return _i(Qi(i[1]))?n.concat([new re("".concat(s,"[1]"),i[1],"expressions are not allowed in function stops.")]):n.concat(e.validateSpec({key:"".concat(s,"[1]"),value:i[1],valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec}))}function d(e,a){const s=ci(e.value),l=ji(e.value),u=null!==e.value?e.value:a;if(i){if(s!==i)return[new re(e.key,u,"".concat(s," stop domain type must match previous stop domain type ").concat(i))]}else i=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new re(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let i="number expected, ".concat(s," found");return si(t)&&void 0===n&&(i+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new re(e.key,u,i)]}return"categorical"!==n||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&void 0!==r&&l<r?[new re(e.key,u,"stop domain values must appear in ascending order")]:(r=l,"categorical"===n&&l in o?[new re(e.key,u,"stop domain values must be unique")]:(o[l]=!0,[])):[new re(e.key,u,"integer expected, found ".concat(l))]}}function Hi(e){const t=("property"===e.expressionContext?Ei:xi)(Qi(e.value),e.valueSpec);if("error"===t.result)return t.value.map((t=>new re("".concat(e.key).concat(t.key),e.value,t.message)));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new re(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!ii(n))return[new re(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!ii(n))return[new re(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!ri(n,["zoom","feature-state"]))return[new re(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!ni(n))return[new re(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Xi(e){const t=e.key,n=e.value,i=e.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf(ji(n))&&r.push(new re(t,n,"expected one of [".concat(i.values.join(", "),"], ").concat(JSON.stringify(n)," found"))):-1===Object.keys(i.values).indexOf(ji(n))&&r.push(new re(t,n,"expected one of [".concat(Object.keys(i.values).join(", "),"], ").concat(JSON.stringify(n)," found"))),r}function Wi(e){return ki(Qi(e.value))?Hi(ae({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Yi(e)}function Yi(e){const t=e.value,n=e.key;if("array"!==ci(t))return[new re(n,t,"array expected, ".concat(ci(t)," found"))];const i=e.styleSpec;let r,a=[];if(t.length<1)return[new re(n,t,"filter array must have at least 1 element")];switch(a=a.concat(Xi({key:"".concat(n,"[0]"),value:t[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec})),ji(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===ji(t[1])&&a.push(new re(n,t,'"$type" cannot be use with operator "'.concat(t[0],'"')));case"==":case"!=":3!==t.length&&a.push(new re(n,t,'filter array for operator "'.concat(t[0],'" must have 3 elements')));case"in":case"!in":t.length>=2&&(r=ci(t[1]),"string"!==r&&a.push(new re("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found"))));for(let o=2;o<t.length;o++)r=ci(t[o]),"$type"===ji(t[1])?a=a.concat(Xi({key:"".concat(n,"[").concat(o,"]"),value:t[o],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&a.push(new re("".concat(n,"[").concat(o,"]"),t[o],"string, number, or boolean expected, ".concat(r," found")));break;case"any":case"all":case"none":for(let i=1;i<t.length;i++)a=a.concat(Yi({key:"".concat(n,"[").concat(i,"]"),value:t[i],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=ci(t[1]),2!==t.length?a.push(new re(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"string"!==r&&a.push(new re("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")))}return a}function Zi(e,t){const n=e.key,i=e.validateSpec,r=e.style,a=e.styleSpec,o=e.value,s=e.objectKey,l=a["".concat(t,"_").concat(e.layerType)];if(!l)return[];const u=s.match(/^(.*)-transition$/);if("paint"===t&&u&&l[u[1]]&&l[u[1]].transition)return i({key:n,value:o,valueSpec:a.transition,style:r,styleSpec:a});const c=e.valueSpec||l[s];if(!c)return[new re(n,o,'unknown property "'.concat(s,'"'))];let h;if("string"===ci(o)&&si(c)&&!c.tokens&&(h=/^{([^}]+)}$/.exec(o)))return[new re(n,o,'"'.concat(s,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(h[1])," }`."))];const d=[];return"symbol"===e.layerType&&("text-field"===s&&r&&!r.glyphs&&d.push(new re(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===s&&hi(Qi(o))&&"identity"===ji(o.type)&&d.push(new re(n,o,'"text-font" does not support identity functions'))),d.concat(i({key:e.key,value:o,valueSpec:c,style:r,styleSpec:a,expressionContext:"property",propertyType:t,propertyKey:s}))}function Ki(e){return Zi(e,"paint")}function Ji(e){return Zi(e,"layout")}function $i(e){let t=[];const n=e.value,i=e.key,r=e.style,a=e.styleSpec;n.type||n.ref||t.push(new re(i,n,'either "type" or "ref" is required'));let o=ji(n.type);const s=ji(n.ref);if(n.id){const a=ji(n.id);for(let o=0;o<e.arrayIndex;o++){const e=r.layers[o];ji(e.id)===a&&t.push(new re(i,n.id,'duplicate layer id "'.concat(n.id,'", previously used at line ').concat(e.id.__line__)))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach((e=>{e in n&&t.push(new re(i,n[e],'"'.concat(e,'" is prohibited for ref layers')))})),r.layers.forEach((t=>{ji(t.id)===s&&(e=t)})),e?e.ref?t.push(new re(i,n.ref,"ref cannot reference another ref layer")):o=ji(e.type):t.push(new re(i,n.ref,'ref layer "'.concat(s,'" not found')))}else if("background"!==o)if(n.source){const e=r.sources&&r.sources[n.source],a=e&&ji(e.type);e?"vector"===a&&"raster"===o?t.push(new re(i,n.source,'layer "'.concat(n.id,'" requires a raster source'))):"raster-dem"!==a&&"hillshade"===o?t.push(new re(i,n.source,'layer "'.concat(n.id,'" requires a raster-dem source'))):"raster"===a&&"raster"!==o?t.push(new re(i,n.source,'layer "'.concat(n.id,'" requires a vector source'))):"vector"!==a||n["source-layer"]?"raster-dem"===a&&"hillshade"!==o?t.push(new re(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==o||!n.paint||!n.paint["line-gradient"]||"geojson"===a&&e.lineMetrics||t.push(new re(i,n,'layer "'.concat(n.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new re(i,n,'layer "'.concat(n.id,'" must specify a "source-layer"'))):t.push(new re(i,n.source,'source "'.concat(n.source,'" not found')))}else t.push(new re(i,n,'missing required property "source"'));return t=t.concat(Ui({key:i,value:n,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":()=>[],type:()=>e.validateSpec({key:"".concat(i,".type"),value:n.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:n,objectKey:"type"}),filter:Wi,layout:e=>Ui({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>Ji(ae({layerType:o},e))}}),paint:e=>Ui({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>Ki(ae({layerType:o},e))}})}})),t}function er(e){const t=e.value,n=e.key,i=ci(t);return"string"!==i?[new re(n,t,"string expected, ".concat(i," found"))]:[]}const tr={promoteId:function(e){let{key:t,value:n}=e;if("string"===ci(n))return er({key:t,value:n});{const e=[];for(const i in n)e.push(...er({key:"".concat(t,".").concat(i),value:n[i]}));return e}}};function nr(e){const t=e.value,n=e.key,i=e.styleSpec,r=e.style,a=e.validateSpec;if(!t.type)return[new re(n,t,'"type" is required')];const o=ji(t.type);let s;switch(o){case"vector":case"raster":return s=Ui({key:n,value:t,valueSpec:i["source_".concat(o.replace("-","_"))],style:e.style,styleSpec:i,objectElementValidators:tr,validateSpec:a}),s;case"raster-dem":return s=function(e){var t;const n=null!==(t=e.sourceName)&&void 0!==t?t:"",i=e.value,r=e.styleSpec,a=r.source_raster_dem,o=e.style;let s=[];const l=ci(i);if(void 0===i)return s;if("object"!==l)return s.push(new re("source_raster_dem",i,"object expected, ".concat(l," found"))),s;const u="custom"===ji(i.encoding),c=["redFactor","greenFactor","blueFactor","baseShift"],h=e.value.encoding?'"'.concat(e.value.encoding,'"'):"Default";for(const d in i)!u&&c.includes(d)?s.push(new re(d,i[d],'In "'.concat(n,'": "').concat(d,'" is only valid when "encoding" is set to "custom". ').concat(h," encoding found"))):a[d]?s=s.concat(e.validateSpec({key:d,value:i[d],valueSpec:a[d],validateSpec:e.validateSpec,style:o,styleSpec:r})):s.push(new re(d,i[d],'unknown property "'.concat(d,'"')));return s}({sourceName:n,value:t,style:e.style,styleSpec:i,validateSpec:a}),s;case"geojson":if(s=Ui({key:n,value:t,valueSpec:i.source_geojson,style:r,styleSpec:i,validateSpec:a,objectElementValidators:tr}),t.cluster)for(const e in t.clusterProperties){const[i,r]=t.clusterProperties[e],o="string"==typeof i?[i,["accumulated"],["get",e]]:i;s.push(...Hi({key:"".concat(n,".").concat(e,".map"),value:r,validateSpec:a,expressionContext:"cluster-map"})),s.push(...Hi({key:"".concat(n,".").concat(e,".reduce"),value:o,validateSpec:a,expressionContext:"cluster-reduce"}))}return s;case"video":return Ui({key:n,value:t,valueSpec:i.source_video,style:r,validateSpec:a,styleSpec:i});case"image":return Ui({key:n,value:t,valueSpec:i.source_image,style:r,validateSpec:a,styleSpec:i});case"canvas":return[new re(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Xi({key:"".concat(n,".type"),value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,validateSpec:a,styleSpec:i})}}function ir(e){const t=e.value,n=e.styleSpec,i=n.light,r=e.style;let a=[];const o=ci(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new re("light",t,"object expected, ".concat(o," found"))]),a;for(const s in t){const o=s.match(/^(.*)-transition$/);a=a.concat(o&&i[o[1]]&&i[o[1]].transition?e.validateSpec({key:s,value:t[s],valueSpec:n.transition,validateSpec:e.validateSpec,style:r,styleSpec:n}):i[s]?e.validateSpec({key:s,value:t[s],valueSpec:i[s],validateSpec:e.validateSpec,style:r,styleSpec:n}):[new re(s,t[s],'unknown property "'.concat(s,'"'))])}return a}function rr(e){const t=e.value,n=e.styleSpec,i=n.sky,r=e.style,a=ci(t);if(void 0===t)return[];if("object"!==a)return[new re("sky",t,"object expected, ".concat(a," found"))];let o=[];for(const s in t)o=o.concat(i[s]?e.validateSpec({key:s,value:t[s],valueSpec:i[s],style:r,styleSpec:n}):[new re(s,t[s],'unknown property "'.concat(s,'"'))]);return o}function ar(e){const t=e.value,n=e.styleSpec,i=n.terrain,r=e.style;let a=[];const o=ci(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new re("terrain",t,"object expected, ".concat(o," found"))]),a;for(const s in t)a=a.concat(i[s]?e.validateSpec({key:s,value:t[s],valueSpec:i[s],validateSpec:e.validateSpec,style:r,styleSpec:n}):[new re(s,t[s],'unknown property "'.concat(s,'"'))]);return a}function or(e){let t=[];const n=e.value,i=e.key;if(Array.isArray(n)){const r=[],a=[];for(const o in n)n[o].id&&r.includes(n[o].id)&&t.push(new re(i,n,"all the sprites' ids must be unique, but ".concat(n[o].id," is duplicated"))),r.push(n[o].id),n[o].url&&a.includes(n[o].url)&&t.push(new re(i,n,"all the sprites' URLs must be unique, but ".concat(n[o].url," is duplicated"))),a.push(n[o].url),t=t.concat(Ui({key:"".concat(i,"[").concat(o,"]"),value:n[o],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:e.validateSpec}));return t}return er({key:i,value:n})}const sr={"*":()=>[],array:Vi,boolean:function(e){const t=e.value,n=e.key,i=ci(t);return"boolean"!==i?[new re(n,t,"boolean expected, ".concat(i," found"))]:[]},number:qi,color:function(e){const t=e.key,n=e.value,i=ci(n);return"string"!==i?[new re(t,n,"color expected, ".concat(i," found"))]:Xe.parse(String(n))?[]:[new re(t,n,'color expected, "'.concat(n,'" found'))]},constants:Fi,enum:Xi,filter:Wi,function:Gi,layer:$i,object:Ui,source:nr,light:ir,sky:rr,terrain:ar,projection:function(e){const t=e.value,n=e.styleSpec,i=n.projection,r=e.style,a=ci(t);if(void 0===t)return[];if("object"!==a)return[new re("projection",t,"object expected, ".concat(a," found"))];let o=[];for(const s in t)o=o.concat(i[s]?e.validateSpec({key:s,value:t[s],valueSpec:i[s],style:r,styleSpec:n}):[new re(s,t[s],'unknown property "'.concat(s,'"'))]);return o},string:er,formatted:function(e){return 0===er(e).length?[]:Hi(e)},resolvedImage:function(e){return 0===er(e).length?[]:Hi(e)},padding:function(e){const t=e.key,n=e.value;if("array"===ci(n)){if(n.length<1||n.length>4)return[new re(t,n,"padding requires 1 to 4 values; ".concat(n.length," values found"))];const i={type:"number"};let r=[];for(let a=0;a<n.length;a++)r=r.concat(e.validateSpec({key:"".concat(t,"[").concat(a,"]"),value:n[a],validateSpec:e.validateSpec,valueSpec:i}));return r}return qi({key:t,value:n,valueSpec:{}})},variableAnchorOffsetCollection:function(e){const t=e.key,n=e.value,i=ci(n),r=e.styleSpec;if("array"!==i||n.length<1||n.length%2!=0)return[new re(t,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];let a=[];for(let o=0;o<n.length;o+=2)a=a.concat(Xi({key:"".concat(t,"[").concat(o,"]"),value:n[o],valueSpec:r.layout_symbol["text-anchor"]})),a=a.concat(Vi({key:"".concat(t,"[").concat(o+1,"]"),value:n[o+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:r}));return a},sprite:or};function lr(e){const t=e.value,n=e.valueSpec,i=e.styleSpec;return e.validateSpec=lr,n.expression&&hi(ji(t))?Gi(e):n.expression&&_i(Qi(t))?Hi(e):n.type&&sr[n.type]?sr[n.type](e):Ui(ae({},e,{valueSpec:n.type?i[n.type]:n}))}function ur(e){const t=e.value,n=e.key,i=er(e);return i.length||(-1===t.indexOf("{fontstack}")&&i.push(new re(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&i.push(new re(n,t,'"glyphs" url must include a "{range}" token'))),i}function cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H,n=[];return n=n.concat(lr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:lr,objectElementValidators:{glyphs:ur,"*":()=>[]}})),e.constants&&(n=n.concat(Fi({key:"constants",value:e.constants,style:e,styleSpec:t,validateSpec:lr}))),dr(n)}function hr(e){return function(t){return e({...t,validateSpec:lr})}}function dr(e){return[].concat(e).sort(((e,t)=>e.line-t.line))}function fr(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return dr(e.apply(this,n))}}cr.source=fr(hr(nr)),cr.sprite=fr(hr(or)),cr.glyphs=fr(hr(ur)),cr.light=fr(hr(ir)),cr.sky=fr(hr(rr)),cr.terrain=fr(hr(ar)),cr.layer=fr(hr($i)),cr.filter=fr(hr(Wi)),cr.paintProperty=fr(hr(Ki)),cr.layoutProperty=fr(hr(Ji));const pr=cr,gr=pr.light,mr=pr.sky,yr=pr.paintProperty,vr=pr.layoutProperty;function Ar(e,t){let n=!1;if(t&&t.length)for(const i of t)e.fire(new q(new Error(i.message))),n=!0;return n}class _r{constructor(e,t,n){const i=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;const r=new Int32Array(this.arrayBuffer);e=r[0],this.d=(t=r[1])+2*(n=r[2]);for(let e=0;e<this.d*this.d;e++){const t=r[3+e],n=r[3+e+1];i.push(t===n?null:r.subarray(t,n))}const a=r[3+i.length+1];this.keys=r.subarray(r[3+i.length],a),this.bboxes=r.subarray(a),this.insert=this._insertReadonly}else{this.d=t+2*n;for(let e=0;e<this.d*this.d;e++)i.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;const r=n/t*e;this.min=-r,this.max=e+r}insert(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,t,n,i,r,a){this.cells[r].push(a)}query(e,t,n,i,r){const a=this.min,o=this.max;if(e<=a&&t<=a&&o<=n&&o<=i&&!r)return Array.prototype.slice.call(this.keys);{const a=[];return this._forEachCell(e,t,n,i,this._queryCell,a,{},r),a}}_queryCell(e,t,n,i,r,a,o,s){const l=this.cells[r];if(null!==l){const r=this.keys,u=this.bboxes;for(let c=0;c<l.length;c++){const h=l[c];if(void 0===o[h]){const l=4*h;(s?s(u[l+0],u[l+1],u[l+2],u[l+3]):e<=u[l+2]&&t<=u[l+3]&&n>=u[l+0]&&i>=u[l+1])?(o[h]=!0,a.push(r[h])):o[h]=!1}}}}_forEachCell(e,t,n,i,r,a,o,s){const l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(n),h=this._convertToCellCoord(i);for(let d=l;d<=c;d++)for(let l=u;l<=h;l++){const u=this.d*l+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(l),this._convertFromCellCoord(d+1),this._convertFromCellCoord(l+1)))&&r.call(this,e,t,n,i,u,a,o,s))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const e=this.cells,t=3+this.cells.length+1+1;let n=0;for(let a=0;a<this.cells.length;a++)n+=this.cells[a].length;const i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;let r=t;for(let a=0;a<e.length;a++){const t=e[a];i[3+a]=r,i.set(t,r),r+=t.length}return i[3+e.length]=r,i.set(this.keys,r),r+=this.keys.length,i[3+e.length+1]=r,i.set(this.bboxes,r),r+=this.bboxes.length,i.buffer}static serialize(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}}static deserialize(e){return new _r(e.buffer)}}const xr={};function br(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(xr[e])throw new Error("".concat(e," is already registered."));Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),xr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}br("Object",Object),br("TransferableGridIndex",_r),br("Color",Xe),br("Error",Error),br("AJAXError",O),br("ResolvedImage",et),br("StylePropertyFunction",Ii),br("StyleExpression",Ai,{omit:["_evaluator"]}),br("ZoomDependentExpression",wi),br("ZoomConstantExpression",bi),br("CompoundExpression",Zn,{omit:["_evaluate"]});for(const Fh in Yn)Yn[Fh]._classRegistryKey||br("Expression_".concat(Fh),Yn[Fh]);function wr(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Er(e){return e.$name||e.constructor._classRegistryKey}function Ir(e){return!function(e){if(null===e||"object"!=typeof e)return!1;const t=Er(e);return!(!t||"Object"===t)}(e)&&(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||e instanceof Error||wr(e)||k(e)||ArrayBuffer.isView(e)||e instanceof ImageData)}function Cr(e,t){if(Ir(e))return(wr(e)||k(e))&&t&&t.push(e),ArrayBuffer.isView(e)&&t&&t.push(e.buffer),e instanceof ImageData&&t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const n=[];for(const i of e)n.push(Cr(i,t));return n}if("object"!=typeof e)throw new Error("can't serialize object of type "+typeof e);const n=Er(e);if(!n)throw new Error("can't serialize object of unregistered class ".concat(e.constructor.name));if(!xr[n])throw new Error("".concat(n," is not registered."));const{klass:i}=xr[n],r=i.serialize?i.serialize(e,t):{};if(i.serialize){if(t&&r===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const i in e){if(!e.hasOwnProperty(i))continue;if(xr[n].omit.indexOf(i)>=0)continue;const a=e[i];r[i]=xr[n].shallow.indexOf(i)>=0?a:Cr(a,t)}e instanceof Error&&(r.message=e.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(r.$name=n),r}function kr(e){if(Ir(e))return e;if(Array.isArray(e))return e.map(kr);if("object"!=typeof e)throw new Error("can't deserialize object of type "+typeof e);const t=Er(e)||"Object";if(!xr[t])throw new Error("can't deserialize unregistered class ".concat(t));const{klass:n}=xr[t];if(!n)throw new Error("can't deserialize unregistered class ".concat(t));if(n.deserialize)return n.deserialize(e);const i=Object.create(n.prototype);for(const r of Object.keys(e)){if("$name"===r)continue;const n=e[r];i[r]=xr[t].shallow.indexOf(r)>=0?n:kr(n)}return i}class Sr{constructor(){this.first=!0}update(e,t){const n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}const Tr={"Latin-1 Supplement":e=>e>=128&&e<=255,Arabic:e=>e>=1536&&e<=1791,"Arabic Supplement":e=>e>=1872&&e<=1919,"Arabic Extended-A":e=>e>=2208&&e<=2303,"Hangul Jamo":e=>e>=4352&&e<=4607,"Unified Canadian Aboriginal Syllabics":e=>e>=5120&&e<=5759,Khmer:e=>e>=6016&&e<=6143,"Unified Canadian Aboriginal Syllabics Extended":e=>e>=6320&&e<=6399,"General Punctuation":e=>e>=8192&&e<=8303,"Letterlike Symbols":e=>e>=8448&&e<=8527,"Number Forms":e=>e>=8528&&e<=8591,"Miscellaneous Technical":e=>e>=8960&&e<=9215,"Control Pictures":e=>e>=9216&&e<=9279,"Optical Character Recognition":e=>e>=9280&&e<=9311,"Enclosed Alphanumerics":e=>e>=9312&&e<=9471,"Geometric Shapes":e=>e>=9632&&e<=9727,"Miscellaneous Symbols":e=>e>=9728&&e<=9983,"Miscellaneous Symbols and Arrows":e=>e>=11008&&e<=11263,"CJK Radicals Supplement":e=>e>=11904&&e<=12031,"Kangxi Radicals":e=>e>=12032&&e<=12255,"Ideographic Description Characters":e=>e>=12272&&e<=12287,"CJK Symbols and Punctuation":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Bopomofo:e=>e>=12544&&e<=12591,"Hangul Compatibility Jamo":e=>e>=12592&&e<=12687,Kanbun:e=>e>=12688&&e<=12703,"Bopomofo Extended":e=>e>=12704&&e<=12735,"CJK Strokes":e=>e>=12736&&e<=12783,"Katakana Phonetic Extensions":e=>e>=12784&&e<=12799,"Enclosed CJK Letters and Months":e=>e>=12800&&e<=13055,"CJK Compatibility":e=>e>=13056&&e<=13311,"CJK Unified Ideographs Extension A":e=>e>=13312&&e<=19903,"Yijing Hexagram Symbols":e=>e>=19904&&e<=19967,"CJK Unified Ideographs":e=>e>=19968&&e<=40959,"Yi Syllables":e=>e>=40960&&e<=42127,"Yi Radicals":e=>e>=42128&&e<=42191,"Hangul Jamo Extended-A":e=>e>=43360&&e<=43391,"Hangul Syllables":e=>e>=44032&&e<=55215,"Hangul Jamo Extended-B":e=>e>=55216&&e<=55295,"Private Use Area":e=>e>=57344&&e<=63743,"CJK Compatibility Ideographs":e=>e>=63744&&e<=64255,"Arabic Presentation Forms-A":e=>e>=64336&&e<=65023,"Vertical Forms":e=>e>=65040&&e<=65055,"CJK Compatibility Forms":e=>e>=65072&&e<=65103,"Small Form Variants":e=>e>=65104&&e<=65135,"Arabic Presentation Forms-B":e=>e>=65136&&e<=65279,"Halfwidth and Fullwidth Forms":e=>e>=65280&&e<=65519};function Pr(e){for(const t of e)if(Br(t.charCodeAt(0)))return!0;return!1}function Nr(e){for(const t of e)if(!Mr(t.charCodeAt(0)))return!1;return!0}function Mr(e){return!(Tr.Arabic(e)||Tr["Arabic Supplement"](e)||Tr["Arabic Extended-A"](e)||Tr["Arabic Presentation Forms-A"](e)||Tr["Arabic Presentation Forms-B"](e))}function Br(e){return!(746!==e&&747!==e&&(e<4352||!(Tr["Bopomofo Extended"](e)||Tr.Bopomofo(e)||Tr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Tr["CJK Compatibility Ideographs"](e)||Tr["CJK Compatibility"](e)||Tr["CJK Radicals Supplement"](e)||Tr["CJK Strokes"](e)||!(!Tr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Tr["CJK Unified Ideographs Extension A"](e)||Tr["CJK Unified Ideographs"](e)||Tr["Enclosed CJK Letters and Months"](e)||Tr["Hangul Compatibility Jamo"](e)||Tr["Hangul Jamo Extended-A"](e)||Tr["Hangul Jamo Extended-B"](e)||Tr["Hangul Jamo"](e)||Tr["Hangul Syllables"](e)||Tr.Hiragana(e)||Tr["Ideographic Description Characters"](e)||Tr.Kanbun(e)||Tr["Kangxi Radicals"](e)||Tr["Katakana Phonetic Extensions"](e)||Tr.Katakana(e)&&12540!==e||!(!Tr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Tr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Tr["Unified Canadian Aboriginal Syllabics"](e)||Tr["Unified Canadian Aboriginal Syllabics Extended"](e)||Tr["Vertical Forms"](e)||Tr["Yijing Hexagram Symbols"](e)||Tr["Yi Syllables"](e)||Tr["Yi Radicals"](e))))}function Lr(e){return!(Br(e)||function(e){return!!(Tr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Tr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Tr["Letterlike Symbols"](e)||Tr["Number Forms"](e)||Tr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Tr["Control Pictures"](e)&&9251!==e||Tr["Optical Character Recognition"](e)||Tr["Enclosed Alphanumerics"](e)||Tr["Geometric Shapes"](e)||Tr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Tr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Tr["CJK Symbols and Punctuation"](e)||Tr.Katakana(e)||Tr["Private Use Area"](e)||Tr["CJK Compatibility Forms"](e)||Tr["Small Form Variants"](e)||Tr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Rr(e){return e>=1424&&e<=2303||Tr["Arabic Presentation Forms-A"](e)||Tr["Arabic Presentation Forms-B"](e)}function zr(e,t){return!(!t&&Rr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Tr.Khmer(e))}function Or(e){for(const t of e)if(Rr(t.charCodeAt(0)))return!0;return!1}const Dr=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(e){this.pluginStatus=e.pluginStatus,this.pluginURL=e.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(e){this.applyArabicShaping=e.applyArabicShaping,this.processBidirectionalText=e.processBidirectionalText,this.processStyledBidirectionalText=e.processStyledBidirectionalText}isParsed(){return null!=this.applyArabicShaping&&null!=this.processBidirectionalText&&null!=this.processStyledBidirectionalText}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class Fr{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Sr,this.transition={})}isSupportedScript(e){return function(e,t){for(const n of e)if(!zr(n.charCodeAt(0),t))return!1;return!0}(e,"loaded"===Dr.getRTLTextPluginStatus())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}class jr{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(hi(e))return new Ii(e,t);if(_i(e)){const n=Ei(e,t);if("error"===n.result)throw new Error(n.value.map((e=>"".concat(e.key,": ").concat(e.message))).join(", "));return n.value}{let n=e;return"color"===t.type&&"string"==typeof e?n=Xe.parse(e):"padding"!==t.type||"number"!=typeof e&&!Array.isArray(e)?"variableAnchorOffsetCollection"===t.type&&Array.isArray(e)&&(n=$e.parse(e)):n=Ke.parse(e),{kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class Qr{constructor(e){this.property=e,this.value=new jr(e,void 0)}transitioned(e,t){return new Vr(this.property,this.value,t,y({},e.transition,this.transition),e.now)}untransitioned(){return new Vr(this.property,this.value,null,{},0)}}class Ur{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return x(this._values[e].value.value)}setValue(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Qr(this._values[e].property)),this._values[e].value=new jr(this._values[e].property,null===t?void 0:x(t))}getTransition(e){return x(this._values[e].transition)}setTransition(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Qr(this._values[e].property)),this._values[e].transition=x(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const i=this.getTransition(t);void 0!==i&&(e["".concat(t,"-transition")]=i)}return e}transitioned(e,t){const n=new qr(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].transitioned(e,t._values[i]);return n}untransitioned(){const e=new qr(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class Vr{constructor(e,t,n,i,r){this.property=e,this.value=t,this.begin=r+i.delay||0,this.end=this.begin+i.duration||0,e.specification.transition&&(i.delay||i.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const i=e.now||0,r=this.value.possiblyEvaluate(e,t,n),a=this.prior;if(a){if(i>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(i<this.begin)return a.possiblyEvaluate(e,t,n);{const o=(i-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,n),r,function(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(o))}}return r}}class qr{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const i=new Xr(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Gr{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}hasValue(e){return void 0!==this._values[e].value}getValue(e){return x(this._values[e].value)}setValue(e,t){this._values[e]=new jr(this._values[e].property,null===t?void 0:x(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const i=new Xr(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}}class Hr{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,i){return this.property.evaluate(this.value,this.parameters,e,t,n,i)}}class Xr{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class Wr{constructor(e){this.specification=e}possiblyEvaluate(e,t){if(e.isDataDriven())throw new Error("Value should not be data driven");return e.expression.evaluate(t)}interpolate(e,t,n){const i=Pt[this.specification.type];return i?i(e,t,n):e}}class Yr{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,i){return new Hr(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,i)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Hr(this,{kind:"constant",value:void 0},e.parameters);const i=Pt[this.specification.type];if(i){const r=i(e.value.value,t.value.value,n);return new Hr(this,{kind:"constant",value:r},e.parameters)}return e}evaluate(e,t,n,i,r,a){return"constant"===e.kind?e.value:e.evaluate(t,n,i,r,a)}}class Zr extends Yr{possiblyEvaluate(e,t,n,i){if(void 0===e.value)return new Hr(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const r=e.expression.evaluate(t,null,{},n,i),a="resolvedImage"===e.property.specification.type&&"string"!=typeof r?r.name:r,o=this._calculate(a,a,a,t);return new Hr(this,{kind:"constant",value:o},t)}if("camera"===e.expression.kind){const n=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Hr(this,{kind:"constant",value:n},t)}return new Hr(this,e.expression,t)}evaluate(e,t,n,i,r,a){if("source"===e.kind){const o=e.evaluate(t,n,i,r,a);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,i),e.evaluate({zoom:Math.floor(t.zoom)},n,i),e.evaluate({zoom:Math.floor(t.zoom)+1},n,i),t):e.value}_calculate(e,t,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class Kr{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,i){if(void 0!==e.value){if("constant"===e.expression.kind){const r=e.expression.evaluate(t,null,{},n,i);return this._calculate(r,r,r,t)}return this._calculate(e.expression.evaluate(new Fr(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Fr(Math.floor(t.zoom),t)),e.expression.evaluate(new Fr(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class Jr{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,i){return!!e.expression.evaluate(t,null,{},n,i)}interpolate(){return!1}}class $r{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const t in e){const n=e[t];n.specification.overridable&&this.overridableProperties.push(t);const i=this.defaultPropertyValues[t]=new jr(n,void 0),r=this.defaultTransitionablePropertyValues[t]=new Qr(n);this.defaultTransitioningPropertyValues[t]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=i.possiblyEvaluate({})}}}br("DataDrivenProperty",Yr),br("DataConstantProperty",Wr),br("CrossFadedDataDrivenProperty",Zr),br("CrossFadedProperty",Kr),br("ColorRampProperty",Jr);const ea="-transition";class ta extends G{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new Gr(t.layout)),t.paint)){this._transitionablePaint=new Ur(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xr(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&this._validate(vr,"layers.".concat(this.id,".layout.").concat(e),e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return e.endsWith(ea)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t&&this._validate(yr,"layers.".concat(this.id,".paint.").concat(e),e,t,n))return!1;if(e.endsWith(ea))return this._transitionablePaint.setTransition(e.slice(0,-11),t||void 0),!1;{const n=this._transitionablePaint._values[e],i="cross-faded-data-driven"===n.property.specification["property-type"],r=n.value.isDataDriven(),a=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const o=this._transitionablePaint._values[e].value;return o.isDataDriven()||r||i||this._handleOverridablePaintPropertyUpdate(e,a,o)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),_(e,((e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)))}_validate(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!r||!1!==r.validate)&&Ar(this,e.call(pr,{key:t,layerType:this.type,objectKey:n,value:i,styleSpec:H,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof Hr&&si(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}const na={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ia{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ra{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function aa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,i=0;return{members:e.map((e=>{const r=na[e.type].BYTES_PER_ELEMENT,a=n=oa(n,Math.max(t,r)),o=e.components||1;return i=Math.max(i,r),n+=r*o,{name:e.name,type:e.type,components:o,offset:a}})),size:oa(n,Math.max(i,t)),alignment:t}}function oa(e,t){return Math.ceil(e/t)*t}class sa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.int16[i+0]=t,this.int16[i+1]=n,e}}sa.prototype.bytesPerElement=4,br("StructArrayLayout2i4",sa);class la extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.int16[r+0]=t,this.int16[r+1]=n,this.int16[r+2]=i,e}}la.prototype.bytesPerElement=6,br("StructArrayLayout3i6",la);class ua extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const a=4*e;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=i,this.int16[a+3]=r,e}}ua.prototype.bytesPerElement=8,br("StructArrayLayout4i8",ua);class ca extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,a){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r,a)}emplace(e,t,n,i,r,a,o){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=a,this.int16[s+5]=o,e}}ca.prototype.bytesPerElement=12,br("StructArrayLayout2i4i12",ca);class ha extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,a){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r,a)}emplace(e,t,n,i,r,a,o){const s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[l+4]=i,this.uint8[l+5]=r,this.uint8[l+6]=a,this.uint8[l+7]=o,e}}ha.prototype.bytesPerElement=8,br("StructArrayLayout2i4ub8",ha);class da extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.float32[i+0]=t,this.float32[i+1]=n,e}}da.prototype.bytesPerElement=8,br("StructArrayLayout2f8",da);class fa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,a,o,s,l,u){const c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,i,r,a,o,s,l,u)}emplace(e,t,n,i,r,a,o,s,l,u,c){const h=10*e;return this.uint16[h+0]=t,this.uint16[h+1]=n,this.uint16[h+2]=i,this.uint16[h+3]=r,this.uint16[h+4]=a,this.uint16[h+5]=o,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint16[h+8]=u,this.uint16[h+9]=c,e}}fa.prototype.bytesPerElement=20,br("StructArrayLayout10ui20",fa);class pa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,a,o,s,l,u,c,h){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,n,i,r,a,o,s,l,u,c,h)}emplace(e,t,n,i,r,a,o,s,l,u,c,h,d){const f=12*e;return this.int16[f+0]=t,this.int16[f+1]=n,this.int16[f+2]=i,this.int16[f+3]=r,this.uint16[f+4]=a,this.uint16[f+5]=o,this.uint16[f+6]=s,this.uint16[f+7]=l,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=h,this.int16[f+11]=d,e}}pa.prototype.bytesPerElement=24,br("StructArrayLayout4i4ui4i24",pa);class ga extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.float32[r+0]=t,this.float32[r+1]=n,this.float32[r+2]=i,e}}ga.prototype.bytesPerElement=12,br("StructArrayLayout3f12",ga);class ma extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}ma.prototype.bytesPerElement=4,br("StructArrayLayout1ul4",ma);class ya extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,a,o,s,l){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,i,r,a,o,s,l)}emplace(e,t,n,i,r,a,o,s,l,u){const c=10*e,h=5*e;return this.int16[c+0]=t,this.int16[c+1]=n,this.int16[c+2]=i,this.int16[c+3]=r,this.int16[c+4]=a,this.int16[c+5]=o,this.uint32[h+3]=s,this.uint16[c+8]=l,this.uint16[c+9]=u,e}}ya.prototype.bytesPerElement=20,br("StructArrayLayout6i1ul2ui20",ya);class va extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,a){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r,a)}emplace(e,t,n,i,r,a,o){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=a,this.int16[s+5]=o,e}}va.prototype.bytesPerElement=12,br("StructArrayLayout2i2i2i12",va);class Aa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r)}emplace(e,t,n,i,r,a){const o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=i,this.int16[s+6]=r,this.int16[s+7]=a,e}}Aa.prototype.bytesPerElement=16,br("StructArrayLayout2f1f2i16",Aa);class _a extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,a){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r,a)}emplace(e,t,n,i,r,a,o){const s=16*e,l=4*e,u=8*e;return this.uint8[s+0]=t,this.uint8[s+1]=n,this.float32[l+1]=i,this.float32[l+2]=r,this.int16[u+6]=a,this.int16[u+7]=o,e}}_a.prototype.bytesPerElement=16,br("StructArrayLayout2ub2f2i16",_a);class xa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,this.uint16[r+2]=i,e}}xa.prototype.bytesPerElement=6,br("StructArrayLayout3ui6",xa);class ba extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m){const y=this.length;return this.resize(y+1),this.emplace(y,e,t,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m)}emplace(e,t,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m,y){const v=24*e,A=12*e,_=48*e;return this.int16[v+0]=t,this.int16[v+1]=n,this.uint16[v+2]=i,this.uint16[v+3]=r,this.uint32[A+2]=a,this.uint32[A+3]=o,this.uint32[A+4]=s,this.uint16[v+10]=l,this.uint16[v+11]=u,this.uint16[v+12]=c,this.float32[A+7]=h,this.float32[A+8]=d,this.uint8[_+36]=f,this.uint8[_+37]=p,this.uint8[_+38]=g,this.uint32[A+10]=m,this.int16[v+22]=y,e}}ba.prototype.bytesPerElement=48,br("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ba);class wa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m,y,v,A,_,x,b,w,E,I,C,k){const S=this.length;return this.resize(S+1),this.emplace(S,e,t,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m,y,v,A,_,x,b,w,E,I,C,k)}emplace(e,t,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m,y,v,A,_,x,b,w,E,I,C,k,S){const T=32*e,P=16*e;return this.int16[T+0]=t,this.int16[T+1]=n,this.int16[T+2]=i,this.int16[T+3]=r,this.int16[T+4]=a,this.int16[T+5]=o,this.int16[T+6]=s,this.int16[T+7]=l,this.uint16[T+8]=u,this.uint16[T+9]=c,this.uint16[T+10]=h,this.uint16[T+11]=d,this.uint16[T+12]=f,this.uint16[T+13]=p,this.uint16[T+14]=g,this.uint16[T+15]=m,this.uint16[T+16]=y,this.uint16[T+17]=v,this.uint16[T+18]=A,this.uint16[T+19]=_,this.uint16[T+20]=x,this.uint16[T+21]=b,this.uint16[T+22]=w,this.uint32[P+12]=E,this.float32[P+13]=I,this.float32[P+14]=C,this.uint16[T+30]=k,this.uint16[T+31]=S,e}}wa.prototype.bytesPerElement=64,br("StructArrayLayout8i15ui1ul2f2ui64",wa);class Ea extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Ea.prototype.bytesPerElement=4,br("StructArrayLayout1f4",Ea);class Ia extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.uint16[6*e+0]=t,this.float32[r+1]=n,this.float32[r+2]=i,e}}Ia.prototype.bytesPerElement=12,br("StructArrayLayout1ui2f12",Ia);class Ca extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=4*e;return this.uint32[2*e+0]=t,this.uint16[r+2]=n,this.uint16[r+3]=i,e}}Ca.prototype.bytesPerElement=8,br("StructArrayLayout1ul2ui8",Ca);class ka extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,e}}ka.prototype.bytesPerElement=4,br("StructArrayLayout2ui4",ka);class Sa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}Sa.prototype.bytesPerElement=2,br("StructArrayLayout1ui2",Sa);class Ta extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const a=4*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=i,this.float32[a+3]=r,e}}Ta.prototype.bytesPerElement=16,br("StructArrayLayout4f16",Ta);class Pa extends ia{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new a(this.anchorPointX,this.anchorPointY)}}Pa.prototype.size=20;class Na extends ya{get(e){return new Pa(this,e)}}br("CollisionBoxArray",Na);class Ma extends ia{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ma.prototype.size=48;class Ba extends ba{get(e){return new Ma(this,e)}}br("PlacedSymbolArray",Ba);class La extends ia{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}La.prototype.size=64;class Ra extends wa{get(e){return new La(this,e)}}br("SymbolInstanceArray",Ra);class za extends Ea{getoffsetX(e){return this.float32[1*e+0]}}br("GlyphOffsetArray",za);class Oa extends la{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}br("SymbolLineVertexArray",Oa);class Da extends ia{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Da.prototype.size=12;class Fa extends Ia{get(e){return new Da(this,e)}}br("TextAnchorOffsetArray",Fa);class ja extends ia{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ja.prototype.size=8;class Qa extends Ca{get(e){return new ja(this,e)}}br("FeatureIndexArray",Qa);class Ua extends sa{}class Va extends sa{}class qa extends sa{}class Ga extends ca{}class Ha extends ha{}class Xa extends da{}class Wa extends fa{}class Ya extends pa{}class Za extends ga{}class Ka extends ma{}class Ja extends va{}class $a extends _a{}class eo extends xa{}class to extends ka{}const no=aa([{name:"a_pos",components:2,type:"Int16"}],4),{members:io}=no;class ro{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=e}prepareSegment(e,t,n,i){let r=this.segments[this.segments.length-1];return e>ro.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is ".concat(ro.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(e)),(!r||r.vertexLength+e>ro.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,i){return new ro([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])}}function ao(e,t){return 256*(e=g(Math.floor(e),0,255))+g(Math.floor(t),0,255)}ro.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,br("SegmentVector",ro);const oo=aa([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var so={exports:{}},lo={exports:{}};lo.exports=function(e,t){var n,i,r,a,o,s,l,u;for(i=e.length-(n=3&e.length),r=t,o=3432918353,s=461845907,u=0;u<i;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,r=27492+(65535&(a=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0};var uo=lo.exports,co={exports:{}};co.exports=function(e,t){for(var n,i=e.length,r=t^i,a=0;i>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++a;switch(i){case 3:r^=(255&e.charCodeAt(a+2))<<16;case 2:r^=(255&e.charCodeAt(a+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(a)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0};var ho=uo,fo=co.exports;so.exports=ho,so.exports.murmur3=ho,so.exports.murmur2=fo;var po=n(so.exports);class go{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,i){this.ids.push(mo(e)),this.positions.push(t,n,i)}getPositions(e){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const t=mo(e);let n=0,i=this.ids.length-1;for(;n<i;){const e=n+i>>1;this.ids[e]>=t?i=e:n=e+1}const r=[];for(;this.ids[n]===t;)r.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return r}static serialize(e,t){const n=new Float64Array(e.ids),i=new Uint32Array(e.positions);return yo(n,i,0,n.length-1),t&&t.push(n.buffer,i.buffer),{ids:n,positions:i}}static deserialize(e){const t=new go;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function mo(e){const t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:po(String(e))}function yo(e,t,n,i){for(;n<i;){const r=e[n+i>>1];let a=n-1,o=i+1;for(;;){do{a++}while(e[a]<r);do{o--}while(e[o]>r);if(a>=o)break;vo(e,a,o),vo(t,3*a,3*o),vo(t,3*a+1,3*o+1),vo(t,3*a+2,3*o+2)}o-n<i-o?(yo(e,t,n,o),n=o+1):(yo(e,t,o+1,i),i=o)}}function vo(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}br("FeaturePositionMap",go);class Ao{constructor(e,t){this.gl=e.gl,this.location=t}}class _o extends Ao{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class xo extends Ao{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class bo extends Ao{constructor(e,t){super(e,t),this.current=Xe.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const wo=new Float32Array(16);function Eo(e){return[ao(255*e.r,255*e.g),ao(255*e.b,255*e.a)]}class Io{constructor(e,t,n){this.value=e,this.uniformNames=t.map((e=>"u_".concat(e))),this.type=n}setUniform(e,t,n){e.set(n.constantOr(this.value))}getBinding(e,t,n){return"color"===this.type?new bo(e,t):new _o(e,t)}}class Co{constructor(e,t){this.uniformNames=t.map((e=>"u_".concat(e))),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setUniform(e,t,n,i){const r="u_pattern_to"===i?this.patternTo:"u_pattern_from"===i?this.patternFrom:"u_pixel_ratio_to"===i?this.pixelRatioTo:"u_pixel_ratio_from"===i?this.pixelRatioFrom:null;r&&e.set(r)}getBinding(e,t,n){return"u_pattern"===n.substr(0,9)?new xo(e,t):new _o(e,t)}}class ko{constructor(e,t,n,i){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:"a_".concat(e),type:"Float32",components:"color"===n?2:1,offset:0}))),this.paintVertexArray=new i}populatePaintArray(e,t,n,i,r){const a=this.paintVertexArray.length,o=this.expression.evaluate(new Fr(0),t,{},i,[],r);this.paintVertexArray.resize(e),this._setPaintValue(a,e,o)}updatePaintArray(e,t,n,i){const r=this.expression.evaluate({zoom:0},n,i);this._setPaintValue(e,t,r)}_setPaintValue(e,t,n){if("color"===this.type){const i=Eo(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i[0],i[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class So{constructor(e,t,n,i,r,a){this.expression=e,this.uniformNames=t.map((e=>"u_".concat(e,"_t"))),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:"a_".concat(e),type:"Float32",components:"color"===n?4:2,offset:0}))),this.paintVertexArray=new a}populatePaintArray(e,t,n,i,r){const a=this.expression.evaluate(new Fr(this.zoom),t,{},i,[],r),o=this.expression.evaluate(new Fr(this.zoom+1),t,{},i,[],r),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,a,o)}updatePaintArray(e,t,n,i){const r=this.expression.evaluate({zoom:this.zoom},n,i),a=this.expression.evaluate({zoom:this.zoom+1},n,i);this._setPaintValue(e,t,r,a)}_setPaintValue(e,t,n,i){if("color"===this.type){const r=Eo(n),a=Eo(i);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1],a[0],a[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){const n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,i=g(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(i)}getBinding(e,t,n){return new _o(e,t)}}class To{constructor(e,t,n,i,r,a){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=i,this.layerId=a,this.zoomInPaintVertexArray=new r,this.zoomOutPaintVertexArray=new r}populatePaintArray(e,t,n){const i=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(i,e,t.patterns&&t.patterns[this.layerId],n)}updatePaintArray(e,t,n,i,r){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],r)}_setPaintValues(e,t,n,i){if(!i||!n)return;const{min:r,mid:a,max:o}=n,s=i[r],l=i[a],u=i[o];if(s&&l&&u)for(let c=e;c<t;c++)this.zoomInPaintVertexArray.emplace(c,l.tl[0],l.tl[1],l.br[0],l.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],l.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(c,l.tl[0],l.tl[1],l.br[0],l.br[1],u.tl[0],u.tl[1],u.br[0],u.br[1],l.pixelRatio,u.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,oo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,oo.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Po{constructor(e,t,n){this.binders={},this._buffers=[];const i=[];for(const r in e.paint._values){if(!n(r))continue;const a=e.paint.get(r);if(!(a instanceof Hr&&si(a.property.specification)))continue;const o=Mo(r,e.type),s=a.value,l=a.property.specification.type,u=a.property.useIntegerZoom,c=a.property.specification["property-type"],h="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[r]=h?new Co(s.value,o):new Io(s.value,o,l),i.push("/u_".concat(r));else if("source"===s.kind||h){const n=Bo(r,l,"source");this.binders[r]=h?new To(s,l,u,t,n,e.id):new ko(s,o,l,n),i.push("/a_".concat(r))}else{const e=Bo(r,l,"composite");this.binders[r]=new So(s,o,l,u,t,e),i.push("/z_".concat(r))}}this.cacheKey=i.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof ko||t instanceof So?t.maxValue:0}populatePaintArrays(e,t,n,i,r){for(const a in this.binders){const o=this.binders[a];(o instanceof ko||o instanceof So||o instanceof To)&&o.populatePaintArray(e,t,n,i,r)}}setConstantPatternPositions(e,t){for(const n in this.binders){const i=this.binders[n];i instanceof Co&&i.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,n,i,r){let a=!1;for(const o in e){const s=t.getPositions(o);for(const t of s){const s=n.feature(t.index);for(const n in this.binders){const l=this.binders[n];if((l instanceof ko||l instanceof So||l instanceof To)&&!0===l.expression.isStateDependent){const u=i.paint.get(n);l.expression=u.value,l.updatePaintArray(t.start,t.end,s,e[o],r),a=!0}}}}return a}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof Io||n instanceof Co)&&e.push(...n.uniformNames.map((e=>"#define HAS_UNIFORM_".concat(e))))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof ko||n instanceof So)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name);else if(n instanceof To)for(let t=0;t<oo.members.length;t++)e.push(oo.members[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Io||n instanceof Co||n instanceof So)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){const n=[];for(const i in this.binders){const r=this.binders[i];if(r instanceof Io||r instanceof Co||r instanceof So)for(const a of r.uniformNames)if(t[a]){const o=r.getBinding(e,t[a],a);n.push({name:a,property:i,binding:o})}}return n}setUniforms(e,t,n,i){for(const{name:r,property:a,binding:o}of t)this.binders[a].setUniform(o,i,n.get(a),r)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const n=this.binders[t];if(e&&n instanceof To){const t=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(n instanceof ko||n instanceof So)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof ko||n instanceof So||n instanceof To)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof ko||t instanceof So||t instanceof To)&&t.destroy()}}}class No{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;this.programConfigurations={};for(const i of e)this.programConfigurations[i.id]=new Po(i,t,n);this.needsUpload=!1,this._featureMap=new go,this._bufferOffset=0}populatePaintArrays(e,t,n,i,r,a){for(const o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,i,r,a);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,i){for(const r of n)this.needsUpload=this.programConfigurations[r.id].updatePaintArrays(e,this._featureMap,t,r,i)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function Mo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace("".concat(t,"-"),"").replace(/-/g,"_")]}function Bo(e,t,n){const i={color:{source:da,composite:Ta},number:{source:Ea,composite:da}},r=function(e){return{"line-pattern":{source:Wa,composite:Wa},"fill-pattern":{source:Wa,composite:Wa},"fill-extrusion-pattern":{source:Wa,composite:Wa}}[e]}(e);return r&&r[n]||i[t][n]}br("ConstantBinder",Io),br("CrossFadedConstantBinder",Co),br("SourceExpressionBinder",ko),br("CrossFadedCompositeBinder",To),br("CompositeExpressionBinder",So),br("ProgramConfiguration",Po,{omit:["_buffers"]}),br("ProgramConfigurationSet",No);const Lo=8192,Ro=Math.pow(2,14)-1,zo=-Ro-1;function Oo(e){const t=Lo/e.extent,n=e.loadGeometry();for(let i=0;i<n.length;i++){const e=n[i];for(let n=0;n<e.length;n++){const i=e[n],r=Math.round(i.x*t),a=Math.round(i.y*t);i.x=g(r,zo,Ro),i.y=g(a,zo,Ro),(r<i.x||r>i.x+1||a<i.y||a>i.y+1)&&w("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return n}function Do(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Oo(e):[]}}function Fo(e,t,n,i,r){e.emplaceBack(2*t+(i+1)/2,2*n+(r+1)/2)}class jo{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Va,this.indexArray=new eo,this.segments=new ro,this.programConfigurations=new No(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){const i=this.layers[0],r=[];let a=null,o=!1;"circle"===i.type&&(a=i.layout.get("circle-sort-key"),o=!a.isConstant());for(const{feature:s,id:l,index:u,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,t=Do(s,e);if(!this.layers[0]._featureFilter.filter(new Fr(this.zoom),t,n))continue;const i=o?a.evaluate(t,{},n):void 0,h={id:l,properties:s.properties,type:s.type,sourceLayerIndex:c,index:u,geometry:e?t.geometry:Oo(s),patterns:{},sortKey:i};r.push(h)}o&&r.sort(((e,t)=>e.sortKey-t.sortKey));for(const s of r){const{geometry:i,index:r,sourceLayerIndex:a}=s,o=e[r].feature;this.addFeature(s,i,r,n),t.featureIndex.insert(o,i,r,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,io),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,i){for(const r of t)for(const t of r){const n=t.x,i=t.y;if(n<0||n>=Lo||i<0||i>=Lo)continue;const r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),a=r.vertexLength;Fo(this.layoutVertexArray,n,i,-1,-1),Fo(this.layoutVertexArray,n,i,1,-1),Fo(this.layoutVertexArray,n,i,1,1),Fo(this.layoutVertexArray,n,i,-1,1),this.indexArray.emplaceBack(a,a+1,a+2),this.indexArray.emplaceBack(a,a+3,a+2),r.vertexLength+=4,r.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},i)}}function Qo(e,t){for(let n=0;n<e.length;n++)if(Zo(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Zo(e,t[n]))return!0;return!!Go(e,t)}function Uo(e,t,n){return!!Zo(e,t)||!!Xo(t,e,n)}function Vo(e,t){if(1===e.length)return Yo(t,e[0]);for(let n=0;n<t.length;n++){const i=t[n];for(let t=0;t<i.length;t++)if(Zo(e,i[t]))return!0}for(let n=0;n<e.length;n++)if(Yo(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Go(e,t[n]))return!0;return!1}function qo(e,t,n){if(e.length>1){if(Go(e,t))return!0;for(let i=0;i<t.length;i++)if(Xo(t[i],e,n))return!0}for(let i=0;i<e.length;i++)if(Xo(e[i],t,n))return!0;return!1}function Go(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const i=e[n],r=e[n+1];for(let e=0;e<t.length-1;e++)if(Ho(i,r,t[e],t[e+1]))return!0}return!1}function Ho(e,t,n,i){return E(e,n,i)!==E(t,n,i)&&E(e,t,n)!==E(e,t,i)}function Xo(e,t,n){const i=n*n;if(1===t.length)return e.distSqr(t[0])<i;for(let r=1;r<t.length;r++)if(Wo(e,t[r-1],t[r])<i)return!0;return!1}function Wo(e,t,n){const i=t.distSqr(n);if(0===i)return e.distSqr(t);const r=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;return e.distSqr(r<0?t:r>1?n:n.sub(t)._mult(r)._add(t))}function Yo(e,t){let n,i,r,a=!1;for(let o=0;o<e.length;o++){n=e[o];for(let e=0,o=n.length-1;e<n.length;o=e++)i=n[e],r=n[o],i.y>t.y!=r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x&&(a=!a)}return a}function Zo(e,t){let n=!1;for(let i=0,r=e.length-1;i<e.length;r=i++){const a=e[i],o=e[r];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(n=!n)}return n}function Ko(e,t,n){const i=n[0],r=n[2];if(e.x<i.x&&t.x<i.x||e.x>r.x&&t.x>r.x||e.y<i.y&&t.y<i.y||e.y>r.y&&t.y>r.y)return!1;const a=E(e,t,n[0]);return a!==E(e,t,n[1])||a!==E(e,t,n[2])||a!==E(e,t,n[3])}function Jo(e,t,n){const i=t.paint.get(e).value;return"constant"===i.kind?i.value:n.programConfigurations.get(t.id).getMaxValue(e)}function $o(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function es(e,t,n,i,r){if(!t[0]&&!t[1])return e;const o=a.convert(t)._mult(r);"viewport"===n&&o._rotate(-i);const s=[];for(let a=0;a<e.length;a++)s.push(e[a].sub(o));return s}let ts,ns;br("CircleBucket",jo,{omit:["layers"]});var is={get paint(){return ns=ns||new $r({"circle-radius":new Yr(H.paint_circle["circle-radius"]),"circle-color":new Yr(H.paint_circle["circle-color"]),"circle-blur":new Yr(H.paint_circle["circle-blur"]),"circle-opacity":new Yr(H.paint_circle["circle-opacity"]),"circle-translate":new Wr(H.paint_circle["circle-translate"]),"circle-translate-anchor":new Wr(H.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Wr(H.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Wr(H.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Yr(H.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Yr(H.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Yr(H.paint_circle["circle-stroke-opacity"])})},get layout(){return ts=ts||new $r({"circle-sort-key":new Yr(H.layout_circle["circle-sort-key"])})}},rs=1e-6,as="undefined"!=typeof Float32Array?Float32Array:Array;function os(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ss(e,t,n){var i=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],g=t[12],m=t[13],y=t[14],v=t[15],A=n[0],_=n[1],x=n[2],b=n[3];return e[0]=A*i+_*s+x*h+b*g,e[1]=A*r+_*l+x*d+b*m,e[2]=A*a+_*u+x*f+b*y,e[3]=A*o+_*c+x*p+b*v,e[4]=(A=n[4])*i+(_=n[5])*s+(x=n[6])*h+(b=n[7])*g,e[5]=A*r+_*l+x*d+b*m,e[6]=A*a+_*u+x*f+b*y,e[7]=A*o+_*c+x*p+b*v,e[8]=(A=n[8])*i+(_=n[9])*s+(x=n[10])*h+(b=n[11])*g,e[9]=A*r+_*l+x*d+b*m,e[10]=A*a+_*u+x*f+b*y,e[11]=A*o+_*c+x*p+b*v,e[12]=(A=n[12])*i+(_=n[13])*s+(x=n[14])*h+(b=n[15])*g,e[13]=A*r+_*l+x*d+b*m,e[14]=A*a+_*u+x*f+b*y,e[15]=A*o+_*c+x*p+b*v,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var ls,us=ss;function cs(e,t,n){var i=t[0],r=t[1],a=t[2],o=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*a+n[12]*o,e[1]=n[1]*i+n[5]*r+n[9]*a+n[13]*o,e[2]=n[2]*i+n[6]*r+n[10]*a+n[14]*o,e[3]=n[3]*i+n[7]*r+n[11]*a+n[15]*o,e}ls=new as(4),as!=Float32Array&&(ls[0]=0,ls[1]=0,ls[2]=0,ls[3]=0);class hs extends ta{constructor(e){super(e,is)}createBucket(e){return new jo(e)}queryRadius(e){const t=e;return Jo("circle-radius",this,t)+Jo("circle-stroke-width",this,t)+$o(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,n,i,r,a,o,s){const l=es(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,o),u=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),c="map"===this.paint.get("circle-pitch-alignment"),h=c?l:function(e,t){return e.map((e=>ds(e,t)))}(l,s),d=c?u*o:u;for(const f of i)for(const e of f){const t=c?e:ds(e,s);let n=d;const i=cs([],[e.x,e.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?n*=i[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(n*=a.cameraToCenterDistance/i[3]),Uo(h,t,n))return!0}return!1}}function ds(e,t){const n=cs([],[e.x,e.y,0,1],t);return new a(n[0]/n[3],n[1]/n[3])}class fs extends jo{}let ps;br("HeatmapBucket",fs,{omit:["layers"]});var gs={get paint(){return ps=ps||new $r({"heatmap-radius":new Yr(H.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Yr(H.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Wr(H.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Jr(H.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Wr(H.paint_heatmap["heatmap-opacity"])})}};function ms(e,t,n,i){let{width:r,height:a}=t;if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==r*a*n)throw new RangeError("mismatched image size. expected: ".concat(i.length," but got: ").concat(r*a*n))}else i=new Uint8Array(r*a*n);return e.width=r,e.height=a,e.data=i,e}function ys(e,t,n){let{width:i,height:r}=t;if(i===e.width&&r===e.height)return;const a=ms({},{width:i,height:r},n);vs(e,a,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,i),height:Math.min(e.height,r)},n),e.width=i,e.height=r,e.data=a.data}function vs(e,t,n,i,r,a){if(0===r.width||0===r.height)return t;if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const o=e.data,s=t.data;if(o===s)throw new Error("srcData equals dstData, so image is already copied");for(let l=0;l<r.height;l++){const u=((n.y+l)*e.width+n.x)*a,c=((i.y+l)*t.width+i.x)*a;for(let e=0;e<r.width*a;e++)s[c+e]=o[u+e]}return t}class As{constructor(e,t){ms(this,e,1,t)}resize(e){ys(this,e,1)}clone(){return new As({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){vs(e,t,n,i,r,1)}}class _s{constructor(e,t){ms(this,e,4,t)}resize(e){ys(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new _s({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){vs(e,t,n,i,r,4)}}function xs(e){const t={},n=e.resolution||256,i=e.clips?e.clips.length:1,r=e.image||new _s({width:n,height:i});if(Math.log(n)/Math.LN2%1!=0)throw new Error("width is not a power of 2 - ".concat(n));const a=(n,i,a)=>{t[e.evaluationKey]=a;const o=e.expression.evaluate(t);r.data[n+i+0]=Math.floor(255*o.r/o.a),r.data[n+i+1]=Math.floor(255*o.g/o.a),r.data[n+i+2]=Math.floor(255*o.b/o.a),r.data[n+i+3]=Math.floor(255*o.a)};if(e.clips)for(let o=0,s=0;o<i;++o,s+=4*n)for(let t=0,i=0;t<n;t++,i+=4){const r=t/(n-1),{start:l,end:u}=e.clips[o];a(s,i,l*(1-r)+u*r)}else for(let o=0,s=0;o<n;o++,s+=4)a(0,s,o/(n-1));return r}br("AlphaImage",As),br("RGBAImage",_s);class bs extends ta{createBucket(e){return new fs(e)}constructor(e){super(e,gs),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=xs({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let ws;var Es={get paint(){return ws=ws||new $r({"hillshade-illumination-direction":new Wr(H.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Wr(H.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Wr(H.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Wr(H.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Wr(H.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Wr(H.paint_hillshade["hillshade-accent-color"])})}};class Is extends ta{constructor(e){super(e,Es)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const Cs=aa([{name:"a_pos",components:2,type:"Int16"}],4),{members:ks}=Cs;var Ss={exports:{}};function Ts(e,t,n){n=n||2;var i,r,a,o,s,l,u,c=t&&t.length,h=c?t[0]*n:e.length,d=Ps(e,0,h,n,!0),f=[];if(!d||d.next===d.prev)return f;if(c&&(d=function(e,t,n,i){var r,a,o,s=[];for(r=0,a=t.length;r<a;r++)(o=Ps(e,t[r]*i,r<a-1?t[r+1]*i:e.length,i,!1))===o.next&&(o.steiner=!0),s.push(Qs(o));for(s.sort(Os),r=0;r<s.length;r++)n=Ds(s[r],n);return n}(e,t,d,n)),e.length>80*n){i=a=e[0],r=o=e[1];for(var p=n;p<h;p+=n)(s=e[p])<i&&(i=s),(l=e[p+1])<r&&(r=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-i,o-r))?32767/u:0}return Ms(d,f,n,i,r,u,0),f}function Ps(e,t,n,i,r){var a,o;if(r===el(e,t,n,i)>0)for(a=t;a<n;a+=i)o=Ks(a,e[a],e[a+1],o);else for(a=n-i;a>=t;a-=i)o=Ks(a,e[a],e[a+1],o);return o&&Gs(o,o.next)&&(Js(o),o=o.next),o}function Ns(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!Gs(i,i.next)&&0!==qs(i.prev,i,i.next))i=i.next;else{if(Js(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Ms(e,t,n,i,r,a,o){if(e){!o&&a&&function(e,t,n,i){var r=e;do{0===r.z&&(r.z=js(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,i=n,s=0,t=0;t<u&&(s++,i=i.nextZ);t++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;n=i}a.nextZ=null,u*=2}while(o>1)}(r)}(e,i,r,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Ls(e,i,r,a):Bs(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Js(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Ms(e=Rs(Ns(e),t,n),t,n,i,r,a,2):2===o&&zs(e,t,n,i,r,a):Ms(Ns(e),t,n,i,r,a,1);break}}}function Bs(e){var t=e.prev,n=e,i=e.next;if(qs(t,n,i)>=0)return!1;for(var r=t.x,a=n.x,o=i.x,s=t.y,l=n.y,u=i.y,c=r<a?r<o?r:o:a<o?a:o,h=s<l?s<u?s:u:l<u?l:u,d=r>a?r>o?r:o:a>o?a:o,f=s>l?s>u?s:u:l>u?l:u,p=i.next;p!==t;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&Us(r,s,a,l,o,u,p.x,p.y)&&qs(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Ls(e,t,n,i){var r=e.prev,a=e,o=e.next;if(qs(r,a,o)>=0)return!1;for(var s=r.x,l=a.x,u=o.x,c=r.y,h=a.y,d=o.y,f=s<l?s<u?s:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,g=s>l?s>u?s:u:l>u?l:u,m=c>h?c>d?c:d:h>d?h:d,y=js(f,p,t,n,i),v=js(g,m,t,n,i),A=e.prevZ,_=e.nextZ;A&&A.z>=y&&_&&_.z<=v;){if(A.x>=f&&A.x<=g&&A.y>=p&&A.y<=m&&A!==r&&A!==o&&Us(s,c,l,h,u,d,A.x,A.y)&&qs(A.prev,A,A.next)>=0)return!1;if(A=A.prevZ,_.x>=f&&_.x<=g&&_.y>=p&&_.y<=m&&_!==r&&_!==o&&Us(s,c,l,h,u,d,_.x,_.y)&&qs(_.prev,_,_.next)>=0)return!1;_=_.nextZ}for(;A&&A.z>=y;){if(A.x>=f&&A.x<=g&&A.y>=p&&A.y<=m&&A!==r&&A!==o&&Us(s,c,l,h,u,d,A.x,A.y)&&qs(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;_&&_.z<=v;){if(_.x>=f&&_.x<=g&&_.y>=p&&_.y<=m&&_!==r&&_!==o&&Us(s,c,l,h,u,d,_.x,_.y)&&qs(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function Rs(e,t,n){var i=e;do{var r=i.prev,a=i.next.next;!Gs(r,a)&&Hs(r,i,i.next,a)&&Ys(r,a)&&Ys(a,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),Js(i),Js(i.next),i=e=a),i=i.next}while(i!==e);return Ns(i)}function zs(e,t,n,i,r,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Vs(o,s)){var l=Zs(o,s);return o=Ns(o,o.next),l=Ns(l,l.next),Ms(o,t,n,i,r,a,0),void Ms(l,t,n,i,r,a,0)}s=s.next}o=o.next}while(o!==e)}function Os(e,t){return e.x-t.x}function Ds(e,t){var n=function(e,t){var n,i=t,r=e.x,a=e.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o&&(o=s,n=i.x<i.next.x?i:i.next,s===r))return n}i=i.next}while(i!==t);if(!n)return null;var l,u=n,c=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=c&&r!==i.x&&Us(a<h?r:o,a,c,h,a<h?o:r,a,i.x,i.y)&&(l=Math.abs(a-i.y)/(r-i.x),Ys(i,e)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&Fs(n,i)))&&(n=i,d=l)),i=i.next}while(i!==u);return n}(e,t);if(!n)return t;var i=Zs(n,e);return Ns(i,i.next),Ns(n,n.next)}function Fs(e,t){return qs(e.prev,e,t.prev)<0&&qs(t.next,e,e.next)<0}function js(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Qs(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Us(e,t,n,i,r,a,o,s){return(r-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(i-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(r-o)*(i-s)}function Vs(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Hs(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Ys(e,t)&&Ys(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(qs(e.prev,e,t.prev)||qs(e,t.prev,t))||Gs(e,t)&&qs(e.prev,e,e.next)>0&&qs(t.prev,t,t.next)>0)}function qs(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Gs(e,t){return e.x===t.x&&e.y===t.y}function Hs(e,t,n,i){var r=Ws(qs(e,t,n)),a=Ws(qs(e,t,i)),o=Ws(qs(n,i,e)),s=Ws(qs(n,i,t));return r!==a&&o!==s||!(0!==r||!Xs(e,n,t))||!(0!==a||!Xs(e,i,t))||!(0!==o||!Xs(n,e,i))||!(0!==s||!Xs(n,t,i))}function Xs(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ws(e){return e>0?1:e<0?-1:0}function Ys(e,t){return qs(e.prev,e,e.next)<0?qs(e,t,e.next)>=0&&qs(e,e.prev,t)>=0:qs(e,t,e.prev)<0||qs(e,e.next,t)<0}function Zs(e,t){var n=new $s(e.i,e.x,e.y),i=new $s(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function Ks(e,t,n,i){var r=new $s(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Js(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function $s(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function el(e,t,n,i){for(var r=0,a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}Ss.exports=Ts,Ss.exports.default=Ts,Ts.deviation=function(e,t,n,i){var r=t&&t.length,a=Math.abs(el(e,0,r?t[0]*n:e.length,n));if(r)for(var o=0,s=t.length;o<s;o++)a-=Math.abs(el(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n));var l=0;for(o=0;o<i.length;o+=3){var u=i[o]*n,c=i[o+1]*n,h=i[o+2]*n;l+=Math.abs((e[u]-e[h])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[h+1]-e[u+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},Ts.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,r=0;r<e.length;r++){for(var a=0;a<e[r].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[r][a][o]);r>0&&n.holes.push(i+=e[r-1].length)}return n};var tl=n(Ss.exports);function nl(e,t,n){const i=n.patternDependencies;let r=!1;for(const a of t){const t=a.paint.get("".concat(e,"-pattern"));t.isConstant()||(r=!0);const n=t.constantOr(null);n&&(r=!0,i[n.to]=!0,i[n.from]=!0)}return r}function il(e,t,n,i,r){const a=r.patternDependencies;for(const o of t){const t=o.paint.get("".concat(e,"-pattern")).value;if("constant"!==t.kind){let e=t.evaluate({zoom:i-1},n,{},r.availableImages),s=t.evaluate({zoom:i},n,{},r.availableImages),l=t.evaluate({zoom:i+1},n,{},r.availableImages);e=e&&e.name?e.name:e,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,a[e]=!0,a[s]=!0,a[l]=!0,n.patterns[o.id]={min:e,mid:s,max:l}}}return n}class rl{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new qa,this.indexArray=new eo,this.indexArray2=new to,this.programConfigurations=new No(e.layers,e.zoom),this.segments=new ro,this.segments2=new ro,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.hasPattern=nl("fill",this.layers,t);const i=this.layers[0].layout.get("fill-sort-key"),r=!i.isConstant(),a=[];for(const{feature:o,id:s,index:l,sourceLayerIndex:u}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Do(o,e);if(!this.layers[0]._featureFilter.filter(new Fr(this.zoom),c,n))continue;const h=r?i.evaluate(c,{},n,t.availableImages):void 0,d={id:s,properties:o.properties,type:o.type,sourceLayerIndex:u,index:l,geometry:e?c.geometry:Oo(o),patterns:{},sortKey:h};a.push(d)}r&&a.sort(((e,t)=>e.sortKey-t.sortKey));for(const o of a){const{geometry:i,index:r,sourceLayerIndex:a}=o;if(this.hasPattern){const e=il("fill",this.layers,o,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(o,i,r,n,{});t.featureIndex.insert(e[r].feature,i,r,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const i of this.patternFeatures)this.addFeature(i,i.geometry,i.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ks),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,i,r){for(const a of _n(t,500)){let e=0;for(const s of a)e+=s.length;const t=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray),n=t.vertexLength,i=[],r=[];for(const s of a){if(0===s.length)continue;s!==a[0]&&r.push(i.length/2);const e=this.segments2.prepareSegment(s.length,this.layoutVertexArray,this.indexArray2),t=e.vertexLength;this.layoutVertexArray.emplaceBack(s[0].x,s[0].y),this.indexArray2.emplaceBack(t+s.length-1,t),i.push(s[0].x),i.push(s[0].y);for(let n=1;n<s.length;n++)this.layoutVertexArray.emplaceBack(s[n].x,s[n].y),this.indexArray2.emplaceBack(t+n-1,t+n),i.push(s[n].x),i.push(s[n].y);e.vertexLength+=s.length,e.primitiveLength+=s.length}const o=tl(i,r);for(let a=0;a<o.length;a+=3)this.indexArray.emplaceBack(n+o[a],n+o[a+1],n+o[a+2]);t.vertexLength+=e,t.primitiveLength+=o.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,i)}}let al,ol;br("FillBucket",rl,{omit:["layers","patternFeatures"]});var sl={get paint(){return ol=ol||new $r({"fill-antialias":new Wr(H.paint_fill["fill-antialias"]),"fill-opacity":new Yr(H.paint_fill["fill-opacity"]),"fill-color":new Yr(H.paint_fill["fill-color"]),"fill-outline-color":new Yr(H.paint_fill["fill-outline-color"]),"fill-translate":new Wr(H.paint_fill["fill-translate"]),"fill-translate-anchor":new Wr(H.paint_fill["fill-translate-anchor"]),"fill-pattern":new Zr(H.paint_fill["fill-pattern"])})},get layout(){return al=al||new $r({"fill-sort-key":new Yr(H.layout_fill["fill-sort-key"])})}};class ll extends ta{constructor(e){super(e,sl)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new rl(e)}queryRadius(){return $o(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,n,i,r,a,o){return Vo(es(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,o),i)}isTileClipped(){return!0}}const ul=aa([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),cl=aa([{name:"a_centroid",components:2,type:"Int16"}],4),{members:hl}=ul;var dl={},fl=i,pl=gl;function gl(e,t,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=r,e.readFields(ml,this,t)}function ml(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var i=t._keys[e.readVarint()],r=t._values[e.readVarint()];t.properties[i]=r}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function yl(e){for(var t,n,i=0,r=0,a=e.length,o=a-1;r<a;o=r++)i+=((n=e[o]).x-(t=e[r]).x)*(t.y+n.y);return i}gl.types=["Unknown","Point","LineString","Polygon"],gl.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,i=1,r=0,a=0,o=0,s=[];e.pos<n;){if(r<=0){var l=e.readVarint();i=7&l,r=l>>3}if(r--,1===i||2===i)a+=e.readSVarint(),o+=e.readSVarint(),1===i&&(t&&s.push(t),t=[]),t.push(new fl(a,o));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&s.push(t),s},gl.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,i=0,r=0,a=0,o=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(i<=0){var c=e.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)(r+=e.readSVarint())<o&&(o=r),r>s&&(s=r),(a+=e.readSVarint())<l&&(l=a),a>u&&(u=a);else if(7!==n)throw new Error("unknown command "+n)}return[o,l,s,u]},gl.prototype.toGeoJSON=function(e,t,n){var i,r,a=this.extent*Math.pow(2,n),o=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=gl.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<l.length;i++)h[i]=l[i][0];c(l=h);break;case 2:for(i=0;i<l.length;i++)c(l[i]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,i,r=[],a=0;a<t;a++){var o=yl(e[a]);0!==o&&(void 0===i&&(i=o<0),i===o<0?(n&&r.push(n),n=[e[a]]):n.push(e[a]))}return n&&r.push(n),r}(l),i=0;i<l.length;i++)for(r=0;r<l[i].length;r++)c(l[i][r])}1===l.length?l=l[0]:u="Multi"+u;var d={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var vl=pl,Al=_l;function _l(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(xl,this,t),this.length=this._features.length}function xl(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var i=e.readVarint()>>3;t=1===i?e.readString():2===i?e.readFloat():3===i?e.readDouble():4===i?e.readVarint64():5===i?e.readVarint():6===i?e.readSVarint():7===i?e.readBoolean():null}return t}(n))}_l.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new vl(this._pbf,t,this.extent,this._keys,this._values)};var bl=Al;function wl(e,t,n){if(3===e){var i=new bl(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}dl.VectorTile=function(e,t){this.layers=e.readFields(wl,{},t)},dl.VectorTileFeature=pl,dl.VectorTileLayer=Al;const El=dl.VectorTileFeature.types,Il=Math.pow(2,13);function Cl(e,t,n,i,r,a,o,s){e.emplaceBack(t,n,2*Math.floor(i*Il)+o,r*Il*2,a*Il*2,Math.round(s))}class kl{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ga,this.centroidVertexArray=new Ua,this.indexArray=new eo,this.programConfigurations=new No(e.layers,e.zoom),this.segments=new ro,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.features=[],this.hasPattern=nl("fill-extrusion",this.layers,t);for(const{feature:i,id:r,index:a,sourceLayerIndex:o}of e){const e=this.layers[0]._featureFilter.needGeometry,s=Do(i,e);if(!this.layers[0]._featureFilter.filter(new Fr(this.zoom),s,n))continue;const l={id:r,sourceLayerIndex:o,index:a,geometry:e?s.geometry:Oo(i),properties:i.properties,type:i.type,patterns:{}};this.hasPattern?this.features.push(il("fill-extrusion",this.layers,l,this.zoom,t)):this.addFeature(l,l.geometry,a,n,{}),t.featureIndex.insert(i,l.geometry,a,o,this.index,!0)}}addFeatures(e,t,n){for(const i of this.features){const{geometry:e}=i;this.addFeature(i,e,i.index,t,n)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,hl),this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,cl.members,!0),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(e,t,n,i,r){for(const a of _n(t,500)){const t={x:0,y:0,vertexCount:0};let n=0;for(const e of a)n+=e.length;let i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const e of a){if(0===e.length)continue;if(Tl(e))continue;let n=0;for(let r=0;r<e.length;r++){const a=e[r];if(r>=1){const o=e[r-1];if(!Sl(a,o)){i.vertexLength+4>ro.MAX_VERTEX_ARRAY_LENGTH&&(i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const e=a.sub(o)._perp()._unit(),r=o.dist(a);n+r>32768&&(n=0),Cl(this.layoutVertexArray,a.x,a.y,e.x,e.y,0,0,n),Cl(this.layoutVertexArray,a.x,a.y,e.x,e.y,0,1,n),t.x+=2*a.x,t.y+=2*a.y,t.vertexCount+=2,n+=r,Cl(this.layoutVertexArray,o.x,o.y,e.x,e.y,0,0,n),Cl(this.layoutVertexArray,o.x,o.y,e.x,e.y,0,1,n),t.x+=2*o.x,t.y+=2*o.y,t.vertexCount+=2;const s=i.vertexLength;this.indexArray.emplaceBack(s,s+2,s+1),this.indexArray.emplaceBack(s+1,s+2,s+3),i.vertexLength+=4,i.primitiveLength+=2}}}}if(i.vertexLength+n>ro.MAX_VERTEX_ARRAY_LENGTH&&(i=this.segments.prepareSegment(n,this.layoutVertexArray,this.indexArray)),"Polygon"!==El[e.type])continue;const r=[],o=[],s=i.vertexLength;for(const e of a)if(0!==e.length){e!==a[0]&&o.push(r.length/2);for(let n=0;n<e.length;n++){const i=e[n];Cl(this.layoutVertexArray,i.x,i.y,0,0,1,1,0),t.x+=i.x,t.y+=i.y,t.vertexCount+=1,r.push(i.x),r.push(i.y)}}const l=tl(r,o);for(let e=0;e<l.length;e+=3)this.indexArray.emplaceBack(s+l[e],s+l[e+2],s+l[e+1]);i.primitiveLength+=l.length/3,i.vertexLength+=n;for(let e=0;e<t.vertexCount;e++){const e=Math.floor(t.x/t.vertexCount),n=Math.floor(t.y/t.vertexCount);this.centroidVertexArray.emplaceBack(e,n)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,i)}}function Sl(e,t){return e.x===t.x&&(e.x<0||e.x>Lo)||e.y===t.y&&(e.y<0||e.y>Lo)}function Tl(e){return e.every((e=>e.x<0))||e.every((e=>e.x>Lo))||e.every((e=>e.y<0))||e.every((e=>e.y>Lo))}let Pl;br("FillExtrusionBucket",kl,{omit:["layers","features"]});var Nl={get paint(){return Pl=Pl||new $r({"fill-extrusion-opacity":new Wr(H["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Yr(H["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Wr(H["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Wr(H["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Zr(H["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Yr(H["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Yr(H["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Wr(H["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Ml extends ta{constructor(e){super(e,Nl)}createBucket(e){return new kl(e)}queryRadius(){return $o(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(e,t,n,i,r,o,s,l){const u=es(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,n),h=this.paint.get("fill-extrusion-base").evaluate(t,n),d=function(e,t,n,i){const r=[];for(const o of e){const e=[o.x,o.y,0,1];cs(e,e,t),r.push(new a(e[0]/e[3],e[1]/e[3]))}return r}(u,l),f=function(e,t,n,i){const r=[],o=[],s=i[8]*t,l=i[9]*t,u=i[10]*t,c=i[11]*t,h=i[8]*n,d=i[9]*n,f=i[10]*n,p=i[11]*n;for(const g of e){const e=[],t=[];for(const n of g){const r=n.x,o=n.y,g=i[0]*r+i[4]*o+i[12],m=i[1]*r+i[5]*o+i[13],y=i[2]*r+i[6]*o+i[14],v=i[3]*r+i[7]*o+i[15],A=y+u,_=v+c,x=g+h,b=m+d,w=y+f,E=v+p,I=new a((g+s)/_,(m+l)/_);I.z=A/_,e.push(I);const C=new a(x/E,b/E);C.z=w/E,t.push(C)}r.push(e),o.push(t)}return[r,o]}(i,h,c,l);return function(e,t,n){let i=1/0;Vo(n,t)&&(i=Ll(n,t[0]));for(let r=0;r<t.length;r++){const a=t[r],o=e[r];for(let e=0;e<a.length-1;e++){const t=a[e],r=[t,a[e+1],o[e+1],o[e],t];Qo(n,r)&&(i=Math.min(i,Ll(n,r)))}}return i!==1/0&&i}(f[0],f[1],d)}}function Bl(e,t){return e.x*t.x+e.y*t.y}function Ll(e,t){if(1===e.length){let n=0;const i=t[n++];let r;for(;!r||i.equals(r);)if(r=t[n++],!r)return 1/0;for(;n<t.length;n++){const a=t[n],o=e[0],s=r.sub(i),l=a.sub(i),u=o.sub(i),c=Bl(s,s),h=Bl(s,l),d=Bl(l,l),f=Bl(u,s),p=Bl(u,l),g=c*d-h*h,m=(d*f-h*p)/g,y=(c*p-h*f)/g,v=i.z*(1-m-y)+r.z*m+a.z*y;if(isFinite(v))return v}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}const Rl=aa([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:zl}=Rl,Ol=aa([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Dl}=Ol,Fl=dl.VectorTileFeature.types,jl=Math.cos(Math.PI/180*37.5),Ql=Math.pow(2,14)/.5;class Ul{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={}})),this.layoutVertexArray=new Ha,this.layoutVertexArray2=new Xa,this.indexArray=new eo,this.programConfigurations=new No(e.layers,e.zoom),this.segments=new ro,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.hasPattern=nl("line",this.layers,t);const i=this.layers[0].layout.get("line-sort-key"),r=!i.isConstant(),a=[];for(const{feature:o,id:s,index:l,sourceLayerIndex:u}of e){const e=this.layers[0]._featureFilter.needGeometry,t=Do(o,e);if(!this.layers[0]._featureFilter.filter(new Fr(this.zoom),t,n))continue;const c=r?i.evaluate(t,{},n):void 0,h={id:s,properties:o.properties,type:o.type,sourceLayerIndex:u,index:l,geometry:e?t.geometry:Oo(o),patterns:{},sortKey:c};a.push(h)}r&&a.sort(((e,t)=>e.sortKey-t.sortKey));for(const o of a){const{geometry:i,index:r,sourceLayerIndex:a}=o;if(this.hasPattern){const e=il("line",this.layers,o,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(o,i,r,n,{});t.featureIndex.insert(e[r].feature,i,r,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const i of this.patternFeatures)this.addFeature(i,i.geometry,i.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Dl)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,zl),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,i,r){const a=this.layers[0].layout,o=a.get("line-join").evaluate(e,{}),s=a.get("line-cap"),l=a.get("line-miter-limit"),u=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const c of t)this.addLine(c,e,o,s,l,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,i)}addLine(e,t,n,i,r,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const o="Polygon"===Fl[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(o?3:2))return;"bevel"===n&&(r=1.05);const u=this.overscaling<=16?15*Lo/(512*this.overscaling):0,c=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let h,d,f,p,g;this.e1=this.e2=-1,o&&(h=e[s-2],g=e[l].sub(h)._unit()._perp());for(let m=l;m<s;m++){if(f=m===s-1?o?e[l+1]:void 0:e[m+1],f&&e[m].equals(f))continue;g&&(p=g),h&&(d=h),h=e[m],g=f?f.sub(h)._unit()._perp():p,p=p||g;let t=p.add(g);0===t.x&&0===t.y||t._unit();const y=p.x*g.x+p.y*g.y,v=t.x*g.x+t.y*g.y,A=0!==v?1/v:1/0,_=2*Math.sqrt(2-2*v),x=v<jl&&d&&f,b=p.x*g.y-p.y*g.x>0;if(x&&m>l){const e=h.dist(d);if(e>2*u){const t=h.sub(h.sub(d)._mult(u/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,p,0,0,c),d=t}}const w=d&&f;let E=w?n:o?"butt":i;if(w&&"round"===E&&(A<a?E="miter":A<=2&&(E="fakeround")),"miter"===E&&A>r&&(E="bevel"),"bevel"===E&&(A>2&&(E="flipbevel"),A<r&&(E="miter")),d&&this.updateDistance(d,h),"miter"===E)t._mult(A),this.addCurrentVertex(h,t,0,0,c);else if("flipbevel"===E){if(A>100)t=g.mult(-1);else{const e=A*p.add(g).mag()/p.sub(g).mag();t._perp()._mult(e*(b?-1:1))}this.addCurrentVertex(h,t,0,0,c),this.addCurrentVertex(h,t.mult(-1),0,0,c)}else if("bevel"===E||"fakeround"===E){const e=-Math.sqrt(A*A-1),t=b?e:0,n=b?0:e;if(d&&this.addCurrentVertex(h,p,t,n,c),"fakeround"===E){const e=Math.round(180*_/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*e*e+(.848013+y*(.215638*y-1.06021)))}const i=g.sub(p)._mult(n)._add(p)._unit()._mult(b?-1:1);this.addHalfVertex(h,i.x,i.y,!1,b,0,c)}}f&&this.addCurrentVertex(h,g,-t,-n,c)}else if("butt"===E)this.addCurrentVertex(h,t,0,0,c);else if("square"===E){const e=d?1:-1;this.addCurrentVertex(h,t,e,e,c)}else"round"===E&&(d&&(this.addCurrentVertex(h,p,0,0,c),this.addCurrentVertex(h,p,1,1,c,!0)),f&&(this.addCurrentVertex(h,g,-1,-1,c,!0),this.addCurrentVertex(h,g,0,0,c)));if(x&&m<s-1){const e=h.dist(f);if(e>2*u){const t=h.add(f.sub(h)._mult(u/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,g,0,0,c),h=t}}}}addCurrentVertex(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=t.y*i-t.x,s=-t.y-t.x*i;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,a,!1,n,r),this.addHalfVertex(e,o,s,a,!0,-i,r),this.distance>Ql/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(e,t,n,i,r,a))}addHalfVertex(e,t,n,i,r,a,o){let{x:s,y:l}=e;const u=.5*(this.lineClips?this.scaledDistance*(Ql-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(i?1:0),(l<<1)+(r?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1)|(63&u)<<2,u>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const c=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),o.primitiveLength++),r?this.e2=c:this.e1=c}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}let Vl,ql;br("LineBucket",Ul,{omit:["layers","patternFeatures"]});var Gl={get paint(){return ql=ql||new $r({"line-opacity":new Yr(H.paint_line["line-opacity"]),"line-color":new Yr(H.paint_line["line-color"]),"line-translate":new Wr(H.paint_line["line-translate"]),"line-translate-anchor":new Wr(H.paint_line["line-translate-anchor"]),"line-width":new Yr(H.paint_line["line-width"]),"line-gap-width":new Yr(H.paint_line["line-gap-width"]),"line-offset":new Yr(H.paint_line["line-offset"]),"line-blur":new Yr(H.paint_line["line-blur"]),"line-dasharray":new Kr(H.paint_line["line-dasharray"]),"line-pattern":new Zr(H.paint_line["line-pattern"]),"line-gradient":new Jr(H.paint_line["line-gradient"])})},get layout(){return Vl=Vl||new $r({"line-cap":new Wr(H.layout_line["line-cap"]),"line-join":new Yr(H.layout_line["line-join"]),"line-miter-limit":new Wr(H.layout_line["line-miter-limit"]),"line-round-limit":new Wr(H.layout_line["line-round-limit"]),"line-sort-key":new Yr(H.layout_line["line-sort-key"])})}};class Hl extends Yr{possiblyEvaluate(e,t){return t=new Fr(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,i){return t=y({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,i)}}let Xl;class Wl extends ta{constructor(e){super(e,Gl),this.gradientVersion=0,Xl||(Xl=new Hl(Gl.paint.properties["line-width"].specification),Xl.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){const e=this.gradientExpression();this.stepInterpolant=!!function(e){return void 0!==e._styleExpression}(e)&&e._styleExpression.expression instanceof wt,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=Xl.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new Ul(e)}queryRadius(e){const t=e,n=Yl(Jo("line-width",this,t),Jo("line-gap-width",this,t)),i=Jo("line-offset",this,t);return n/2+Math.abs(i)+$o(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,n,i,r,o,s){const l=es(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),u=s/2*Yl(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),c=this.paint.get("line-offset").evaluate(t,n);return c&&(i=function(e,t){const n=[];for(let i=0;i<e.length;i++){const r=e[i],o=[];for(let e=0;e<r.length;e++){const n=r[e-1],i=r[e],s=r[e+1],l=0===e?new a(0,0):i.sub(n)._unit()._perp(),u=e===r.length-1?new a(0,0):s.sub(i)._unit()._perp(),c=l._add(u)._unit(),h=c.x*u.x+c.y*u.y;0!==h&&c._mult(1/h),o.push(c._mult(t)._add(i))}n.push(o)}return n}(i,c*s)),function(e,t,n){for(let i=0;i<t.length;i++){const r=t[i];if(e.length>=3)for(let t=0;t<r.length;t++)if(Zo(e,r[t]))return!0;if(qo(e,r,n))return!0}return!1}(l,i,u)}isTileClipped(){return!0}}function Yl(e,t){return t>0?t+2*e:e}const Zl=aa([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Kl=aa([{name:"a_projected_pos",components:3,type:"Float32"}],4);aa([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Jl=aa([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);aa([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const $l=aa([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),eu=aa([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function tu(e,t,n){return e.sections.forEach((e=>{e.text=function(e,t,n){const i=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?e=e.toLocaleUpperCase():"lowercase"===i&&(e=e.toLocaleLowerCase()),Dr.applyArabicShaping&&(e=Dr.applyArabicShaping(e)),e}(e.text,t,n)})),e}aa([{name:"triangle",components:3,type:"Uint16"}]),aa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),aa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),aa([{type:"Float32",name:"offsetX"}]),aa([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),aa([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const nu={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var iu=24,ru=su,au=function(e,t,n,i,r){var a,o,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?r-1:0,d=n?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=i;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),a-=u}return(f?-1:1)*o*Math.pow(2,a-i)},ou=function(e,t,n,i,r,a){var o,s,l,u=8*a-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:a-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*l-1)*Math.pow(2,r),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;e[n+f]=255&s,f+=p,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;e[n+f]=255&o,f+=p,o/=256,u-=8);e[n+f-p]|=128*g};function su(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}su.Varint=0,su.Fixed64=1,su.Bytes=2,su.Fixed32=5;var lu=4294967296,uu=1/lu,cu="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function hu(e){return e.type===su.Bytes?e.readVarint()+e.pos:e.pos+1}function du(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function fu(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function pu(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function gu(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function mu(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function yu(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function vu(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Au(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function _u(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function xu(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function bu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function wu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Eu(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function Iu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}su.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,a=this.pos;this.type=7&i,e(r,t,this),this.pos===a&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=wu(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Iu(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=wu(this.buf,this.pos)+wu(this.buf,this.pos+4)*lu;return this.pos+=8,e},readSFixed64:function(){var e=wu(this.buf,this.pos)+Iu(this.buf,this.pos+4)*lu;return this.pos+=8,e},readFloat:function(){var e=au(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=au(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,i=this.buf;return t=127&(n=i[this.pos++]),n<128?t:(t|=(127&(n=i[this.pos++]))<<7,n<128?t:(t|=(127&(n=i[this.pos++]))<<14,n<128?t:(t|=(127&(n=i[this.pos++]))<<21,n<128?t:function(e,t,n){var i,r,a=n.buf;if(i=(112&(r=a[n.pos++]))>>4,r<128)return du(e,i,t);if(i|=(127&(r=a[n.pos++]))<<3,r<128)return du(e,i,t);if(i|=(127&(r=a[n.pos++]))<<10,r<128)return du(e,i,t);if(i|=(127&(r=a[n.pos++]))<<17,r<128)return du(e,i,t);if(i|=(127&(r=a[n.pos++]))<<24,r<128)return du(e,i,t);if(i|=(1&(r=a[n.pos++]))<<31,r<128)return du(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=i[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&cu?function(e,t,n){return cu.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var i="",r=t;r<n;){var a,o,s,l=e[r],u=null,c=l>239?4:l>223?3:l>191?2:1;if(r+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(a=e[r+1]))&&(u=(31&l)<<6|63&a)<=127&&(u=null):3===c?(o=e[r+2],128==(192&(a=e[r+1]))&&128==(192&o)&&((u=(15&l)<<12|(63&a)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=e[r+2],s=e[r+3],128==(192&(a=e[r+1]))&&128==(192&o)&&128==(192&s)&&((u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,i+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),i+=String.fromCharCode(u),r+=c}return i}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==su.Bytes)return e.push(this.readVarint(t));var n=hu(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==su.Bytes)return e.push(this.readSVarint());var t=hu(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==su.Bytes)return e.push(this.readBoolean());var t=hu(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==su.Bytes)return e.push(this.readFloat());var t=hu(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==su.Bytes)return e.push(this.readDouble());var t=hu(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==su.Bytes)return e.push(this.readFixed32());var t=hu(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==su.Bytes)return e.push(this.readSFixed32());var t=hu(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==su.Bytes)return e.push(this.readFixed64());var t=hu(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==su.Bytes)return e.push(this.readSFixed64());var t=hu(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===su.Varint)for(;this.buf[this.pos++]>127;);else if(t===su.Bytes)this.pos=this.readVarint()+this.pos;else if(t===su.Fixed32)this.pos+=4;else{if(t!==su.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Eu(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Eu(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Eu(this.buf,-1&e,this.pos),Eu(this.buf,Math.floor(e*uu),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Eu(this.buf,-1&e,this.pos),Eu(this.buf,Math.floor(e*uu),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(i=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,i=i+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(i,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var i,r,a=0;a<t.length;a++){if((i=t.charCodeAt(a))>55295&&i<57344){if(!r){i>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&fu(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),ou(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),ou(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&fu(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,su.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,pu,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,gu,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,vu,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,mu,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,yu,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Au,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,_u,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,xu,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,bu,t)},writeBytesField:function(e,t){this.writeTag(e,su.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,su.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,su.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,su.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,su.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,su.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,su.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,su.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,su.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,su.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var Cu=n(ru);const ku=3;function Su(e,t,n){1===e&&n.readMessage(Tu,t)}function Tu(e,t,n){if(3===e){const{id:e,bitmap:i,width:r,height:a,left:o,top:s,advance:l}=n.readMessage(Pu,{});t.push({id:e,bitmap:new As({width:r+2*ku,height:a+2*ku},i),metrics:{width:r,height:a,left:o,top:s,advance:l}})}}function Pu(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}const Nu=ku;function Mu(e){let t=0,n=0;for(const o of e)t+=o.w*o.h,n=Math.max(n,o.w);e.sort(((e,t)=>t.h-e.h));const i=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let r=0,a=0;for(const o of e)for(let e=i.length-1;e>=0;e--){const t=i[e];if(!(o.w>t.w||o.h>t.h)){if(o.x=t.x,o.y=t.y,a=Math.max(a,o.y+o.h),r=Math.max(r,o.x+o.w),o.w===t.w&&o.h===t.h){const t=i.pop();e<i.length&&(i[e]=t)}else o.h===t.h?(t.x+=o.w,t.w-=o.w):o.w===t.w?(t.y+=o.h,t.h-=o.h):(i.push({x:t.x+o.w,y:t.y,w:t.w-o.w,h:o.h}),t.y+=o.h,t.h-=o.h);break}}return{w:r,h:a,fill:t/(r*a)||0}}const Bu=1;class Lu{constructor(e,t){let{pixelRatio:n,version:i,stretchX:r,stretchY:a,content:o,textFitWidth:s,textFitHeight:l}=t;this.paddedRect=e,this.pixelRatio=n,this.stretchX=r,this.stretchY=a,this.content=o,this.version=i,this.textFitWidth=s,this.textFitHeight=l}get tl(){return[this.paddedRect.x+Bu,this.paddedRect.y+Bu]}get br(){return[this.paddedRect.x+this.paddedRect.w-Bu,this.paddedRect.y+this.paddedRect.h-Bu]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Bu)/this.pixelRatio,(this.paddedRect.h-2*Bu)/this.pixelRatio]}}class Ru{constructor(e,t){const n={},i={};this.haveRenderCallbacks=[];const r=[];this.addImages(e,n,r),this.addImages(t,i,r);const{w:a,h:o}=Mu(r),s=new _s({width:a||1,height:o||1});for(const l in e){const t=e[l],i=n[l].paddedRect;_s.copy(t.data,s,{x:0,y:0},{x:i.x+Bu,y:i.y+Bu},t.data)}for(const l in t){const e=t[l],n=i[l].paddedRect,r=n.x+Bu,a=n.y+Bu,o=e.data.width,u=e.data.height;_s.copy(e.data,s,{x:0,y:0},{x:r,y:a},e.data),_s.copy(e.data,s,{x:0,y:u-1},{x:r,y:a-1},{width:o,height:1}),_s.copy(e.data,s,{x:0,y:0},{x:r,y:a+u},{width:o,height:1}),_s.copy(e.data,s,{x:o-1,y:0},{x:r-1,y:a},{width:1,height:u}),_s.copy(e.data,s,{x:0,y:0},{x:r+o,y:a},{width:1,height:u})}this.image=s,this.iconPositions=n,this.patternPositions=i}addImages(e,t,n){for(const i in e){const r=e[i],a={x:0,y:0,w:r.data.width+2*Bu,h:r.data.height+2*Bu};n.push(a),t[i]=new Lu(a,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[i,r]=e.tl;n.update(t.data,void 0,{x:i,y:r})}}var zu;br("ImagePosition",Lu),br("ImageAtlas",Ru),e.ai=void 0,(zu=e.ai||(e.ai={}))[zu.none=0]="none",zu[zu.horizontal=1]="horizontal",zu[zu.vertical=2]="vertical",zu[zu.horizontalOnly=3]="horizontalOnly";const Ou=-17;class Du{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const n=new Du;return n.scale=e||1,n.fontStack=t,n}static forImage(e){const t=new Du;return t.imageName=e,t}}class Fu{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const n=new Fu;for(let i=0;i<e.sections.length;i++){const r=e.sections[i];r.image?n.addImageSection(r):n.addTextSection(r,t)}return n}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n+1)||null,r=e.charCodeAt(n-1)||null;t+=i&&Lr(i)&&!nu[e[n+1]]||r&&Lr(r)&&!nu[e[n-1]]||!nu[e[n]]?e[n]:nu[e[n]]}return t}(this.text)}trim(){let e=0;for(let n=0;n<this.text.length&&Qu[this.text.charCodeAt(n)];n++)e++;let t=this.text.length;for(let n=this.text.length-1;n>=0&&n>=e&&Qu[this.text.charCodeAt(n)];n--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const n=new Fu;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Du.forText(e.scale,e.fontStack||t));const n=this.sections.length-1;for(let i=0;i<e.text.length;++i)this.sectionIndex.push(n)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void w("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Du.forImage(t)),this.sectionIndex.push(this.sections.length-1)):w("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function ju(t,n,i,r,a,o,s,l,u,c,h,d,f,p,g){const m=Fu.fromFeature(t,a);let y;d===e.ai.vertical&&m.verticalizePunctuation();const{processBidirectionalText:v,processStyledBidirectionalText:A}=Dr;if(v&&1===m.sections.length){y=[];const e=v(m.toString(),Yu(m,c,o,n,r,p));for(const t of e){const e=new Fu;e.text=t,e.sections=m.sections;for(let n=0;n<t.length;n++)e.sectionIndex.push(0);y.push(e)}}else if(A){y=[];const e=A(m.text,m.sectionIndex,Yu(m,c,o,n,r,p));for(const t of e){const e=new Fu;e.text=t[0],e.sectionIndex=t[1],e.sections=m.sections,y.push(e)}}else y=function(e,t){const n=[],i=e.text;let r=0;for(const a of t)n.push(e.substring(r,a)),r=a;return r<i.length&&n.push(e.substring(r,i.length)),n}(m,Yu(m,c,o,n,r,p));const _=[],x={positionedLines:_,text:m.toString(),top:h[1],bottom:h[1],left:h[0],right:h[0],writingMode:d,iconsInText:!1,verticalizable:!1};return function(t,n,i,r,a,o,s,l,u,c,h,d){let f=0,p=Ou,g=0,m=0;const y="right"===l?1:"left"===l?0:.5;let v=0;for(const w of a){w.trim();const a=w.getMaxScale(),s=(a-1)*iu,l={positionedGlyphs:[],lineOffset:0};t.positionedLines[v]=l;const _=l.positionedGlyphs;let x=0;if(!w.length()){p+=o,++v;continue}for(let o=0;o<w.length();o++){const l=w.getSection(o),g=w.getSectionIndex(o),m=w.getCharCode(o);let y=0,v=null,b=null,E=null,I=iu;const C=!(u===e.ai.horizontal||!h&&!Br(m)||h&&(Qu[m]||(A=m,Tr.Arabic(A)||Tr["Arabic Supplement"](A)||Tr["Arabic Extended-A"](A)||Tr["Arabic Presentation Forms-A"](A)||Tr["Arabic Presentation Forms-B"](A))));if(l.imageName){const e=r[l.imageName];if(!e)continue;E=l.imageName,t.iconsInText=t.iconsInText||!0,b=e.paddedRect;const n=e.displaySize;l.scale=l.scale*iu/d,v={width:n[0],height:n[1],left:Bu,top:-Nu,advance:C?n[1]:n[0]},y=s+(iu-n[1]*l.scale),I=v.advance;const i=C?n[0]*l.scale-iu*a:n[1]*l.scale-iu*a;i>0&&i>x&&(x=i)}else{const e=i[l.fontStack],t=e&&e[m];if(t&&t.rect)b=t.rect,v=t.metrics;else{const e=n[l.fontStack],t=e&&e[m];if(!t)continue;v=t.metrics}y=(a-l.scale)*iu}C?(t.verticalizable=!0,_.push({glyph:m,imageName:E,x:f,y:p+y,vertical:C,scale:l.scale,fontStack:l.fontStack,sectionIndex:g,metrics:v,rect:b}),f+=I*l.scale+c):(_.push({glyph:m,imageName:E,x:f,y:p+y,vertical:C,scale:l.scale,fontStack:l.fontStack,sectionIndex:g,metrics:v,rect:b}),f+=v.advance*l.scale+c)}0!==_.length&&(g=Math.max(f-c,g),Ku(_,0,_.length-1,y,x)),f=0;const b=o*a+x;l.lineOffset=Math.max(x,s),p+=b,m=Math.max(b,m),++v}var A;const _=p-Ou,{horizontalAlign:x,verticalAlign:b}=Zu(s);(function(e,t,n,i,r,a,o,s,l){const u=(t-n)*r;let c=0;c=a!==o?-s*i-Ou:(-i*l+.5)*o;for(const h of e)for(const e of h.positionedGlyphs)e.x+=u,e.y+=c})(t.positionedLines,y,x,b,g,m,o,_,a.length),t.top+=-b*_,t.bottom=t.top+_,t.left+=-x*g,t.right=t.left+g}(x,n,i,r,y,s,l,u,d,c,f,g),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(_)&&x}const Qu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Uu={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Vu={40:!0};function qu(e,t,n,i,r,a){if(t.imageName){const e=i[t.imageName];return e?e.displaySize[0]*t.scale*iu/a+r:0}{const i=n[t.fontStack],a=i&&i[e];return a?a.metrics.advance*t.scale+r:0}}function Gu(e,t,n,i){const r=Math.pow(e-t,2);return i?e<t?r/2:2*r:r+Math.abs(n)*n}function Hu(e,t,n){let i=0;return 10===e&&(i-=1e4),n&&(i+=150),40!==e&&65288!==e||(i+=50),41!==t&&65289!==t||(i+=50),i}function Xu(e,t,n,i,r,a){let o=null,s=Gu(t,n,r,a);for(const l of i){const e=Gu(t-l.x,n,r,a)+l.badness;e<=s&&(o=l,s=e)}return{index:e,x:t,priorBreak:o,badness:s}}function Wu(e){return e?Wu(e.priorBreak).concat(e.index):[]}function Yu(e,t,n,i,r,a){if(!e)return[];const o=[],s=function(e,t,n,i,r,a){let o=0;for(let s=0;s<e.length();s++){const n=e.getSection(s);o+=qu(e.getCharCode(s),n,i,r,t,a)}return o/Math.max(1,Math.ceil(o/n))}(e,t,n,i,r,a),l=e.text.indexOf("\u200b")>=0;let u=0;for(let h=0;h<e.length();h++){const n=e.getSection(h),d=e.getCharCode(h);if(Qu[d]||(u+=qu(d,n,i,r,t,a)),h<e.length()-1){const t=!((c=d)<11904||!(Tr["Bopomofo Extended"](c)||Tr.Bopomofo(c)||Tr["CJK Compatibility Forms"](c)||Tr["CJK Compatibility Ideographs"](c)||Tr["CJK Compatibility"](c)||Tr["CJK Radicals Supplement"](c)||Tr["CJK Strokes"](c)||Tr["CJK Symbols and Punctuation"](c)||Tr["CJK Unified Ideographs Extension A"](c)||Tr["CJK Unified Ideographs"](c)||Tr["Enclosed CJK Letters and Months"](c)||Tr["Halfwidth and Fullwidth Forms"](c)||Tr.Hiragana(c)||Tr["Ideographic Description Characters"](c)||Tr["Kangxi Radicals"](c)||Tr["Katakana Phonetic Extensions"](c)||Tr.Katakana(c)||Tr["Vertical Forms"](c)||Tr["Yi Radicals"](c)||Tr["Yi Syllables"](c)));(Uu[d]||t||n.imageName||h!==e.length()-2&&Vu[e.getCharCode(h+1)])&&o.push(Xu(h+1,u,s,o,Hu(d,e.getCharCode(h+1),t&&l),!1))}}var c;return Wu(Xu(e.length(),u,s,o,0,!0))}function Zu(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Ku(e,t,n,i,r){if(!i&&!r)return;const a=e[n],o=(e[n].x+a.metrics.advance*a.scale)*i;for(let s=t;s<=n;s++)e[s].x-=o,e[s].y+=r}function Ju(e,t,n){const{horizontalAlign:i,verticalAlign:r}=Zu(n),a=t[0]-e.displaySize[0]*i,o=t[1]-e.displaySize[1]*r;return{image:e,top:o,bottom:o+e.displaySize[1],left:a,right:a+e.displaySize[0]}}function $u(e){var t,n;let i=e.left,r=e.top,a=e.right-i,o=e.bottom-r;const s=null!==(t=e.image.textFitWidth)&&void 0!==t?t:"stretchOrShrink",l=null!==(n=e.image.textFitHeight)&&void 0!==n?n:"stretchOrShrink",u=(e.image.content[2]-e.image.content[0])/(e.image.content[3]-e.image.content[1]);if("proportional"===l){if("stretchOnly"===s&&a/o<u||"proportional"===s){const e=Math.ceil(o*u);i*=e/a,a=e}}else if("proportional"===s&&"stretchOnly"===l&&0!==u&&a/o>u){const e=Math.ceil(a/u);r*=e/o,o=e}return{x1:i,y1:r,x2:i+a,y2:r+o}}function ec(e,t,n,i,r,a){const o=e.image;let s;if(o.content){const e=o.content,t=o.pixelRatio||1;s=[e[0]/t,e[1]/t,o.displaySize[0]-e[2]/t,o.displaySize[1]-e[3]/t]}const l=t.left*a,u=t.right*a;let c,h,d,f;"width"===n||"both"===n?(f=r[0]+l-i[3],h=r[0]+u+i[1]):(f=r[0]+(l+u-o.displaySize[0])/2,h=f+o.displaySize[0]);const p=t.top*a,g=t.bottom*a;return"height"===n||"both"===n?(c=r[1]+p-i[0],d=r[1]+g+i[2]):(c=r[1]+(p+g-o.displaySize[1])/2,d=c+o.displaySize[1]),{image:o,top:c,right:h,bottom:d,left:f,collisionPadding:s}}const tc=255,nc=128,ic=tc*nc;function rc(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Fr(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:i}=n;let r=0;for(;r<t.length&&t[r]<=e;)r++;r=Math.max(0,r-1);let a=r;for(;a<t.length&&t[a]<e+1;)a++;a=Math.min(t.length-1,a);const o=t[r],s=t[a];return"composite"===n.kind?{kind:"composite",minZoom:o,maxZoom:s,interpolationType:i}:{kind:"camera",minZoom:o,maxZoom:s,minSize:n.evaluate(new Fr(o)),maxSize:n.evaluate(new Fr(s)),interpolationType:i}}}function ac(e,t,n){let i="never";const r=e.get(t);return r?i=r:e.get(n)&&(i="always"),i}const oc=dl.VectorTileFeature.types,sc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function lc(e,t,n,i,r,a,o,s,l,u,c,h,d){const f=s?Math.min(ic,Math.round(s[0])):0,p=s?Math.min(ic,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*i),Math.round(32*r),a,o,(f<<1)+(l?1:0),p,16*u,16*c,256*h,256*d)}function uc(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function cc(e){for(const t of e.sections)if(Or(t.text))return!0;return!1}class hc{constructor(e){this.layoutVertexArray=new Ya,this.indexArray=new eo,this.programConfigurations=e,this.segments=new ro,this.dynamicLayoutVertexArray=new Za,this.opacityVertexArray=new Ka,this.hasVisibleVertices=!1,this.placedSymbolArray=new Ba}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Zl.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Kl.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,sc,!0),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}br("SymbolBuffers",hc);class dc{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new ro,this.collisionVertexArray=new $a}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Jl.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}br("CollisionBuffers",dc);class fc{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=os([]),this.placementViewportMatrix=os([]);const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=rc(this.zoom,n["text-size"]),this.iconSizeData=rc(this.zoom,n["icon-size"]);const i=this.layers[0].layout,r=i.get("symbol-sort-key"),a=i.get("symbol-z-order");this.canOverlap="never"!==ac(i,"text-overlap","text-allow-overlap")||"never"!==ac(i,"icon-overlap","icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==a&&!r.isConstant(),this.sortFeaturesByY=("viewport-y"===a||"auto"===a&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===i.get("symbol-placement")&&(this.writingModes=i.get("text-writing-mode").map((t=>e.ai[t]))),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=t.sourceID}createArrays(){this.text=new hc(new No(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new hc(new No(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new za,this.lineVertexArray=new Oa,this.symbolInstances=new Ra,this.textAnchorOffsets=new Fa}calculateGlyphDependencies(e,t,n,i,r){for(let a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,(n||i)&&r){const n=nu[e.charAt(a)];n&&(t[n.charCodeAt(0)]=!0)}}populate(t,n,i){const r=this.layers[0],a=r.layout,o=a.get("text-font"),s=a.get("text-field"),l=a.get("icon-image"),u=("constant"!==s.value.kind||s.value.value instanceof Ze&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),c="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,h=a.get("symbol-sort-key");if(this.features=[],!u&&!c)return;const d=n.iconDependencies,f=n.glyphDependencies,p=n.availableImages,g=new Fr(this.zoom);for(const{feature:m,id:y,index:v,sourceLayerIndex:A}of t){const t=r._featureFilter.needGeometry,n=Do(m,t);if(!r._featureFilter.filter(g,n,i))continue;let s,l;if(t||(n.geometry=Oo(m)),u){const e=r.getValueAndResolveTokens("text-field",n,i,p),t=Ze.factory(e),a=this.hasRTLText=this.hasRTLText||cc(t);(!a||"unavailable"===Dr.getRTLTextPluginStatus()||a&&Dr.isParsed())&&(s=tu(t,r,n))}if(c){const e=r.getValueAndResolveTokens("icon-image",n,i,p);l=e instanceof et?e:et.fromString(e)}if(!s&&!l)continue;const _=this.sortFeaturesByKey?h.evaluate(n,{},i):void 0;if(this.features.push({id:y,text:s,icon:l,index:v,sourceLayerIndex:A,geometry:n.geometry,properties:m.properties,type:oc[m.type],sortKey:_}),l&&(d[l.name]=!0),s){const t=o.evaluate(n,{},i).join(","),r="viewport"!==a.get("text-rotation-alignment")&&"point"!==a.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(e.ai.vertical)>=0;for(const e of s.sections)if(e.image)d[e.image.name]=!0;else{const n=Pr(s.toString()),i=e.fontStack||t,a=f[i]=f[i]||{};this.calculateGlyphDependencies(e.text,a,r,this.allowVerticalPlacement,n)}}}"line"===a.get("symbol-placement")&&(this.features=function(e){const t={},n={},i=[];let r=0;function a(t){i.push(e[t]),r++}function o(e,t,r){const a=n[e];return delete n[e],n[t]=a,i[a].geometry[0].pop(),i[a].geometry[0]=i[a].geometry[0].concat(r[0]),a}function s(e,n,r){const a=t[n];return delete t[n],t[e]=a,i[a].geometry[0].shift(),i[a].geometry[0]=r[0].concat(i[a].geometry[0]),a}function l(e,t,n){const i=n?t[0][t[0].length-1]:t[0][0];return"".concat(e,":").concat(i.x,":").concat(i.y)}for(let u=0;u<e.length;u++){const c=e[u],h=c.geometry,d=c.text?c.text.toString():null;if(!d){a(u);continue}const f=l(d,h),p=l(d,h,!0);if(f in n&&p in t&&n[f]!==t[p]){const e=s(f,p,h),r=o(f,p,i[e].geometry);delete t[f],delete n[p],n[l(d,i[r].geometry,!0)]=r,i[e].geometry=null}else f in n?o(f,p,h):p in t?s(f,p,h):(a(u),t[f]=r-1,n[p]=r-1)}return i.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey))}update(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment){let n=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]);const r={};for(let a=e.segment+1;a<t.length;a++)r[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:n},a<t.length-1&&(n+=t[a+1].dist(t[a]));for(let a=e.segment||0;a>=0;a--)r[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:i},a>0&&(i+=t[a-1].dist(t[a]));for(let e=0;e<t.length;e++){const t=r[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(t,n,i,r,a,o,s,l,u,c,h,d){const f=t.indexArray,p=t.layoutVertexArray,g=t.segments.prepareSegment(4*n.length,p,f,this.canOverlap?o.sortKey:void 0),m=this.glyphOffsetArray.length,y=g.vertexLength,v=this.allowVerticalPlacement&&s===e.ai.vertical?Math.PI/2:0,A=o.text&&o.text.sections;for(let e=0;e<n.length;e++){const{tl:r,tr:a,bl:s,br:u,tex:c,pixelOffsetTL:h,pixelOffsetBR:m,minFontScaleX:y,minFontScaleY:_,glyphOffset:x,isSDF:b,sectionIndex:w}=n[e],E=g.vertexLength,I=x[1];lc(p,l.x,l.y,r.x,I+r.y,c.x,c.y,i,b,h.x,h.y,y,_),lc(p,l.x,l.y,a.x,I+a.y,c.x+c.w,c.y,i,b,m.x,h.y,y,_),lc(p,l.x,l.y,s.x,I+s.y,c.x,c.y+c.h,i,b,h.x,m.y,y,_),lc(p,l.x,l.y,u.x,I+u.y,c.x+c.w,c.y+c.h,i,b,m.x,m.y,y,_),uc(t.dynamicLayoutVertexArray,l,v),f.emplaceBack(E,E+1,E+2),f.emplaceBack(E+1,E+2,E+3),g.vertexLength+=4,g.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),e!==n.length-1&&w===n[e+1].sectionIndex||t.programConfigurations.populatePaintArrays(p.length,o,o.index,{},d,A&&A[w])}t.placedSymbolArray.emplaceBack(l.x,l.y,m,this.glyphOffsetArray.length-m,y,u,c,l.segment,i?i[0]:0,i?i[1]:0,r[0],r[1],s,0,!1,0,h)}_addCollisionDebugVertex(e,t,n,i,r,a){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,i,r,Math.round(a.x),Math.round(a.y))}addCollisionDebugVertices(e,t,n,i,r,o,s){const l=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),u=l.vertexLength,c=r.layoutVertexArray,h=r.collisionVertexArray,d=s.anchorX,f=s.anchorY;this._addCollisionDebugVertex(c,h,o,d,f,new a(e,t)),this._addCollisionDebugVertex(c,h,o,d,f,new a(n,t)),this._addCollisionDebugVertex(c,h,o,d,f,new a(n,i)),this._addCollisionDebugVertex(c,h,o,d,f,new a(e,i)),l.vertexLength+=4;const p=r.indexArray;p.emplaceBack(u,u+1),p.emplaceBack(u+1,u+2),p.emplaceBack(u+2,u+3),p.emplaceBack(u+3,u),l.primitiveLength+=4}addDebugCollisionBoxes(e,t,n,i){for(let r=e;r<t;r++){const e=this.collisionBoxArray.get(r);this.addCollisionDebugVertices(e.x1,e.y1,e.x2,e.y2,i?this.textCollisionBox:this.iconCollisionBox,e.anchorPoint,n)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new dc(Ja,$l.members,to),this.iconCollisionBox=new dc(Ja,$l.members,to);for(let e=0;e<this.symbolInstances.length;e++){const t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}}_deserializeCollisionBoxesForSymbol(e,t,n,i,r,a,o,s,l){const u={};for(let c=t;c<n;c++){const t=e.get(c);u.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},u.textFeatureIndex=t.featureIndex;break}for(let c=i;c<r;c++){const t=e.get(c);u.verticalTextBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},u.verticalTextFeatureIndex=t.featureIndex;break}for(let c=a;c<o;c++){const t=e.get(c);u.iconBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},u.iconFeatureIndex=t.featureIndex;break}for(let c=s;c<l;c++){const t=e.get(c);u.verticalIconBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},u.verticalIconFeatureIndex=t.featureIndex;break}return u}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),i=n.vertexStartIndex+4*n.numGlyphs;for(let r=n.vertexStartIndex;r<i;r+=4)e.indexArray.emplaceBack(r,r+1,r+2),e.indexArray.emplaceBack(r+1,r+2,r+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),i=[],r=[],a=[];for(let o=0;o<this.symbolInstances.length;++o){a.push(o);const e=this.symbolInstances.get(o);i.push(0|Math.round(t*e.anchorX+n*e.anchorY)),r.push(e.featureIndex)}return a.sort(((e,t)=>i[e]-i[t]||r[t]-r[e])),a}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach(((e,t,n)=>{e>=0&&n.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)})),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let pc,gc;br("SymbolBucket",fc,{omit:["layers","collisionBoxArray","features","compareText"]}),fc.MAX_GLYPHS=65535,fc.addDynamicAttributes=uc;var mc={get paint(){return gc=gc||new $r({"icon-opacity":new Yr(H.paint_symbol["icon-opacity"]),"icon-color":new Yr(H.paint_symbol["icon-color"]),"icon-halo-color":new Yr(H.paint_symbol["icon-halo-color"]),"icon-halo-width":new Yr(H.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Yr(H.paint_symbol["icon-halo-blur"]),"icon-translate":new Wr(H.paint_symbol["icon-translate"]),"icon-translate-anchor":new Wr(H.paint_symbol["icon-translate-anchor"]),"text-opacity":new Yr(H.paint_symbol["text-opacity"]),"text-color":new Yr(H.paint_symbol["text-color"],{runtimeType:de,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Yr(H.paint_symbol["text-halo-color"]),"text-halo-width":new Yr(H.paint_symbol["text-halo-width"]),"text-halo-blur":new Yr(H.paint_symbol["text-halo-blur"]),"text-translate":new Wr(H.paint_symbol["text-translate"]),"text-translate-anchor":new Wr(H.paint_symbol["text-translate-anchor"])})},get layout(){return pc=pc||new $r({"symbol-placement":new Wr(H.layout_symbol["symbol-placement"]),"symbol-spacing":new Wr(H.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Wr(H.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Yr(H.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Wr(H.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Wr(H.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Wr(H.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Wr(H.layout_symbol["icon-ignore-placement"]),"icon-optional":new Wr(H.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Wr(H.layout_symbol["icon-rotation-alignment"]),"icon-size":new Yr(H.layout_symbol["icon-size"]),"icon-text-fit":new Wr(H.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Wr(H.layout_symbol["icon-text-fit-padding"]),"icon-image":new Yr(H.layout_symbol["icon-image"]),"icon-rotate":new Yr(H.layout_symbol["icon-rotate"]),"icon-padding":new Yr(H.layout_symbol["icon-padding"]),"icon-keep-upright":new Wr(H.layout_symbol["icon-keep-upright"]),"icon-offset":new Yr(H.layout_symbol["icon-offset"]),"icon-anchor":new Yr(H.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Wr(H.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Wr(H.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Wr(H.layout_symbol["text-rotation-alignment"]),"text-field":new Yr(H.layout_symbol["text-field"]),"text-font":new Yr(H.layout_symbol["text-font"]),"text-size":new Yr(H.layout_symbol["text-size"]),"text-max-width":new Yr(H.layout_symbol["text-max-width"]),"text-line-height":new Wr(H.layout_symbol["text-line-height"]),"text-letter-spacing":new Yr(H.layout_symbol["text-letter-spacing"]),"text-justify":new Yr(H.layout_symbol["text-justify"]),"text-radial-offset":new Yr(H.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Wr(H.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Yr(H.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Yr(H.layout_symbol["text-anchor"]),"text-max-angle":new Wr(H.layout_symbol["text-max-angle"]),"text-writing-mode":new Wr(H.layout_symbol["text-writing-mode"]),"text-rotate":new Yr(H.layout_symbol["text-rotate"]),"text-padding":new Wr(H.layout_symbol["text-padding"]),"text-keep-upright":new Wr(H.layout_symbol["text-keep-upright"]),"text-transform":new Yr(H.layout_symbol["text-transform"]),"text-offset":new Yr(H.layout_symbol["text-offset"]),"text-allow-overlap":new Wr(H.layout_symbol["text-allow-overlap"]),"text-overlap":new Wr(H.layout_symbol["text-overlap"]),"text-ignore-placement":new Wr(H.layout_symbol["text-ignore-placement"]),"text-optional":new Wr(H.layout_symbol["text-optional"])})}};class yc{constructor(e){if(void 0===e.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=e.property.overrides?e.property.overrides.runtimeType:le,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}br("FormatSectionOverride",yc,{omit:["defaultValue"]});class vc extends ta{constructor(e){super(e,mc)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const e=this.layout.get("text-writing-mode");if(e){const t=[];for(const n of e)t.indexOf(n)<0&&t.push(n);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,i){const r=this.layout.get(e).evaluate(t,{},n,i),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||_i(a.value)||!r?r:function(e,t){return t.replace(/{([^{}]+)}/g,((t,n)=>e&&n in e?String(e[n]):""))}(t.properties,r)}createBucket(e){return new fc(e)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const e of mc.paint.overridableProperties){if(!vc.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new yc(t),i=new Ai(n,t.property.specification);let r=null;r="constant"===t.value.kind||"source"===t.value.kind?new bi("source",i):new wi("composite",i,t.value.zoomStops),this.paint._values[e]=new Hr(t.property,r,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&vc.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),i=mc.paint.properties[t];let r=!1;const a=e=>{for(const t of e)if(i.overrides&&i.overrides.hasOverride(t))return void(r=!0)};if("constant"===n.value.kind&&n.value.value instanceof Ze)a(n.value.value.sections);else if("source"===n.value.kind){const e=t=>{r||(t instanceof at&&it(t.value)===me?a(t.value.sections):t instanceof Gt?a(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return r}}let Ac;var _c={get paint(){return Ac=Ac||new $r({"background-color":new Wr(H.paint_background["background-color"]),"background-pattern":new Kr(H.paint_background["background-pattern"]),"background-opacity":new Wr(H.paint_background["background-opacity"])})}};class xc extends ta{constructor(e){super(e,_c)}}let bc;var wc={get paint(){return bc=bc||new $r({"raster-opacity":new Wr(H.paint_raster["raster-opacity"]),"raster-hue-rotate":new Wr(H.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Wr(H.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Wr(H.paint_raster["raster-brightness-max"]),"raster-saturation":new Wr(H.paint_raster["raster-saturation"]),"raster-contrast":new Wr(H.paint_raster["raster-contrast"]),"raster-resampling":new Wr(H.paint_raster["raster-resampling"]),"raster-fade-duration":new Wr(H.paint_raster["raster-fade-duration"])})}};class Ec extends ta{constructor(e){super(e,wc)}}class Ic extends ta{constructor(e){super(e,{}),this.onAdd=e=>{this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},this.onRemove=e=>{this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Cc{constructor(e){this._methodToThrottle=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const kc=6371008.8;class Sc{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: (".concat(e,", ").concat(t,")"));if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Sc(m(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}distanceTo(e){const t=Math.PI/180,n=this.lat*t,i=e.lat*t,r=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((e.lng-this.lng)*t);return kc*Math.acos(Math.min(r,1))}static convert(e){if(e instanceof Sc)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Sc(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Sc(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Tc=2*Math.PI*kc;function Pc(e){return Tc*Math.cos(e*Math.PI/180)}function Nc(e){return(180+e)/360}function Mc(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Bc(e,t){return e/Pc(t)}function Lc(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}class Rc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Sc.convert(e);return new Rc(Nc(n.lng),Mc(n.lat),Bc(t,n.lat))}toLngLat(){return new Sc(360*this.x-180,Lc(this.y))}toAltitude(){return this.z*Pc(Lc(this.y))}meterInMercatorCoordinateUnits(){return 1/Tc*(e=Lc(this.y),1/Math.cos(e*Math.PI/180));var e}}function zc(e,t,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[e*i-2*Math.PI*6378137/2,t*i-2*Math.PI*6378137/2]}class Oc{constructor(e,t,n){if(e<0||e>25||n<0||n>=Math.pow(2,e)||t<0||t>=Math.pow(2,e))throw new Error("x=".concat(t,", y=").concat(n,", z=").concat(e," outside of bounds. 0<=x<").concat(Math.pow(2,e),", 0<=y<").concat(Math.pow(2,e)," 0<=z<=25 "));this.z=e,this.x=t,this.y=n,this.key=jc(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t,n){const i=(a=this.y,o=this.z,s=zc(256*(r=this.x),256*(a=Math.pow(2,o)-a-1),o),l=zc(256*(r+1),256*(a+1),o),s[0]+","+s[1]+","+l[0]+","+l[1]);var r,a,o,s,l;const u=function(e,t,n){let i,r="";for(let a=e;a>0;a--)i=1<<a-1,r+=(t&i?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,t>1?"@2x":"").replace(/{quadkey}/g,u).replace(/{bbox-epsg-3857}/g,i)}isChildOf(e){const t=this.z-e.z;return t>0&&e.x===this.x>>t&&e.y===this.y>>t}getTilePoint(e){const t=Math.pow(2,this.z);return new a((e.x*t-this.x)*Lo,(e.y*t-this.y)*Lo)}toString(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}class Dc{constructor(e,t){this.wrap=e,this.canonical=t,this.key=jc(e,t.z,t.z,t.x,t.y)}}class Fc{constructor(e,t,n,i,r){if(e<n)throw new Error("overscaledZ should be >= z; overscaledZ = ".concat(e,"; z = ").concat(n));this.overscaledZ=e,this.wrap=t,this.canonical=new Oc(n,+i,+r),this.key=jc(t,e,n,i,r)}clone(){return new Fc(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){if(e>this.overscaledZ)throw new Error("targetZ > this.overscaledZ; targetZ = ".concat(e,"; overscaledZ = ").concat(this.overscaledZ));const t=this.canonical.z-e;return e>this.canonical.z?new Fc(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Fc(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t){if(e>this.overscaledZ)throw new Error("targetZ > this.overscaledZ; targetZ = ".concat(e,"; overscaledZ = ").concat(this.overscaledZ));const n=this.canonical.z-e;return e>this.canonical.z?jc(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):jc(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new Fc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new Fc(t,this.wrap,t,n,i),new Fc(t,this.wrap,t,n+1,i),new Fc(t,this.wrap,t,n,i+1),new Fc(t,this.wrap,t,n+1,i+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Fc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Fc(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Dc(this.wrap,this.canonical)}toString(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}getTilePoint(e){return this.canonical.getTilePoint(new Rc(e.x-this.wrap,e.y))}}function jc(e,t,n,i,r){(e*=2)<0&&(e=-1*e-1);const a=1<<n;return(a*a*e+a*r+i).toString(36)+n.toString(36)+t.toString(36)}br("CanonicalTileID",Oc),br("OverscaledTileID",Fc,{omit:["posMatrix"]});class Qc{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&!["mapbox","terrarium","custom"].includes(n))return void w('"'.concat(n,'" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".'));this.stride=t.height;const s=this.dim=t.height-2;switch(this.data=new Uint32Array(t.data.buffer),n){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=i,this.greenFactor=r,this.blueFactor=a,this.baseShift=o;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let l=0;l<s;l++)this.data[this._idx(-1,l)]=this.data[this._idx(0,l)],this.data[this._idx(s,l)]=this.data[this._idx(s-1,l)],this.data[this._idx(l,-1)]=this.data[this._idx(l,0)],this.data[this._idx(l,s)]=this.data[this._idx(l,s-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(s,-1)]=this.data[this._idx(s-1,0)],this.data[this._idx(-1,s)]=this.data[this._idx(0,s-1)],this.data[this._idx(s,s)]=this.data[this._idx(s-1,s-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let l=0;l<s;l++)for(let e=0;e<s;e++){const t=this.get(l,e);t>this.max&&(this.max=t),t<this.min&&(this.min=t)}}get(e,t){const n=new Uint8Array(this.data.buffer),i=4*this._idx(e,t);return this.unpack(n[i],n[i+1],n[i+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}unpack(e,t,n){return e*this.redFactor+t*this.greenFactor+n*this.blueFactor-this.baseShift}getPixels(){return new _s({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let i=t*this.dim,r=t*this.dim+this.dim,a=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:a=o-1;break;case 1:o=a+1}const s=-t*this.dim,l=-n*this.dim;for(let u=a;u<o;u++)for(let t=i;t<r;t++)this.data[this._idx(t,u)]=e.data[this._idx(t+s,u+l)]}}br("DEMData",Qc);class Uc{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){if(e>=this._numberToString.length)throw new Error("Out of bounds. Index requested n=".concat(e," can't be >= this._numberToString.length ").concat(this._numberToString.length));return this._numberToString[e]}}class Vc{constructor(e,t,n,i,r){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=i,this.properties=e.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}class qc{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new _r(Lo,16,0),this.grid3D=new _r(Lo,16,0),this.featureIndexArray=new Qa,this.promoteId=t}insert(e,t,n,i,r,a){const o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r);const s=a?this.grid3D:this.grid;for(let l=0;l<t.length;l++){const e=t[l],n=[1/0,1/0,-1/0,-1/0];for(let t=0;t<e.length;t++){const i=e[t];n[0]=Math.min(n[0],i.x),n[1]=Math.min(n[1],i.y),n[2]=Math.max(n[2],i.x),n[3]=Math.max(n[3],i.y)}n[0]<Lo&&n[1]<Lo&&n[2]>=0&&n[3]>=0&&s.insert(o,n[0],n[1],n[2],n[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new dl.VectorTile(new Cu(this.rawTileData)).layers,this.sourceLayerCoder=new Uc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,n,i){this.loadVTLayers();const r=e.params||{},o=Lo/e.tileSize/e.scale,s=Ti(r.filter),l=e.queryGeometry,u=e.queryPadding*o,c=Hc(l),h=this.grid.query(c.minX-u,c.minY-u,c.maxX+u,c.maxY+u),d=Hc(e.cameraQueryGeometry),f=this.grid3D.query(d.minX-u,d.minY-u,d.maxX+u,d.maxY+u,((t,n,i,r)=>function(e,t,n,i,r){for(const a of e)if(t<=a.x&&n<=a.y&&i>=a.x&&r>=a.y)return!0;const o=[new a(t,n),new a(t,r),new a(i,r),new a(i,n)];if(e.length>2)for(const a of o)if(Zo(e,a))return!0;for(let a=0;a<e.length-1;a++)if(Ko(e[a],e[a+1],o))return!0;return!1}(e.cameraQueryGeometry,t-u,n-u,i+u,r+u)));for(const a of f)h.push(a);h.sort(Xc);const p={};let g;for(let a=0;a<h.length;a++){const u=h[a];if(u===g)continue;g=u;const c=this.featureIndexArray.get(u);let d=null;this.loadMatchingFeature(p,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,s,r.layers,r.availableImages,t,n,i,((t,n,i)=>(d||(d=Oo(t)),n.queryIntersectsFeature(l,t,i,d,this.z,e.transform,o,e.pixelPosMatrix))))}return p}loadMatchingFeature(e,t,n,i,r,a,o,s,l,u,c){const h=this.bucketLayerIDs[t];if(a&&!function(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(a,h))return;const d=this.sourceLayerCoder.decode(n),f=this.vtLayers[d].feature(i);if(r.needGeometry){const e=Do(f,!0);if(!r.filter(new Fr(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!r.filter(new Fr(this.tileID.overscaledZ),f))return;const p=this.getId(f,d);for(let g=0;g<h.length;g++){const t=h[g];if(a&&a.indexOf(t)<0)continue;const n=s[t];if(!n)continue;let r={};p&&u&&(r=u.getState(n.sourceLayer||"_geojsonTileLayer",p));const d=y({},l[t]);d.paint=Gc(d.paint,n.paint,f,r,o),d.layout=Gc(d.layout,n.layout,f,r,o);const m=!c||c(f,n,r);if(!m)continue;const v=new Vc(f,this.z,this.x,this.y,p);v.layer=d;let A=e[t];void 0===A&&(A=e[t]=[]),A.push({featureIndex:i,feature:v,intersectionZ:m})}}lookupSymbolFeatures(e,t,n,i,r,a,o,s){const l={};this.loadVTLayers();const u=Ti(r);for(const c of e)this.loadMatchingFeature(l,n,i,c,u,a,o,s,t);return l}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){let n=e.id;return this.promoteId&&(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]],"boolean"==typeof n&&(n=Number(n))),n}}function Gc(e,t,n,i,r){return A(e,((e,a)=>{const o=t instanceof Xr?t.get(a):null;return o&&o.evaluate?o.evaluate(n,i,r):o}))}function Hc(e){let t=1/0,n=1/0,i=-1/0,r=-1/0;for(const a of e)t=Math.min(t,a.x),n=Math.min(n,a.y),i=Math.max(i,a.x),r=Math.max(r,a.y);return{minX:t,minY:n,maxX:i,maxY:r}}function Xc(e,t){return t-e}function Wc(e,t,n,i,r){const o=[];for(let s=0;s<e.length;s++){const l=e[s];let u;for(let e=0;e<l.length-1;e++){let s=l[e],c=l[e+1];s.x<t&&c.x<t||(s.x<t?s=new a(t,s.y+(t-s.x)/(c.x-s.x)*(c.y-s.y))._round():c.x<t&&(c=new a(t,s.y+(t-s.x)/(c.x-s.x)*(c.y-s.y))._round()),s.y<n&&c.y<n||(s.y<n?s=new a(s.x+(n-s.y)/(c.y-s.y)*(c.x-s.x),n)._round():c.y<n&&(c=new a(s.x+(n-s.y)/(c.y-s.y)*(c.x-s.x),n)._round()),s.x>=i&&c.x>=i||(s.x>=i?s=new a(i,s.y+(i-s.x)/(c.x-s.x)*(c.y-s.y))._round():c.x>=i&&(c=new a(i,s.y+(i-s.x)/(c.x-s.x)*(c.y-s.y))._round()),s.y>=r&&c.y>=r||(s.y>=r?s=new a(s.x+(r-s.y)/(c.y-s.y)*(c.x-s.x),r)._round():c.y>=r&&(c=new a(s.x+(r-s.y)/(c.y-s.y)*(c.x-s.x),r)._round()),u&&s.equals(u[u.length-1])||(u=[s],o.push(u)),u.push(c)))))}}return o}br("FeatureIndex",qc,{omit:["rawTileData","sourceLayerCoder"]});class Yc extends a{constructor(e,t,n,i){super(e,t),this.angle=n,void 0!==i&&(this.segment=i)}clone(){return new Yc(this.x,this.y,this.angle,this.segment)}}function Zc(e,t,n,i,r){if(void 0===t.segment||0===n)return!0;let a=t,o=t.segment+1,s=0;for(;s>-n/2;){if(o--,o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;const l=[];let u=0;for(;s<n/2;){const t=e[o],n=e[o+1];if(!n)return!1;let a=e[o-1].angleTo(t)-t.angleTo(n);for(a=Math.abs((a+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:a}),u+=a;s-l[0].distance>i;)u-=l.shift().angleDelta;if(u>r)return!1;o++,s+=t.dist(n)}return!0}function Kc(e){let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Jc(e,t,n){return e?.6*t*n:0}function $c(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function eh(e,t,n,i,r,a){const o=Jc(n,r,a),s=$c(n,i)*a;let l=0;const u=Kc(e)/2;for(let c=0;c<e.length-1;c++){const n=e[c],i=e[c+1],r=n.dist(i);if(l+r>u){const a=(u-l)/r,h=Pt.number(n.x,i.x,a),d=Pt.number(n.y,i.y,a),f=new Yc(h,d,i.angleTo(n),c);return f._round(),!o||Zc(e,f,s,o,t)?f:void 0}l+=r}}function th(e,t,n,i,r,a,o,s,l){const u=Jc(i,a,o),c=$c(i,r),h=c*o,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),nh(e,d?t/2*s%t:(c/2+2*a)*o*s%t,t,u,n,h,d,!1,l)}function nh(e,t,n,i,r,a,o,s,l){const u=a/2,c=Kc(e);let h=0,d=t-n,f=[];for(let p=0;p<e.length-1;p++){const t=e[p],o=e[p+1],s=t.dist(o),g=o.angleTo(t);for(;d+n<h+s;){d+=n;const m=(d-h)/s,y=Pt.number(t.x,o.x,m),v=Pt.number(t.y,o.y,m);if(y>=0&&y<l&&v>=0&&v<l&&d-u>=0&&d+u<=c){const t=new Yc(y,v,g,p);t._round(),i&&!Zc(e,t,a,i,r)||f.push(t)}}h+=s}return s||f.length||o||(f=nh(e,h/2,n,i,r,a,o,!0,l)),f}br("Anchor",Yc);const ih=Bu;function rh(e,t,n,i){const r=[],o=e.image,s=o.pixelRatio,l=o.paddedRect.w-2*ih,u=o.paddedRect.h-2*ih;let c={x1:e.left,y1:e.top,x2:e.right,y2:e.bottom};const h=o.stretchX||[[0,l]],d=o.stretchY||[[0,u]],f=(e,t)=>e+t[1]-t[0],p=h.reduce(f,0),g=d.reduce(f,0),m=l-p,y=u-g;let v=0,A=p,_=0,x=g,b=0,w=m,E=0,I=y;if(o.content&&i){const t=o.content,n=t[2]-t[0],i=t[3]-t[1];(o.textFitWidth||o.textFitHeight)&&(c=$u(e)),v=ah(h,0,t[0]),_=ah(d,0,t[1]),A=ah(h,t[0],t[2]),x=ah(d,t[1],t[3]),b=t[0]-v,E=t[1]-_,w=n-A,I=i-x}const C=c.x1,k=c.y1,S=c.x2-C,T=c.y2-k,P=(e,i,r,l)=>{const u=sh(e.stretch-v,A,S,C),c=lh(e.fixed-b,w,e.stretch,p),h=sh(i.stretch-_,x,T,k),d=lh(i.fixed-E,I,i.stretch,g),f=sh(r.stretch-v,A,S,C),m=lh(r.fixed-b,w,r.stretch,p),y=sh(l.stretch-_,x,T,k),P=lh(l.fixed-E,I,l.stretch,g),N=new a(u,h),M=new a(f,h),B=new a(f,y),L=new a(u,y),R=new a(c/s,d/s),z=new a(m/s,P/s),O=t*Math.PI/180;if(O){const e=Math.sin(O),t=Math.cos(O),n=[t,-e,e,t];N._matMult(n),M._matMult(n),L._matMult(n),B._matMult(n)}const D=e.stretch+e.fixed,F=i.stretch+i.fixed;return{tl:N,tr:M,bl:L,br:B,tex:{x:o.paddedRect.x+ih+D,y:o.paddedRect.y+ih+F,w:r.stretch+r.fixed-D,h:l.stretch+l.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:z,minFontScaleX:w/s/S,minFontScaleY:I/s/T,isSDF:n}};if(i&&(o.stretchX||o.stretchY)){const e=oh(h,m,p),t=oh(d,y,g);for(let n=0;n<e.length-1;n++){const i=e[n],a=e[n+1];for(let e=0;e<t.length-1;e++)r.push(P(i,t[e],a,t[e+1]))}}else r.push(P({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:u+1}));return r}function ah(e,t,n){let i=0;for(const r of e)i+=Math.max(t,Math.min(n,r[1]))-Math.max(t,Math.min(n,r[0]));return i}function oh(e,t,n){const i=[{fixed:-ih,stretch:0}];for(const[r,a]of e){const e=i[i.length-1];i.push({fixed:r-e.stretch,stretch:e.stretch}),i.push({fixed:r-e.stretch,stretch:e.stretch+(a-r)})}return i.push({fixed:t+ih,stretch:n}),i}function sh(e,t,n,i){return e/t*n+i}function lh(e,t,n,i){return e-t*n/i}class uh{constructor(e,t,n,i,r,o,s,l,u,c){var h;if(this.boxStartIndex=e.length,u){let e=o.top,t=o.bottom;const n=o.collisionPadding;n&&(e-=n[1],t+=n[3]);let i=t-e;i>0&&(i=Math.max(10,i),this.circleDiameter=i)}else{const u=(null===(h=o.image)||void 0===h?void 0:h.content)&&(o.image.textFitWidth||o.image.textFitHeight)?$u(o):{x1:o.left,y1:o.top,x2:o.right,y2:o.bottom};u.y1=u.y1*s-l[0],u.y2=u.y2*s+l[2],u.x1=u.x1*s-l[3],u.x2=u.x2*s+l[1];const d=o.collisionPadding;if(d&&(u.x1-=d[0]*s,u.y1-=d[1]*s,u.x2+=d[2]*s,u.y2+=d[3]*s),c){const e=new a(u.x1,u.y1),t=new a(u.x2,u.y1),n=new a(u.x1,u.y2),i=new a(u.x2,u.y2),r=c*Math.PI/180;e._rotate(r),t._rotate(r),n._rotate(r),i._rotate(r),u.x1=Math.min(e.x,t.x,n.x,i.x),u.x2=Math.max(e.x,t.x,n.x,i.x),u.y1=Math.min(e.y,t.y,n.y,i.y),u.y2=Math.max(e.y,t.y,n.y,i.y)}e.emplaceBack(t.x,t.y,u.x1,u.y1,u.x2,u.y2,n,i,r)}this.boxEndIndex=e.length}}class ch{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hh;if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,a=t[r];if(n(i,a)>=0)break;t[e]=a,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1),a=t[i];const o=i+1;if(o<this.length&&n(t[o],a)<0&&(i=o,a=t[o]),n(a,r)>=0)break;t[e]=a,e=i}t[e]=r}}function hh(e,t){return e<t?-1:e>t?1:0}function dh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=1/0,r=1/0,o=-1/0,s=-1/0;const l=e[0];for(let a=0;a<l.length;a++){const e=l[a];(!a||e.x<i)&&(i=e.x),(!a||e.y<r)&&(r=e.y),(!a||e.x>o)&&(o=e.x),(!a||e.y>s)&&(s=e.y)}const u=Math.min(o-i,s-r);let c=u/2;const h=new ch([],fh);if(0===u)return new a(i,r);for(let a=i;a<o;a+=u)for(let t=r;t<s;t+=u)h.push(new ph(a+c,t+c,c,e));let d=function(e){let t=0,n=0,i=0;const r=e[0];for(let a=0,o=r.length,s=o-1;a<o;s=a++){const e=r[a],o=r[s],l=e.x*o.y-o.x*e.y;n+=(e.x+o.x)*l,i+=(e.y+o.y)*l,t+=3*l}return new ph(n/t,i/t,0,e)}(e),f=h.length;for(;h.length;){const i=h.pop();(i.d>d.d||!d.d)&&(d=i,n&&console.log("found best %d after %d probes",Math.round(1e4*i.d)/1e4,f)),i.max-d.d<=t||(c=i.h/2,h.push(new ph(i.p.x-c,i.p.y-c,c,e)),h.push(new ph(i.p.x+c,i.p.y-c,c,e)),h.push(new ph(i.p.x-c,i.p.y+c,c,e)),h.push(new ph(i.p.x+c,i.p.y+c,c,e)),f+=4)}return n&&(console.log("num probes: ".concat(f)),console.log("best distance: ".concat(d.d))),d.p}function fh(e,t){return t.max-e.max}function ph(e,t,n,i){this.p=new a(e,t),this.h=n,this.d=function(e,t){let n=!1,i=1/0;for(let r=0;r<t.length;r++){const a=t[r];for(let t=0,r=a.length,o=r-1;t<r;o=t++){const r=a[t],s=a[o];r.y>e.y!=s.y>e.y&&e.x<(s.x-r.x)*(e.y-r.y)/(s.y-r.y)+r.x&&(n=!n),i=Math.min(i,Wo(e,r,s))}}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}var gh;e.ar=void 0,(gh=e.ar||(e.ar={}))[gh.center=1]="center",gh[gh.left=2]="left",gh[gh.right=3]="right",gh[gh.top=4]="top",gh[gh.bottom=5]="bottom",gh[gh["top-left"]=6]="top-left",gh[gh["top-right"]=7]="top-right",gh[gh["bottom-left"]=8]="bottom-left",gh[gh["bottom-right"]=9]="bottom-right";const mh=7,yh=Number.POSITIVE_INFINITY;function vh(e,t){return t[1]!==yh?function(e,t,n){let i=0,r=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":r=n-mh;break;case"bottom-right":case"bottom-left":case"bottom":r=-n+mh}switch(e){case"top-right":case"bottom-right":case"right":i=-t;break;case"top-left":case"bottom-left":case"left":i=t}return[i,r]}(e,t[0],t[1]):function(e,t){let n=0,i=0;t<0&&(t=0);const r=t/Math.SQRT2;switch(e){case"top-right":case"top-left":i=r-mh;break;case"bottom-right":case"bottom-left":i=-r+mh;break;case"bottom":i=-t+mh;break;case"top":i=t-mh}switch(e){case"top-right":case"bottom-right":n=-r;break;case"top-left":case"bottom-left":n=r;break;case"left":n=t;break;case"right":n=-t}return[n,i]}(e,t[0])}function Ah(e,t,n){var i;const r=e.layout,a=null===(i=r.get("text-variable-anchor-offset"))||void 0===i?void 0:i.evaluate(t,{},n);if(a){const e=a.values,t=[];for(let n=0;n<e.length;n+=2){const i=t[n]=e[n],r=e[n+1].map((e=>e*iu));i.startsWith("top")?r[1]-=mh:i.startsWith("bottom")&&(r[1]+=mh),t[n+1]=r}return new $e(t)}const o=r.get("text-variable-anchor");if(o){let i;i=void 0!==e._unevaluatedLayout.getValue("text-radial-offset")?[r.get("text-radial-offset").evaluate(t,{},n)*iu,yh]:r.get("text-offset").evaluate(t,{},n).map((e=>e*iu));const a=[];for(const e of o)a.push(e,vh(e,i));return new $e(a)}return null}function _h(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function xh(t,n,i,r,a,o,s,l,u,c,h){let d=o.textMaxSize.evaluate(n,{});void 0===d&&(d=s);const f=t.layers[0].layout,p=f.get("icon-offset").evaluate(n,{},h),g=wh(i.horizontal),m=s/24,y=t.tilePixelRatio*m,v=t.tilePixelRatio*d/24,A=t.tilePixelRatio*l,_=t.tilePixelRatio*f.get("symbol-spacing"),x=f.get("text-padding")*t.tilePixelRatio,b=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=e.get("icon-padding").evaluate(t,{},n),a=r&&r.values;return[a[0]*i,a[1]*i,a[2]*i,a[3]*i]}(f,n,h,t.tilePixelRatio),E=f.get("text-max-angle")/180*Math.PI,I="viewport"!==f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),C="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),k=f.get("symbol-placement"),S=_/2,T=f.get("icon-text-fit");let P;r&&"none"!==T&&(t.allowVerticalPlacement&&i.vertical&&(P=ec(r,i.vertical,T,f.get("icon-text-fit-padding"),p,m)),g&&(r=ec(r,g,T,f.get("icon-text-fit-padding"),p,m)));const N=(l,d)=>{d.x<0||d.x>=Lo||d.y<0||d.y>=Lo||function(t,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m,y,v,A,_,x,b,E,I,C){const k=t.addToLineVertexArray(n,i);let S,T,P,N,M=0,B=0,L=0,R=0,z=-1,O=-1;const D={};let F=po("");if(t.allowVerticalPlacement&&r.vertical){const e=l.layout.get("text-rotate").evaluate(x,{},I)+90;P=new uh(u,n,c,h,d,r.vertical,f,p,g,e),s&&(N=new uh(u,n,c,h,d,s,y,v,g,e))}if(a){const i=l.layout.get("icon-rotate").evaluate(x,{}),r="none"!==l.layout.get("icon-text-fit"),o=rh(a,i,E,r),f=s?rh(s,i,E,r):void 0;T=new uh(u,n,c,h,d,a,y,v,!1,i),M=4*o.length;const p=t.iconSizeData;let g=null;"source"===p.kind?(g=[nc*l.layout.get("icon-size").evaluate(x,{})],g[0]>ic&&w("".concat(t.layerIds[0],': Value for "icon-size" is >= ').concat(tc,'. Reduce your "icon-size".'))):"composite"===p.kind&&(g=[nc*b.compositeIconSizes[0].evaluate(x,{},I),nc*b.compositeIconSizes[1].evaluate(x,{},I)],(g[0]>ic||g[1]>ic)&&w("".concat(t.layerIds[0],': Value for "icon-size" is >= ').concat(tc,'. Reduce your "icon-size".'))),t.addSymbols(t.icon,o,g,_,A,x,e.ai.none,n,k.lineStartIndex,k.lineLength,-1,I),z=t.icon.placedSymbolArray.length-1,f&&(B=4*f.length,t.addSymbols(t.icon,f,g,_,A,x,e.ai.vertical,n,k.lineStartIndex,k.lineLength,-1,I),O=t.icon.placedSymbolArray.length-1)}const j=Object.keys(r.horizontal);for(const w of j){const i=r.horizontal[w];if(!S){F=po(i.text);const e=l.layout.get("text-rotate").evaluate(x,{},I);S=new uh(u,n,c,h,d,i,f,p,g,e)}const a=1===i.positionedLines.length;if(L+=bh(t,n,i,o,l,g,x,m,k,r.vertical?e.ai.horizontal:e.ai.horizontalOnly,a?j:[w],D,z,b,I),a)break}r.vertical&&(R+=bh(t,n,r.vertical,o,l,g,x,m,k,e.ai.vertical,["vertical"],D,O,b,I));const Q=S?S.boxStartIndex:t.collisionBoxArray.length,U=S?S.boxEndIndex:t.collisionBoxArray.length,V=P?P.boxStartIndex:t.collisionBoxArray.length,q=P?P.boxEndIndex:t.collisionBoxArray.length,G=T?T.boxStartIndex:t.collisionBoxArray.length,H=T?T.boxEndIndex:t.collisionBoxArray.length,X=N?N.boxStartIndex:t.collisionBoxArray.length,W=N?N.boxEndIndex:t.collisionBoxArray.length;let Y=-1;const Z=(e,t)=>e&&e.circleDiameter?Math.max(e.circleDiameter,t):t;Y=Z(S,Y),Y=Z(P,Y),Y=Z(T,Y),Y=Z(N,Y);const K=Y>-1?1:0;K&&(Y*=C/iu),t.glyphOffsetArray.length>=fc.MAX_GLYPHS&&w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,x.sortKey);const J=Ah(l,x,I),[$,ee]=function(t,n){const i=t.length,r=null==n?void 0:n.values;if((null==r?void 0:r.length)>0)for(let a=0;a<r.length;a+=2){const n=r[a+1];t.emplaceBack(e.ar[r[a]],n[0],n[1])}return[i,t.length]}(t.textAnchorOffsets,J);t.symbolInstances.emplaceBack(n.x,n.y,D.right>=0?D.right:-1,D.center>=0?D.center:-1,D.left>=0?D.left:-1,D.vertical||-1,z,O,F,Q,U,V,q,G,H,X,W,c,L,R,M,B,K,0,f,Y,$,ee)}(t,d,l,i,r,a,P,t.layers[0],t.collisionBoxArray,n.index,n.sourceLayerIndex,t.index,y,[x,x,x,x],I,u,A,b,C,p,n,o,c,h,s)};if("line"===k)for(const e of Wc(n.geometry,0,0,Lo,Lo)){const n=th(e,_,E,i.vertical||g,r,24,v,t.overscaling,Lo);for(const i of n)g&&Eh(t,g.text,S,i)||N(e,i)}else if("line-center"===k){for(const e of n.geometry)if(e.length>1){const t=eh(e,E,i.vertical||g,r,24,v);t&&N(e,t)}}else if("Polygon"===n.type)for(const e of _n(n.geometry,0)){const t=dh(e,16);N(e[0],new Yc(t.x,t.y,0))}else if("LineString"===n.type)for(const e of n.geometry)N(e,new Yc(e[0].x,e[0].y,0));else if("Point"===n.type)for(const e of n.geometry)for(const t of e)N([t],new Yc(t.x,t.y,0))}function bh(e,t,n,i,r,o,s,l,u,c,h,d,f,p,g){const m=function(e,t,n,i,r,o,s,l){const u=i.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,c=[];for(const h of t.positionedLines)for(const e of h.positionedGlyphs){if(!e.rect)continue;const i=e.rect||{};let o=Nu+1,d=!0,f=1,p=0;const g=(r||l)&&e.vertical,m=e.metrics.advance*e.scale/2;if(l&&t.verticalizable&&(p=h.lineOffset/2-(e.imageName?-(iu-e.metrics.width*e.scale)/2:(e.scale-1)*iu)),e.imageName){const t=s[e.imageName];d=t.sdf,f=t.pixelRatio,o=Bu/f}const y=r?[e.x+m,e.y]:[0,0];let v=r?[0,0]:[e.x+m+n[0],e.y+n[1]-p],A=[0,0];g&&(A=v,v=[0,0]);const _=e.metrics.isDoubleResolution?2:1,x=(e.metrics.left-o)*e.scale-m+v[0],b=(-e.metrics.top-o)*e.scale+v[1],w=x+i.w/_*e.scale/f,E=b+i.h/_*e.scale/f,I=new a(x,b),C=new a(w,b),k=new a(x,E),S=new a(w,E);if(g){const t=new a(-m,m-Ou),n=-Math.PI/2,i=iu/2-m,r=new a(5-Ou-i,-(e.imageName?i:0)),o=new a(...A);I._rotateAround(n,t)._add(r)._add(o),C._rotateAround(n,t)._add(r)._add(o),k._rotateAround(n,t)._add(r)._add(o),S._rotateAround(n,t)._add(r)._add(o)}if(u){const e=Math.sin(u),t=Math.cos(u),n=[t,-e,e,t];I._matMult(n),C._matMult(n),k._matMult(n),S._matMult(n)}const T=new a(0,0),P=new a(0,0);c.push({tl:I,tr:C,bl:k,br:S,tex:i,writingMode:t.writingMode,glyphOffset:y,sectionIndex:e.sectionIndex,isSDF:d,pixelOffsetTL:T,pixelOffsetBR:P,minFontScaleX:0,minFontScaleY:0})}return c}(0,n,l,r,o,s,i,e.allowVerticalPlacement),y=e.textSizeData;let v=null;"source"===y.kind?(v=[nc*r.layout.get("text-size").evaluate(s,{})],v[0]>ic&&w("".concat(e.layerIds[0],': Value for "text-size" is >= ').concat(tc,'. Reduce your "text-size".'))):"composite"===y.kind&&(v=[nc*p.compositeTextSizes[0].evaluate(s,{},g),nc*p.compositeTextSizes[1].evaluate(s,{},g)],(v[0]>ic||v[1]>ic)&&w("".concat(e.layerIds[0],': Value for "text-size" is >= ').concat(tc,'. Reduce your "text-size".'))),e.addSymbols(e.text,m,v,l,o,s,c,t,u.lineStartIndex,u.lineLength,f,g);for(const a of h)d[a]=e.text.placedSymbolArray.length-1;return 4*m.length}function wh(e){for(const t in e)return e[t];return null}function Eh(e,t,n,i){const r=e.compareText;if(t in r){const e=r[t];for(let t=e.length-1;t>=0;t--)if(i.dist(e[t])<n)return!0}else r[t]=[];return r[t].push(i),!1}const Ih=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Ch{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(1!==i)throw new Error("Got v".concat(i," data when expected v1."));const r=Ih[15&n];if(!r)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new Ch(o,a,r,e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const r=Ih.indexOf(this.ArrayType),a=2*e*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,s=(8-o%8)%8;if(r<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+s,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+a+o+s),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+s,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+r]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return kh(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:a,nodeSize:o}=this,s=[0,r.length-1,0],l=[];for(;s.length;){const u=s.pop()||0,c=s.pop()||0,h=s.pop()||0;if(c-h<=o){for(let o=h;o<=c;o++){const s=a[2*o],u=a[2*o+1];s>=e&&s<=n&&u>=t&&u<=i&&l.push(r[o])}continue}const d=h+c>>1,f=a[2*d],p=a[2*d+1];f>=e&&f<=n&&p>=t&&p<=i&&l.push(r[d]),(0===u?e<=f:t<=p)&&(s.push(h),s.push(d-1),s.push(1-u)),(0===u?n>=f:i>=p)&&(s.push(d+1),s.push(c),s.push(1-u))}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:r,nodeSize:a}=this,o=[0,i.length-1,0],s=[],l=n*n;for(;o.length;){const u=o.pop()||0,c=o.pop()||0,h=o.pop()||0;if(c-h<=a){for(let n=h;n<=c;n++)Nh(r[2*n],r[2*n+1],e,t)<=l&&s.push(i[n]);continue}const d=h+c>>1,f=r[2*d],p=r[2*d+1];Nh(f,p,e,t)<=l&&s.push(i[d]),(0===u?e-n<=f:t-n<=p)&&(o.push(h),o.push(d-1),o.push(1-u)),(0===u?e+n>=f:t+n>=p)&&(o.push(d+1),o.push(c),o.push(1-u))}return s}}function kh(e,t,n,i,r,a){if(r-i<=n)return;const o=i+r>>1;Sh(e,t,o,i,r,a),kh(e,t,n,i,o-1,1-a),kh(e,t,n,o+1,r,1-a)}function Sh(e,t,n,i,r,a){for(;r>i;){if(r-i>600){const o=r-i+1,s=n-i+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(s-o/2<0?-1:1);Sh(e,t,n,Math.max(i,Math.floor(n-s*u/o+c)),Math.min(r,Math.floor(n+(o-s)*u/o+c)),a)}const o=t[2*n+a];let s=i,l=r;for(Th(e,t,i,n),t[2*r+a]>o&&Th(e,t,i,r);s<l;){for(Th(e,t,s,l),s++,l--;t[2*s+a]<o;)s++;for(;t[2*l+a]>o;)l--}t[2*i+a]===o?Th(e,t,i,l):(l++,Th(e,t,l,r)),l<=n&&(i=l+1),n<=l&&(r=l-1)}}function Th(e,t,n,i){Ph(e,n,i),Ph(t,2*n,2*i),Ph(t,2*n+1,2*i+1)}function Ph(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function Nh(e,t,n,i){const r=e-n,a=t-i;return r*r+a*a}var Mh;e.bf=void 0,(Mh=e.bf||(e.bf={})).create="create",Mh.load="load",Mh.fullLoad="fullLoad";let Bh=null,Lh=[];const Rh=1e3/60,zh="loadTime",Oh="fullLoadTime",Dh={mark(e){performance.mark(e)},frame(e){const t=e;null!=Bh&&Lh.push(t-Bh),Bh=t},clearMetrics(){Bh=null,Lh=[],performance.clearMeasures(zh),performance.clearMeasures(Oh);for(const t in e.bf)performance.clearMarks(e.bf[t])},getPerformanceMetrics(){performance.measure(zh,e.bf.create,e.bf.load),performance.measure(Oh,e.bf.create,e.bf.fullLoad);const t=performance.getEntriesByName(zh)[0].duration,n=performance.getEntriesByName(Oh)[0].duration,i=Lh.length,r=1/(Lh.reduce(((e,t)=>e+t),0)/i/1e3),a=Lh.filter((e=>e>Rh)).reduce(((e,t)=>e+(t-Rh)/Rh),0);return{loadTime:t,fullLoadTime:n,fps:r,percentDroppedFrames:a/(i+a)*100,totalFrames:i}}};e.$=class extends ua{},e.A=as,e.B=mr,e.C=function(e){if(null==C){const t=e.navigator?e.navigator.userAgent:null;C=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return C},e.D=Wr,e.E=G,e.F=class{constructor(e,t){this.target=e,this.mapId=t,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new Cc((()=>this.process())),this.subscription=function(e,t,n,i){return e.addEventListener(t,n,!1),{unsubscribe:()=>{e.removeEventListener(t,n,!1)}}}(this.target,"message",(e=>this.receive(e))),this.globalScope=I(self)?e:window}registerMessageHandler(e,t){this.messageHandlers[e]=t}sendAsync(e,t){return new Promise(((n,i)=>{const r=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[r]={resolve:n,reject:i},t&&t.signal.addEventListener("abort",(()=>{delete this.resolveRejects[r];const t={id:r,type:"<cancel>",origin:location.origin,targetMapId:e.targetMapId,sourceMapId:this.mapId};this.target.postMessage(t)}),{once:!0});const a=[],o=Object.assign(Object.assign({},e),{id:r,sourceMapId:this.mapId,origin:location.origin,data:Cr(e.data,a)});this.target.postMessage(o,{transfer:a})}))}receive(e){const t=e.data,n=t.id;if(!("file://"!==t.origin&&"file://"!==location.origin&&t.origin!==location.origin||t.targetMapId&&this.mapId!==t.targetMapId)){if("<cancel>"===t.type){delete this.tasks[n];const e=this.abortControllers[n];return delete this.abortControllers[n],void(e&&e.abort())}if(I(self)||t.mustQueue)return this.tasks[n]=t,this.taskQueue.push(n),void this.invoker.trigger();this.processTask(n,t)}}process(){if(0===this.taskQueue.length)return;const e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length>0&&this.invoker.trigger(),t&&this.processTask(e,t)}processTask(e,n){return t(this,void 0,void 0,(function*(){if("<response>"===n.type){const t=this.resolveRejects[e];if(delete this.resolveRejects[e],!t)return;return void(n.error?t.reject(kr(n.error)):t.resolve(kr(n.data)))}if(!this.messageHandlers[n.type])return void this.completeTask(e,new Error("Could not find a registered handler for ".concat(n.type,", map ID: ").concat(this.mapId,", available handlers: ").concat(Object.keys(this.messageHandlers).join(", "))));const t=kr(n.data),i=new AbortController;this.abortControllers[e]=i;try{const r=yield this.messageHandlers[n.type](n.sourceMapId,t,i);this.completeTask(e,null,r)}catch(t){this.completeTask(e,t)}}))}completeTask(e,t,n){const i=[];delete this.abortControllers[e];const r={id:e,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:t?Cr(t):null,data:Cr(n,i)};this.target.postMessage(r,{transfer:i})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},e.G=z,e.H=function(){var e=new as(16);return as!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.I=Lu,e.J=function(e,t,n){var i,r,a,o,s,l,u,c,h,d,f,p,g=n[0],m=n[1],y=n[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*y+t[12],e[13]=t[1]*g+t[5]*m+t[9]*y+t[13],e[14]=t[2]*g+t[6]*m+t[10]*y+t[14],e[15]=t[3]*g+t[7]*m+t[11]*y+t[15]):(r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],e[0]=i=t[0],e[1]=r,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=h,e[9]=d,e[10]=f,e[11]=p,e[12]=i*g+s*m+h*y+t[12],e[13]=r*g+l*m+d*y+t[13],e[14]=a*g+u*m+f*y+t[14],e[15]=o*g+c*m+p*y+t[15]),e},e.K=function(e,t,n){var i=n[0],r=n[1],a=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.L=ss,e.M=function(e,t){const n={};for(let i=0;i<t.length;i++){const r=t[i];r in e&&(n[r]=e[r])}return n},e.N=Sc,e.O=Nc,e.P=a,e.Q=Mc,e.R=_s,e.S=Fc,e.T=Ur,e.U=h,e.V=d,e.W=T,e.X=Lo,e.Y=aa,e.Z=Rc,e._=t,e.a=L,e.a$=function(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],m=e[14],y=e[15],v=t[0],A=t[1],_=t[2],x=t[3],b=t[4],w=t[5],E=t[6],I=t[7],C=t[8],k=t[9],S=t[10],T=t[11],P=t[12],N=t[13],M=t[14],B=t[15];return Math.abs(n-v)<=rs*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(i-A)<=rs*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(r-_)<=rs*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(a-x)<=rs*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-b)<=rs*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(s-w)<=rs*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(l-E)<=rs*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(u-I)<=rs*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(c-C)<=rs*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(h-k)<=rs*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(d-S)<=rs*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(f-T)<=rs*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-P)<=rs*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(g-N)<=rs*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(m-M)<=rs*Math.max(1,Math.abs(m),Math.abs(M))&&Math.abs(y-B)<=rs*Math.max(1,Math.abs(y),Math.abs(B))},e.a0=ro,e.a1=Oc,e.a2=re,e.a3=e=>{const t=window.document.createElement("video");return t.muted=!0,new Promise((n=>{t.onloadstart=()=>{n(t)};for(const i of e){const e=window.document.createElement("source");j(i)||(t.crossOrigin="Anonymous"),e.src=i,t.appendChild(e)}}))},e.a4=function(){return v++},e.a5=Na,e.a6=fc,e.a7=Ti,e.a8=Do,e.a9=Fr,e.aA=function(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=W(e[n],t[e[n].ref]));return e},e.aB=function(e){if("custom"===e.type)return new Ic(e);switch(e.type){case"background":return new xc(e);case"circle":return new hs(e);case"fill":return new ll(e);case"fill-extrusion":return new Ml(e);case"heatmap":return new bs(e);case"hillshade":return new Is(e);case"line":return new Wl(e);case"raster":return new Ec(e);case"symbol":return new vc(e)}},e.aC=x,e.aD=function(e,t){if(!e)return[{command:"setStyle",args:[t]}];let n=[];try{if(!Y(e.version,t.version))return[{command:"setStyle",args:[t]}];Y(e.center,t.center)||n.push({command:"setCenter",args:[t.center]}),Y(e.zoom,t.zoom)||n.push({command:"setZoom",args:[t.zoom]}),Y(e.bearing,t.bearing)||n.push({command:"setBearing",args:[t.bearing]}),Y(e.pitch,t.pitch)||n.push({command:"setPitch",args:[t.pitch]}),Y(e.sprite,t.sprite)||n.push({command:"setSprite",args:[t.sprite]}),Y(e.glyphs,t.glyphs)||n.push({command:"setGlyphs",args:[t.glyphs]}),Y(e.transition,t.transition)||n.push({command:"setTransition",args:[t.transition]}),Y(e.light,t.light)||n.push({command:"setLight",args:[t.light]}),Y(e.terrain,t.terrain)||n.push({command:"setTerrain",args:[t.terrain]}),Y(e.sky,t.sky)||n.push({command:"setSky",args:[t.sky]}),Y(e.projection,t.projection)||n.push({command:"setProjection",args:[t.projection]});const i={},r=[];!function(e,t,n,i){let r;for(r in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,r)&&(Object.prototype.hasOwnProperty.call(t,r)||J(r,n,i));for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Object.prototype.hasOwnProperty.call(e,r)?Y(e[r],t[r])||("geojson"===e[r].type&&"geojson"===t[r].type&&ee(e,t,r)?Z(n,{command:"setGeoJSONSourceData",args:[r,t[r].data]}):$(r,t,n,i)):K(r,t,n))}(e.sources,t.sources,r,i);const a=[];e.layers&&e.layers.forEach((e=>{"source"in e&&i[e.source]?n.push({command:"removeLayer",args:[e.id]}):a.push(e)})),n=n.concat(r),function(e,t,n){t=t||[];const i=(e=e||[]).map(ne),r=t.map(ne),a=e.reduce(ie,{}),o=t.reduce(ie,{}),s=i.slice(),l=Object.create(null);let u,c,h,d,f;for(let p=0,g=0;p<i.length;p++)u=i[p],Object.prototype.hasOwnProperty.call(o,u)?g++:(Z(n,{command:"removeLayer",args:[u]}),s.splice(s.indexOf(u,g),1));for(let p=0,g=0;p<r.length;p++)u=r[r.length-1-p],s[s.length-1-p]!==u&&(Object.prototype.hasOwnProperty.call(a,u)?(Z(n,{command:"removeLayer",args:[u]}),s.splice(s.lastIndexOf(u,s.length-g),1)):g++,d=s[s.length-p],Z(n,{command:"addLayer",args:[o[u],d]}),s.splice(s.length-p,0,u),l[u]=!0);for(let p=0;p<r.length;p++)if(u=r[p],c=a[u],h=o[u],!l[u]&&!Y(c,h))if(Y(c.source,h.source)&&Y(c["source-layer"],h["source-layer"])&&Y(c.type,h.type)){for(f in te(c.layout,h.layout,n,u,null,"setLayoutProperty"),te(c.paint,h.paint,n,u,null,"setPaintProperty"),Y(c.filter,h.filter)||Z(n,{command:"setFilter",args:[u,h.filter]}),Y(c.minzoom,h.minzoom)&&Y(c.maxzoom,h.maxzoom)||Z(n,{command:"setLayerZoomRange",args:[u,h.minzoom,h.maxzoom]}),c)Object.prototype.hasOwnProperty.call(c,f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?te(c[f],h[f],n,u,f.slice(6),"setPaintProperty"):Y(c[f],h[f])||Z(n,{command:"setLayerProperty",args:[u,f,h[f]]}));for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&!Object.prototype.hasOwnProperty.call(c,f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?te(c[f],h[f],n,u,f.slice(6),"setPaintProperty"):Y(c[f],h[f])||Z(n,{command:"setLayerProperty",args:[u,f,h[f]]}))}else Z(n,{command:"removeLayer",args:[u]}),d=s[s.lastIndexOf(u)+1],Z(n,{command:"addLayer",args:[h,d]})}(a,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:"setStyle",args:[t]}]}return n},e.aE=function(e){const t=[],n=e.id;return void 0===n&&t.push({message:"layers.".concat(n,': missing required property "id"')}),void 0===e.render&&t.push({message:"layers.".concat(n,': missing required method "render"')}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers.".concat(n,': property "renderingMode" must be either "2d" or "3d"')}),t},e.aF=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},e.aG=A,e.aH=_,e.aI=class extends Ao{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.aJ=_o,e.aK=class extends Ao{constructor(e,t){super(e,t),this.current=wo}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.aL=xo,e.aM=bo,e.aN=Xe,e.aO=class extends Ao{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.aP=class extends Ao{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.aQ=function(e,t,n,i,r,a,o){var s=1/(t-n),l=1/(i-r),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(r+i)*l,e[14]=(o+a)*u,e[15]=1,e},e.aR=us,e.aS=class extends Aa{},e.aT=eu,e.aU=class extends xa{},e.aV=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.aW=xs,e.aX=Ua,e.aY=eo,e.aZ=class extends Sa{},e.a_=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},e.aa=Vc,e.ab=function(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((e,n,i,r)=>{const a=i||r;return t[n]=!a||a.toLowerCase(),""})),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t},e.ac=function(e,t){const n=[];for(const i in e)i in t||n.push(i);return n},e.ad=g,e.ae=function(e,t,n){var i=Math.sin(n),r=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r+u*i,e[1]=o*r+c*i,e[2]=s*r+h*i,e[3]=l*r+d*i,e[4]=u*r-a*i,e[5]=c*r-o*i,e[6]=h*r-s*i,e[7]=d*r-l*i,e},e.af=function(e){var t=new as(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.ag=cs,e.ah=function(e,t){let n=0,i=0;if("constant"===e.kind)i=e.layoutSize;else if("source"!==e.kind){const{interpolationType:r,minZoom:a,maxZoom:o}=e,s=r?g(Nt.interpolationFactor(r,t,a,o),0,1):0;"camera"===e.kind?i=Pt.number(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:i}},e.aj=function(e,t,n){let{uSize:i,uSizeT:r}=t,{lowerSize:a,upperSize:o}=n;return"source"===e.kind?a/nc:"composite"===e.kind?Pt.number(a/nc,o/nc,r):i},e.ak=uc,e.al=function(e,t,n,i){const r=t.y-e.y,o=t.x-e.x,s=i.y-n.y,l=i.x-n.x,u=s*o-l*r;if(0===u)return null;const c=(l*(e.y-n.y)-s*(e.x-n.x))/u;return new a(e.x+c*o,e.y+c*r)},e.am=Wc,e.an=Qo,e.ao=os,e.ap=function(e){let t=1/0,n=1/0,i=-1/0,r=-1/0;for(const a of e)t=Math.min(t,a.x),n=Math.min(n,a.y),i=Math.max(i,a.x),r=Math.max(r,a.y);return[t,n,i,r]},e.aq=iu,e.as=ac,e.at=function(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],d=t[10],f=t[11],p=t[12],g=t[13],m=t[14],y=t[15],v=n*s-i*o,A=n*l-r*o,_=n*u-a*o,x=i*l-r*s,b=i*u-a*s,w=r*u-a*l,E=c*g-h*p,I=c*m-d*p,C=c*y-f*p,k=h*m-d*g,S=h*y-f*g,T=d*y-f*m,P=v*T-A*S+_*k+x*C-b*I+w*E;return P?(e[0]=(s*T-l*S+u*k)*(P=1/P),e[1]=(r*S-i*T-a*k)*P,e[2]=(g*w-m*b+y*x)*P,e[3]=(d*b-h*w-f*x)*P,e[4]=(l*C-o*T-u*I)*P,e[5]=(n*T-r*C+a*I)*P,e[6]=(m*_-p*w-y*A)*P,e[7]=(c*w-d*_+f*A)*P,e[8]=(o*S-s*C+u*E)*P,e[9]=(i*C-n*S-a*E)*P,e[10]=(p*b-g*_+y*v)*P,e[11]=(h*_-c*b-f*v)*P,e[12]=(s*I-o*k-l*E)*P,e[13]=(n*k-i*I+r*E)*P,e[14]=(g*A-p*x-m*v)*P,e[15]=(c*x-h*A+d*v)*P,e):null},e.au=_h,e.av=Zu,e.aw=Ch,e.ax=function(){const e={},t=H.$version;for(const n in H.$root){const i=H.$root[n];if(i.required){let r=null;r="version"===n?t:"array"===i.type?[]:{},null!=r&&(e[n]=r)}}return e},e.ay=Sr,e.az=D,e.b=k,e.b0=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.b1=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},e.b2=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.b3=m,e.b4=Dc,e.b5=Bc,e.b6=function(e,t,n,i,r){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(e[10]=(r+i)*(a=1/(i-r)),e[14]=2*r*i*a):(e[10]=-1,e[14]=-2*i),e},e.b7=function(e,t,n){var i=Math.sin(n),r=Math.cos(n),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*r+u*i,e[5]=o*r+c*i,e[6]=s*r+h*i,e[7]=l*r+d*i,e[8]=u*r-a*i,e[9]=c*r-o*i,e[10]=h*r-s*i,e[11]=d*r-l*i,e},e.b8=f,e.b9=p,e.bA=function(e){return e.message===M},e.bB=xi,e.bC=Dr,e.ba=function(e){return e*Math.PI/180},e.bb=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.bc=class extends la{},e.bd=kc,e.be=Dh,e.bg=O,e.bh=function(e,t){L.REGISTERED_PROTOCOLS[e]=t},e.bi=function(e){delete L.REGISTERED_PROTOCOLS[e]},e.bj=function(e,t){const n={};for(let r=0;r<e.length;r++){const i=t&&t[e[r].id]||Di(e[r]);t&&(t[e[r].id]=i);let a=n[i];a||(a=n[i]=[]),a.push(e[r])}const i=[];for(const r in n)i.push(n[r]);return i},e.bk=br,e.bl=Uc,e.bm=qc,e.bn=Ru,e.bo=function(t){t.bucket.createArrays(),t.bucket.tilePixelRatio=Lo/(512*t.bucket.overscaling),t.bucket.compareText={},t.bucket.iconsNeedLinear=!1;const n=t.bucket.layers[0],i=n.layout,r=n._unevaluatedLayout._values,a={layoutIconSize:r["icon-size"].possiblyEvaluate(new Fr(t.bucket.zoom+1),t.canonical),layoutTextSize:r["text-size"].possiblyEvaluate(new Fr(t.bucket.zoom+1),t.canonical),textMaxSize:r["text-size"].possiblyEvaluate(new Fr(18))};if("composite"===t.bucket.textSizeData.kind){const{minZoom:e,maxZoom:n}=t.bucket.textSizeData;a.compositeTextSizes=[r["text-size"].possiblyEvaluate(new Fr(e),t.canonical),r["text-size"].possiblyEvaluate(new Fr(n),t.canonical)]}if("composite"===t.bucket.iconSizeData.kind){const{minZoom:e,maxZoom:n}=t.bucket.iconSizeData;a.compositeIconSizes=[r["icon-size"].possiblyEvaluate(new Fr(e),t.canonical),r["icon-size"].possiblyEvaluate(new Fr(n),t.canonical)]}const o=i.get("text-line-height")*iu,s="viewport"!==i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement"),l=i.get("text-keep-upright"),u=i.get("text-size");for(const c of t.bucket.features){const r=i.get("text-font").evaluate(c,{},t.canonical).join(","),h=u.evaluate(c,{},t.canonical),d=a.layoutTextSize.evaluate(c,{},t.canonical),f=a.layoutIconSize.evaluate(c,{},t.canonical),p={horizontal:{},vertical:void 0},g=c.text;let m,y=[0,0];if(g){const a=g.toString(),u=i.get("text-letter-spacing").evaluate(c,{},t.canonical)*iu,f=Nr(a)?u:0,m=i.get("text-anchor").evaluate(c,{},t.canonical),v=Ah(n,c,t.canonical);if(!v){const e=i.get("text-radial-offset").evaluate(c,{},t.canonical);y=e?vh(m,[e*iu,yh]):i.get("text-offset").evaluate(c,{},t.canonical).map((e=>e*iu))}let A=s?"center":i.get("text-justify").evaluate(c,{},t.canonical);const _="point"===i.get("symbol-placement")?i.get("text-max-width").evaluate(c,{},t.canonical)*iu:1/0,x=()=>{t.bucket.allowVerticalPlacement&&Pr(a)&&(p.vertical=ju(g,t.glyphMap,t.glyphPositions,t.imagePositions,r,_,o,m,"left",f,y,e.ai.vertical,!0,d,h))};if(!s&&v){const n=new Set;if("auto"===A)for(let e=0;e<v.values.length;e+=2)n.add(_h(v.values[e]));else n.add(A);let i=!1;for(const a of n)if(!p.horizontal[a])if(i)p.horizontal[a]=p.horizontal[0];else{const n=ju(g,t.glyphMap,t.glyphPositions,t.imagePositions,r,_,o,"center",a,f,y,e.ai.horizontal,!1,d,h);n&&(p.horizontal[a]=n,i=1===n.positionedLines.length)}x()}else{"auto"===A&&(A=_h(m));const n=ju(g,t.glyphMap,t.glyphPositions,t.imagePositions,r,_,o,m,A,f,y,e.ai.horizontal,!1,d,h);n&&(p.horizontal[A]=n),x(),Pr(a)&&s&&l&&(p.vertical=ju(g,t.glyphMap,t.glyphPositions,t.imagePositions,r,_,o,m,A,f,y,e.ai.vertical,!1,d,h))}}let v=!1;if(c.icon&&c.icon.name){const e=t.imageMap[c.icon.name];e&&(m=Ju(t.imagePositions[c.icon.name],i.get("icon-offset").evaluate(c,{},t.canonical),i.get("icon-anchor").evaluate(c,{},t.canonical)),v=!!e.sdf,void 0===t.bucket.sdfIcons?t.bucket.sdfIcons=v:t.bucket.sdfIcons!==v&&w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.bucket.pixelRatio||0!==i.get("icon-rotate").constantOr(1))&&(t.bucket.iconsNeedLinear=!0))}const A=wh(p.horizontal)||p.vertical;t.bucket.iconsInText=!!A&&A.iconsInText,(A||m)&&xh(t.bucket,c,p,m,t.imageMap,a,d,f,y,v,t.canonical)}t.showCollisionBoxes&&t.bucket.generateCollisionDebugBuffers()},e.bp=Ul,e.bq=rl,e.br=kl,e.bs=dl,e.bt=Cu,e.bu=class{constructor(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}},e.bv=function(e,n,i,r,a){return t(this,void 0,void 0,(function*(){if(d())try{return yield T(e,n,i,r,a)}catch(e){}return function(e,t,n,i,r){const a=e.width,o=e.height;P&&N||(P=new OffscreenCanvas(a,o),N=P.getContext("2d",{willReadFrequently:!0})),P.width=a,P.height=o,N.drawImage(e,0,0,a,o);const s=N.getImageData(t,n,i,r);return N.clearRect(0,0,a,o),s.data}(e,n,i,r,a)}))},e.bw=Qc,e.bx=n,e.by=i,e.bz=ru,e.c=B,e.d=e=>t(void 0,void 0,void 0,(function*(){if(0===e.byteLength)return createImageBitmap(new ImageData(1,1));const t=new Blob([new Uint8Array(e)],{type:"image/png"});try{return createImageBitmap(t)}catch(e){throw new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}})),e.e=y,e.f=e=>new Promise(((t,n)=>{const i=new Image;i.onload=()=>{t(i),URL.revokeObjectURL(i.src),i.onload=null,window.requestAnimationFrame((()=>{i.src=S}))},i.onerror=()=>n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const r=new Blob([new Uint8Array(e)],{type:"image/png"});i.src=e.byteLength?URL.createObjectURL(r):S})),e.g=R,e.h=(e,t)=>F(y(e,{type:"json"}),t),e.i=I,e.j=q,e.k=V,e.l=(e,t)=>F(y(e,{type:"arrayBuffer"}),t),e.m=F,e.n=function(e){return new Cu(e).readFields(Su,[])},e.o=As,e.p=Mu,e.q=$r,e.r=gr,e.s=j,e.t=Ar,e.u=Tr,e.v=H,e.w=w,e.x=pr,e.y=function(e){let[t,n,i]=e;return n+=90,n*=Math.PI/180,i*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(i),y:t*Math.sin(n)*Math.sin(i),z:t*Math.cos(i)}},e.z=Pt})),n("worker",["./shared"],(function(e){class t{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,n){for(const r of t){this._layerConfigs[r.id]=r;const t=this._layers[r.id]=e.aB(r);t._featureFilter=e.a7(t.filter),this.keyCache[r.id]&&delete this.keyCache[r.id]}for(const e of n)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const i=e.bj(Object.values(this._layerConfigs),this.keyCache);for(const e of i){const t=e.map((e=>this._layers[e.id])),n=t[0];if("none"===n.visibility)continue;const i=n.source||"";let r=this.familiesBySource[i];r||(r=this.familiesBySource[i]={});const a=n.sourceLayer||"_geojsonTileLayer";let o=r[a];o||(o=r[a]=[]),o.push(t)}}}class n{constructor(t){const n={},i=[];for(const e in t){const r=t[e],a=n[e]={};for(const e in r){const t=r[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const n={x:0,y:0,w:t.bitmap.width+2,h:t.bitmap.height+2};i.push(n),a[e]={rect:n,metrics:t.metrics}}}const{w:r,h:a}=e.p(i),o=new e.o({width:r||1,height:a||1});for(const s in t){const i=t[s];for(const t in i){const r=i[+t];if(!r||0===r.bitmap.width||0===r.bitmap.height)continue;const a=n[s][t].rect;e.o.copy(r.bitmap,o,{x:0,y:0},{x:a.x+1,y:a.y+1},r.bitmap)}}this.image=o,this.positions=n}}e.bk("GlyphAtlas",n);class i{constructor(t){this.tileID=new e.S(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.inFlightDependencies=[]}parse(t,i,a,o){return e._(this,void 0,void 0,(function*(){this.status="parsing",this.data=t,this.collisionBoxArray=new e.a5;const s=new e.bl(Object.keys(t.layers).sort()),l=new e.bm(this.tileID,this.promoteId);l.bucketLayerIDs=[];const u={},c={featureIndex:l,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:a},h=i.familiesBySource[this.source];for(const n in h){const i=t.layers[n];if(!i)continue;1===i.version&&e.w('Vector tile source "'.concat(this.source,'" layer "').concat(n,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));const o=s.encode(n),d=[];for(let e=0;e<i.length;e++){const t=i.feature(e),r=l.getId(t,n);d.push({feature:t,id:r,index:e,sourceLayerIndex:o})}for(const t of h[n]){const n=t[0];n.source!==this.source&&e.w("layer.source = ".concat(n.source," does not equal this.source = ").concat(this.source)),n.minzoom&&this.zoom<Math.floor(n.minzoom)||n.maxzoom&&this.zoom>=n.maxzoom||"none"!==n.visibility&&(r(t,this.zoom,a),(u[n.id]=n.createBucket({index:l.bucketLayerIDs.length,layers:t,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:o,sourceID:this.source})).populate(d,c,this.tileID.canonical),l.bucketLayerIDs.push(t.map((e=>e.id))))}}const d=e.aG(c.glyphDependencies,(e=>Object.keys(e).map(Number)));this.inFlightDependencies.forEach((e=>null==e?void 0:e.abort())),this.inFlightDependencies=[];let f=Promise.resolve({});if(Object.keys(d).length){const e=new AbortController;this.inFlightDependencies.push(e),f=o.sendAsync({type:"GG",data:{stacks:d,source:this.source,tileID:this.tileID,type:"glyphs"}},e)}const p=Object.keys(c.iconDependencies);let g=Promise.resolve({});if(p.length){const e=new AbortController;this.inFlightDependencies.push(e),g=o.sendAsync({type:"GI",data:{icons:p,source:this.source,tileID:this.tileID,type:"icons"}},e)}const m=Object.keys(c.patternDependencies);let y=Promise.resolve({});if(m.length){const e=new AbortController;this.inFlightDependencies.push(e),y=o.sendAsync({type:"GI",data:{icons:m,source:this.source,tileID:this.tileID,type:"patterns"}},e)}const[v,A,_]=yield Promise.all([f,g,y]),x=new n(v),b=new e.bn(A,_);for(const t in u){const n=u[t];n instanceof e.a6?(r(n.layers,this.zoom,a),e.bo({bucket:n,glyphMap:v,glyphPositions:x.positions,imageMap:A,imagePositions:b.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):n.hasPattern&&(n instanceof e.bp||n instanceof e.bq||n instanceof e.br)&&(r(n.layers,this.zoom,a),n.addFeatures(c,this.tileID.canonical,b.patternPositions))}return this.status="done",{buckets:Object.values(u).filter((e=>!e.isEmpty())),featureIndex:l,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:x.image,imageAtlas:b,glyphMap:this.returnDependencies?v:null,iconMap:this.returnDependencies?A:null,glyphPositions:this.returnDependencies?x.positions:null}}))}}function r(t,n,i){const r=new e.a9(n);for(const e of t)e.recalculate(r,i)}class a{constructor(e,t,n){this.actor=e,this.layerIndex=t,this.availableImages=n,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(t,n){return e._(this,void 0,void 0,(function*(){const i=yield e.l(t.request,n);try{return{vectorTile:new e.bs.VectorTile(new e.bt(i.data)),rawData:i.data,cacheControl:i.cacheControl,expires:i.expires}}catch(e){const r=new Uint8Array(i.data);let a="Unable to parse the tile at ".concat(t.request.url,", ");throw a+=31===r[0]&&139===r[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":"got error: ".concat(e.message),new Error(a)}}))}loadTile(t){return e._(this,void 0,void 0,(function*(){const n=t.uid,r=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.bu(t.request),a=new i(t);this.loading[n]=a;const o=new AbortController;a.abort=o;try{const i=yield this.loadVectorTile(t,o);if(delete this.loading[n],!i)return null;const s=i.rawData,l={};i.expires&&(l.expires=i.expires),i.cacheControl&&(l.cacheControl=i.cacheControl);const u={};if(r){const e=r.finish();e&&(u.resourceTiming=JSON.parse(JSON.stringify(e)))}a.vectorTile=i.vectorTile;const c=a.parse(i.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[n]=a,this.fetching[n]={rawTileData:s,cacheControl:l,resourceTiming:u};try{const t=yield c;return e.e({rawTileData:s.slice(0)},t,l,u)}finally{delete this.fetching[n]}}catch(e){throw delete this.loading[n],a.status="done",this.loaded[n]=a,e}}))}reloadTile(t){return e._(this,void 0,void 0,(function*(){const n=t.uid;if(!this.loaded||!this.loaded[n])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const i=this.loaded[n];if(i.showCollisionBoxes=t.showCollisionBoxes,"parsing"===i.status){const t=yield i.parse(i.vectorTile,this.layerIndex,this.availableImages,this.actor);let r;if(this.fetching[n]){const{rawTileData:i,cacheControl:a,resourceTiming:o}=this.fetching[n];delete this.fetching[n],r=e.e({rawTileData:i.slice(0)},t,a,o)}else r=t;return r}if("done"===i.status&&i.vectorTile)return i.parse(i.vectorTile,this.layerIndex,this.availableImages,this.actor)}))}abortTile(t){return e._(this,void 0,void 0,(function*(){const e=this.loading,n=t.uid;e&&e[n]&&e[n].abort&&(e[n].abort.abort(),delete e[n])}))}removeTile(t){return e._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[t.uid]&&delete this.loaded[t.uid]}))}}class o{constructor(){this.loaded={}}loadTile(t){return e._(this,void 0,void 0,(function*(){const{uid:n,encoding:i,rawImageData:r,redFactor:a,greenFactor:o,blueFactor:s,baseShift:l}=t,u=r.width+2,c=r.height+2,h=e.b(r)?new e.R({width:u,height:c},yield e.bv(r,-1,-1,u,c)):r,d=new e.bw(n,h,i,a,o,s,l);return this.loaded=this.loaded||{},this.loaded[n]=d,d}))}removeTile(e){const t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]}}function s(e,t){if(0!==e.length){l(e[0],t);for(var n=1;n<e.length;n++)l(e[n],!t)}}function l(e,t){for(var n=0,i=0,r=0,a=e.length,o=a-1;r<a;o=r++){var s=(e[r][0]-e[o][0])*(e[o][1]+e[r][1]),l=n+s;i+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+i>=0!=!!t&&e.reverse()}var u=e.bx((function e(t,n){var i,r=t&&t.type;if("FeatureCollection"===r)for(i=0;i<t.features.length;i++)e(t.features[i],n);else if("GeometryCollection"===r)for(i=0;i<t.geometries.length;i++)e(t.geometries[i],n);else if("Feature"===r)e(t.geometry,n);else if("Polygon"===r)s(t.coordinates,n);else if("MultiPolygon"===r)for(i=0;i<t.coordinates.length;i++)s(t.coordinates[i],n);return t}));const c=e.bs.VectorTileFeature.prototype.toGeoJSON;var h={exports:{}},d=e.by,f=e.bs.VectorTileFeature,p=g;function g(e,t){this.options=t||{},this.features=e,this.length=e.length}function m(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}g.prototype.feature=function(e){return new m(this.features[e],this.options.extent)},m.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],i=[],r=0;r<n.length;r++)i.push(new d(n[r][0],n[r][1]));this.geometry.push(i)}return this.geometry},m.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,i=1/0,r=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var l=o[s];t=Math.min(t,l.x),n=Math.max(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.y)}return[t,i,n,r]},m.prototype.toGeoJSON=f.prototype.toGeoJSON;var y=e.bz,v=p;function A(e){var t=new y;return function(e,t){for(var n in e.layers)t.writeMessage(3,_,e.layers[n])}(e,t),t.finish()}function _(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)i.feature=e.feature(n),t.writeMessage(2,x,i);var r=i.keys;for(n=0;n<r.length;n++)t.writeStringField(3,r[n]);var a=i.values;for(n=0;n<a.length;n++)t.writeMessage(4,C,a[n])}function x(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,b,e),t.writeVarintField(3,n.type),t.writeMessage(4,I,n)}function b(e,t){var n=e.feature,i=e.keys,r=e.values,a=e.keycache,o=e.valuecache;for(var s in n.properties){var l=n.properties[s],u=a[s];if(null!==l){void 0===u&&(i.push(s),a[s]=u=i.length-1),t.writeVarint(u);var c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var h=c+":"+l,d=o[h];void 0===d&&(r.push(l),o[h]=d=r.length-1),t.writeVarint(d)}}}function w(e,t){return(t<<3)+(7&e)}function E(e){return e<<1^e>>31}function I(e,t){for(var n=e.loadGeometry(),i=e.type,r=0,a=0,o=n.length,s=0;s<o;s++){var l=n[s],u=1;1===i&&(u=l.length),t.writeVarint(w(1,u));for(var c=3===i?l.length-1:l.length,h=0;h<c;h++){1===h&&1!==i&&t.writeVarint(w(2,c-1));var d=l[h].x-r,f=l[h].y-a;t.writeVarint(E(d)),t.writeVarint(E(f)),r+=d,a+=f}3===i&&t.writeVarint(w(7,1))}}function C(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}h.exports=A,h.exports.fromVectorTileJs=A,h.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var i in e)n[i]=new v(e[i].features,t),n[i].name=i,n[i].version=t.version,n[i].extent=t.extent;return A({layers:n})},h.exports.GeoJSONWrapper=v;var k=e.bx(h.exports);const S={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},T=Math.fround||(P=new Float32Array(1),e=>(P[0]=+e,P[0]));var P;const N=3,M=5,B=6;class L{constructor(e){this.options=Object.assign(Object.create(S),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:i}=this.options;t&&console.time("total time");const r="prepare ".concat(e.length," points");t&&console.time(r),this.points=e;const a=[];for(let s=0;s<e.length;s++){const t=e[s];if(!t.geometry)continue;const[n,i]=t.geometry.coordinates,r=T(O(n)),o=T(D(i));a.push(r,o,1/0,s,-1,1),this.options.reduce&&a.push(0)}let o=this.trees[i+1]=this._createTree(a);t&&console.timeEnd(r);for(let s=i;s>=n;s--){const e=+Date.now();o=this.trees[s]=this._createTree(this._cluster(o,s)),t&&console.log("z%d: %d clusters in %dms",s,o.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let r=180===e[2]?180:((e[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){const e=this.getClusters([n,i,180,a],t),o=this.getClusters([-180,i,r,a],t);return e.concat(o)}const o=this.trees[this._limitZoom(t)],s=o.range(O(n),D(a),O(r),D(i)),l=o.data,u=[];for(const c of s){const e=this.stride*c;u.push(l[e+M]>1?R(l,e,this.clusterProps):this.points[l[e+N]])}return u}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);const a=r.data;if(t*this.stride>=a.length)throw new Error(i);const o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=r.within(a[t*this.stride],a[t*this.stride+1],o),l=[];for(const u of s){const t=u*this.stride;a[t+4]===e&&l.push(a[t+M]>1?R(a,t,this.clusterProps):this.points[a[t+N]])}if(0===l.length)throw new Error(i);return l}getLeaves(e,t,n){const i=[];return this._appendLeaves(i,e,t=t||10,n=n||0,0),i}getTile(e,t,n){const i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:a,radius:o}=this.options,s=o/a,l=(n-s)/r,u=(n+1+s)/r,c={features:[]};return this._addTileFeatures(i.range((t-s)/r,l,(t+1+s)/r,u),i.data,t,n,r,c),0===t&&this._addTileFeatures(i.range(1-s/r,l,1,u),i.data,r,n,r,c),t===r-1&&this._addTileFeatures(i.range(0,l,s/r,u),i.data,-1,n,r,c),c.features.length?c:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,r){const a=this.getChildren(t);for(const o of a){const t=o.properties;if(t&&t.cluster?r+t.point_count<=i?r+=t.point_count:r=this._appendLeaves(e,t.cluster_id,n,i,r):r<i?r++:e.push(o),e.length===n)break}return r}_createTree(t){const n=new e.aw(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)n.add(t[e],t[e+1]);return n.finish(),n.data=t,n}_addTileFeatures(e,t,n,i,r,a){for(const o of e){const e=o*this.stride,s=t[e+M]>1;let l,u,c;if(s)l=z(t,e,this.clusterProps),u=t[e],c=t[e+1];else{const n=this.points[t[e+N]];l=n.properties;const[i,r]=n.geometry.coordinates;u=O(i),c=D(r)}const h={type:1,geometry:[[Math.round(this.options.extent*(u*r-n)),Math.round(this.options.extent*(c*r-i))]],tags:l};let d;d=s||this.options.generateId?t[e+N]:this.points[t[e+N]].id,void 0!==d&&(h.id=d),a.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:i,reduce:r,minPoints:a}=this.options,o=n/(i*Math.pow(2,t)),s=e.data,l=[],u=this.stride;for(let c=0;c<s.length;c+=u){if(s[c+2]<=t)continue;s[c+2]=t;const n=s[c],i=s[c+1],h=e.within(s[c],s[c+1],o),d=s[c+M];let f=d;for(const e of h){const n=e*u;s[n+2]>t&&(f+=s[n+M])}if(f>d&&f>=a){let e,a=n*d,o=i*d,p=-1;const g=(c/u<<5)+(t+1)+this.points.length;for(const n of h){const i=n*u;if(s[i+2]<=t)continue;s[i+2]=t;const l=s[i+M];a+=s[i]*l,o+=s[i+1]*l,s[i+4]=g,r&&(e||(e=this._map(s,c,!0),p=this.clusterProps.length,this.clusterProps.push(e)),r(e,this._map(s,i)))}s[c+4]=g,l.push(a/f,o/f,1/0,g,-1,f),r&&l.push(p)}else{for(let e=0;e<u;e++)l.push(s[c+e]);if(f>1)for(const e of h){const n=e*u;if(!(s[n+2]<=t)){s[n+2]=t;for(let e=0;e<u;e++)l.push(s[n+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+M]>1){const i=this.clusterProps[e[t+B]];return n?Object.assign({},i):i}const i=this.points[e[t+N]].properties,r=this.options.map(i);return n&&r===i?Object.assign({},r):r}}function R(e,t,n){return{type:"Feature",id:e[t+N],properties:z(e,t,n),geometry:{type:"Point",coordinates:[(i=e[t],360*(i-.5)),F(e[t+1])]}};var i}function z(e,t,n){const i=e[t+M],r=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?Math.round(i/100)/10+"k":i,a=e[t+B],o=-1===a?{}:Object.assign({},n[a]);return Object.assign(o,{cluster:!0,cluster_id:e[t+N],point_count:i,point_count_abbreviated:r})}function O(e){return e/360+.5}function D(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function F(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function j(e,t,n,i){let r=i;const a=t+(n-t>>1);let o,s=n-t;const l=e[t],u=e[t+1],c=e[n],h=e[n+1];for(let d=t+3;d<n;d+=3){const t=Q(e[d],e[d+1],l,u,c,h);if(t>r)o=d,r=t;else if(t===r){const e=Math.abs(d-a);e<s&&(o=d,s=e)}}r>i&&(o-t>3&&j(e,t,o,i),e[o+2]=r,n-o>3&&j(e,o,n,i))}function Q(e,t,n,i,r,a){let o=r-n,s=a-i;if(0!==o||0!==s){const l=((e-n)*o+(t-i)*s)/(o*o+s*s);l>1?(n=r,i=a):l>0&&(n+=o*l,i+=s*l)}return o=e-n,s=t-i,o*o+s*s}function U(e,t,n,i){const r={id:null==e?null:e,type:t,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if("Point"===t||"MultiPoint"===t||"LineString"===t)V(r,n);else if("Polygon"===t)V(r,n[0]);else if("MultiLineString"===t)for(const a of n)V(r,a);else if("MultiPolygon"===t)for(const a of n)V(r,a[0]);return r}function V(e,t){for(let n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function q(e,t,n,i){if(!t.geometry)return;const r=t.geometry.coordinates;if(r&&0===r.length)return;const a=t.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2);let s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=i||0),"Point"===a)G(r,s);else if("MultiPoint"===a)for(const u of r)G(u,s);else if("LineString"===a)H(r,s,o,!1);else if("MultiLineString"===a){if(n.lineMetrics){for(const n of r)s=[],H(n,s,o,!1),e.push(U(l,"LineString",s,t.properties));return}X(r,s,o,!1)}else if("Polygon"===a)X(r,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(const r of t.geometry.geometries)q(e,{id:l,geometry:r,properties:t.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const e of r){const t=[];X(e,t,o,!0),s.push(t)}}e.push(U(l,a,s,t.properties))}function G(e,t){t.push(W(e[0]),Y(e[1]),0)}function H(e,t,n,i){let r,a,o=0;for(let l=0;l<e.length;l++){const n=W(e[l][0]),s=Y(e[l][1]);t.push(n,s,0),l>0&&(o+=i?(r*s-n*a)/2:Math.sqrt(Math.pow(n-r,2)+Math.pow(s-a,2))),r=n,a=s}const s=t.length-3;t[2]=1,j(t,0,s,n),t[s+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function X(e,t,n,i){for(let r=0;r<e.length;r++){const a=[];H(e[r],a,n,i),t.push(a)}}function W(e){return e/360+.5}function Y(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Z(e,t,n,i,r,a,o,s){if(i/=t,a>=(n/=t)&&o<i)return e;if(o<n||a>=i)return null;const l=[];for(const u of e){const e=u.geometry;let t=u.type;const a=0===r?u.minX:u.minY,o=0===r?u.maxX:u.maxY;if(a>=n&&o<i){l.push(u);continue}if(o<n||a>=i)continue;let c=[];if("Point"===t||"MultiPoint"===t)K(e,c,n,i,r);else if("LineString"===t)J(e,c,n,i,r,!1,s.lineMetrics);else if("MultiLineString"===t)ee(e,c,n,i,r,!1);else if("Polygon"===t)ee(e,c,n,i,r,!0);else if("MultiPolygon"===t)for(const s of e){const e=[];ee(s,e,n,i,r,!0),e.length&&c.push(e)}if(c.length){if(s.lineMetrics&&"LineString"===t){for(const e of c)l.push(U(u.id,t,e,u.tags));continue}"LineString"!==t&&"MultiLineString"!==t||(1===c.length?(t="LineString",c=c[0]):t="MultiLineString"),"Point"!==t&&"MultiPoint"!==t||(t=3===c.length?"Point":"MultiPoint"),l.push(U(u.id,t,c,u.tags))}}return l.length?l:null}function K(e,t,n,i,r){for(let a=0;a<e.length;a+=3){const o=e[a+r];o>=n&&o<=i&&te(t,e[a],e[a+1],e[a+2])}}function J(e,t,n,i,r,a,o){let s=$(e);const l=0===r?ne:ie;let u,c,h=e.start;for(let m=0;m<e.length-3;m+=3){const d=e[m],f=e[m+1],p=e[m+2],g=e[m+3],y=e[m+4],v=0===r?d:f,A=0===r?g:y;let _=!1;o&&(u=Math.sqrt(Math.pow(d-g,2)+Math.pow(f-y,2))),v<n?A>n&&(c=l(s,d,f,g,y,n),o&&(s.start=h+u*c)):v>i?A<i&&(c=l(s,d,f,g,y,i),o&&(s.start=h+u*c)):te(s,d,f,p),A<n&&v>=n&&(c=l(s,d,f,g,y,n),_=!0),A>i&&v<=i&&(c=l(s,d,f,g,y,i),_=!0),!a&&_&&(o&&(s.end=h+u*c),t.push(s),s=$(e)),o&&(h+=u)}let d=e.length-3;const f=e[d],p=e[d+1],g=0===r?f:p;g>=n&&g<=i&&te(s,f,p,e[d+2]),d=s.length-3,a&&d>=3&&(s[d]!==s[0]||s[d+1]!==s[1])&&te(s,s[0],s[1],s[2]),s.length&&t.push(s)}function $(e){const t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ee(e,t,n,i,r,a){for(const o of e)J(o,t,n,i,r,a,!1)}function te(e,t,n,i){e.push(t,n,i)}function ne(e,t,n,i,r,a){const o=(a-t)/(i-t);return te(e,a,n+(r-n)*o,1),o}function ie(e,t,n,i,r,a){const o=(a-n)/(r-n);return te(e,t+(i-t)*o,a,1),o}function re(e,t){const n=[];for(let i=0;i<e.length;i++){const r=e[i],a=r.type;let o;if("Point"===a||"MultiPoint"===a||"LineString"===a)o=ae(r.geometry,t);else if("MultiLineString"===a||"Polygon"===a){o=[];for(const e of r.geometry)o.push(ae(e,t))}else if("MultiPolygon"===a){o=[];for(const e of r.geometry){const n=[];for(const i of e)n.push(ae(i,t));o.push(n)}}n.push(U(r.id,a,o,r.tags))}return n}function ae(e,t){const n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(let i=0;i<e.length;i+=3)n.push(e[i]+t,e[i+1],e[i+2]);return n}function oe(e,t){if(e.transformed)return e;const n=1<<e.z,i=e.x,r=e.y;for(const a of e.features){const e=a.geometry,o=a.type;if(a.geometry=[],1===o)for(let s=0;s<e.length;s+=2)a.geometry.push(se(e[s],e[s+1],t,n,i,r));else for(let s=0;s<e.length;s++){const o=[];for(let a=0;a<e[s].length;a+=2)o.push(se(e[s][a],e[s][a+1],t,n,i,r));a.geometry.push(o)}}return e.transformed=!0,e}function se(e,t,n,i,r,a){return[Math.round(n*(e*i-r)),Math.round(n*(t*i-a))]}function le(e,t,n,i,r){const a=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:e.length,source:null,x:n,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const s of e)ue(o,s,a,r);return o}function ue(e,t,n,i){const r=t.geometry,a=t.type,o=[];if(e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),"Point"===a||"MultiPoint"===a)for(let s=0;s<r.length;s+=3)o.push(r[s],r[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)ce(o,r,e,n,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(let s=0;s<r.length;s++)ce(o,r[s],e,n,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(let s=0;s<r.length;s++){const t=r[s];for(let i=0;i<t.length;i++)ce(o,t[i],e,n,!0,0===i)}if(o.length){let n=t.tags||null;if("LineString"===a&&i.lineMetrics){n={};for(const e in t.tags)n[e]=t.tags[e];n.mapbox_clip_start=r.start/r.size,n.mapbox_clip_end=r.end/r.size}const s={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:n};null!==t.id&&(s.id=t.id),e.features.push(s)}}function ce(e,t,n,i,r,a){const o=i*i;if(i>0&&t.size<(r?o:i))return void(n.numPoints+=t.length/3);const s=[];for(let l=0;l<t.length;l+=3)(0===i||t[l+2]>o)&&(n.numSimplified++,s.push(t[l],t[l+1])),n.numPoints++;r&&function(e,t){let n=0;for(let i=0,r=e.length,a=r-2;i<r;a=i,i+=2)n+=(e[i]-e[a])*(e[i+1]+e[a+1]);if(n>0===t)for(let i=0,r=e.length;i<r/2;i+=2){const t=e[i],n=e[i+1];e[i]=e[r-2-i],e[i+1]=e[r-1-i],e[r-2-i]=t,e[r-1-i]=n}}(s,a),e.push(s)}const he={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class de{constructor(e,t){const n=(t=this.options=function(e,t){for(const n in t)e[n]=t[n];return e}(Object.create(he),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");let i=function(e,t){const n=[];if("FeatureCollection"===e.type)for(let i=0;i<e.features.length;i++)q(n,e.features[i],t,i);else q(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=function(e,t){const n=t.buffer/t.extent;let i=e;const r=Z(e,1,-1-n,n,0,-1,2,t),a=Z(e,1,1-n,2+n,0,-1,2,t);return(r||a)&&(i=Z(e,1,-n,1+n,0,-1,2,t)||[],r&&(i=re(r,1).concat(i)),a&&(i=i.concat(re(a,-1)))),i}(i,t),i.length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(e,t,n,i,r,a,o){const s=[e,t,n,i],l=this.options,u=l.debug;for(;s.length;){i=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();const c=1<<t,h=fe(t,n,i);let d=this.tiles[h];if(!d&&(u>1&&console.time("creation"),d=this.tiles[h]=le(e,t,n,i,l),this.tileCoords.push({z:t,x:n,y:i}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,i,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));const e="z".concat(t);this.stats[e]=(this.stats[e]||0)+1,this.total++}if(d.source=e,null==r){if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue}else{if(t===l.maxZoom||t===r)continue;if(null!=r){const e=r-t;if(n!==a>>e||i!==o>>e)continue}}if(d.source=null,0===e.length)continue;u>1&&console.time("clipping");const f=.5*l.buffer/l.extent,p=.5-f,g=.5+f,m=1+f;let y=null,v=null,A=null,_=null,x=Z(e,c,n-f,n+g,0,d.minX,d.maxX,l),b=Z(e,c,n+p,n+m,0,d.minX,d.maxX,l);e=null,x&&(y=Z(x,c,i-f,i+g,1,d.minY,d.maxY,l),v=Z(x,c,i+p,i+m,1,d.minY,d.maxY,l),x=null),b&&(A=Z(b,c,i-f,i+g,1,d.minY,d.maxY,l),_=Z(b,c,i+p,i+m,1,d.minY,d.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(y||[],t+1,2*n,2*i),s.push(v||[],t+1,2*n,2*i+1),s.push(A||[],t+1,2*n+1,2*i),s.push(_||[],t+1,2*n+1,2*i+1)}}getTile(e,t,n){e=+e,t=+t,n=+n;const i=this.options,{extent:r,debug:a}=i;if(e<0||e>24)return null;const o=1<<e,s=fe(e,t=t+o&o-1,n);if(this.tiles[s])return oe(this.tiles[s],r);a>1&&console.log("drilling down to z%d-%d-%d",e,t,n);let l,u=e,c=t,h=n;for(;!l&&u>0;)u--,c>>=1,h>>=1,l=this.tiles[fe(u,c,h)];return l&&l.source?(a>1&&(console.log("found parent tile z%d-%d-%d",u,c,h),console.time("drilling down")),this.splitTile(l.source,u,c,h,e,t,n),a>1&&console.timeEnd("drilling down"),this.tiles[s]?oe(this.tiles[s],r):null):null}}function fe(e,t,n){return 32*((1<<e)*n+t)+e}function pe(e,t){return t?e.properties[t]:e.id}function ge(e,t){if(null==e)return!0;if("Feature"===e.type)return null!=pe(e,t);if("FeatureCollection"===e.type){const n=new Set;for(const i of e.features){const e=pe(i,t);if(null==e)return!1;if(n.has(e))return!1;n.add(e)}return!0}return!1}function me(e,t){const n=new Map;if(null==e);else if("Feature"===e.type)n.set(pe(e,t),e);else for(const i of e.features)n.set(pe(i,t),i);return n}class ye extends a{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(t,n){return e._(this,void 0,void 0,(function*(){const n=t.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return null;const r=new class{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.X,this.length=t.length,this._features=t}feature(t){return new class{constructor(t){this._feature=t,this.extent=e.X,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const n of this._feature.geometry)t.push([new e.P(n[0],n[1])]);return t}{const t=[];for(const n of this._feature.geometry){const i=[];for(const t of n)i.push(new e.P(t[0],t[1]));t.push(i)}return t}}toGeoJSON(e,t,n){return c.call(this,e,t,n)}}(this._features[t])}}(i.features);let a=k(r);return 0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),{vectorTile:r,rawData:a.buffer}}))}loadData(t){return e._(this,void 0,void 0,(function*(){var n;null===(n=this._pendingRequest)||void 0===n||n.abort();const i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.bu(t.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(t,this._pendingRequest),this._geoJSONIndex=t.cluster?new L(function(t){let{superclusterOptions:n,clusterProperties:i}=t;if(!i||!n)return n;const r={},a={},o={accumulated:null,zoom:0},s={properties:null},l=Object.keys(i);for(const u of l){const[t,n]=i[u],o=e.bB(n),s=e.bB("string"==typeof t?[t,["accumulated"],["get",u]]:t);r[u]=o.value,a[u]=s.value}return n.map=e=>{s.properties=e;const t={};for(const n of l)t[n]=r[n].evaluate(o,s);return t},n.reduce=(e,t)=>{s.properties=t;for(const n of l)o.accumulated=e[n],e[n]=a[n].evaluate(o,s)},n}(t)).load((yield this._pendingData).features):(r=yield this._pendingData,new de(r,t.geojsonVtOptions)),this.loaded={};const n={};if(i){const e=i.finish();e&&(n.resourceTiming={},n.resourceTiming[t.source]=JSON.parse(JSON.stringify(e)))}return n}catch(t){if(delete this._pendingRequest,e.bA(t))return{abandoned:!0};throw t}var r}))}getData(){return e._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(e){const t=this.loaded;return t&&t[e.uid]?super.reloadTile(e):this.loadTile(e)}loadAndProcessGeoJSON(t,n){return e._(this,void 0,void 0,(function*(){let i=yield this.loadGeoJSON(t,n);if(delete this._pendingRequest,"object"!=typeof i)throw new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object."));if(u(i,!0),t.filter){const n=e.bB(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===n.result)throw new Error(n.value.map((e=>"".concat(e.key,": ").concat(e.message))).join(", "));const r=i.features.filter((e=>n.value.evaluate({zoom:0},e)));i={type:"FeatureCollection",features:r}}return i}))}loadGeoJSON(t,n){return e._(this,void 0,void 0,(function*(){const{promoteId:i}=t;if(t.request){const r=yield e.h(t.request,n);return this._dataUpdateable=ge(r.data,i)?me(r.data,i):void 0,r.data}if("string"==typeof t.data)try{const e=JSON.parse(t.data);return this._dataUpdateable=ge(e,i)?me(e,i):void 0,e}catch(e){throw new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object."))}if(!t.dataDiff)throw new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object."));if(!this._dataUpdateable)throw new Error("Cannot update existing geojson data in ".concat(t.source));return function(e,t,n){var i,r,a,o;if(t.removeAll&&e.clear(),t.remove)for(const s of t.remove)e.delete(s);if(t.add)for(const s of t.add){const t=pe(s,n);null!=t&&e.set(t,s)}if(t.update)for(const s of t.update){let t=e.get(s.id);if(null==t)continue;const n=!s.removeAllProperties&&((null===(i=s.removeProperties)||void 0===i?void 0:i.length)>0||(null===(r=s.addOrUpdateProperties)||void 0===r?void 0:r.length)>0);if((s.newGeometry||s.removeAllProperties||n)&&(t=Object.assign({},t),e.set(s.id,t),n&&(t.properties=Object.assign({},t.properties))),s.newGeometry&&(t.geometry=s.newGeometry),s.removeAllProperties)t.properties={};else if((null===(a=s.removeProperties)||void 0===a?void 0:a.length)>0)for(const e of s.removeProperties)Object.prototype.hasOwnProperty.call(t.properties,e)&&delete t.properties[e];if((null===(o=s.addOrUpdateProperties)||void 0===o?void 0:o.length)>0)for(const{key:e,value:i}of s.addOrUpdateProperties)t.properties[e]=i}}(this._dataUpdateable,t.dataDiff,i),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}}))}removeSource(t){return e._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(e){return this._geoJSONIndex.getClusterExpansionZoom(e.clusterId)}getClusterChildren(e){return this._geoJSONIndex.getChildren(e.clusterId)}getClusterLeaves(e){return this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset)}}class ve{constructor(t){this.self=t,this.actor=new e.F(t),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(e,t)=>{if(this.externalWorkerSourceTypes[e])throw new Error('Worker source with name "'.concat(e,'" already registered.'));this.externalWorkerSourceTypes[e]=t},this.self.addProtocol=e.bh,this.self.removeProtocol=e.bi,this.self.registerRTLTextPlugin=t=>{if(e.bC.isParsed())throw new Error("RTL text plugin already registered.");e.bC.setMethods(t)},this.actor.registerMessageHandler("LDT",((e,t)=>this._getDEMWorkerSource(e,t.source).loadTile(t))),this.actor.registerMessageHandler("RDT",((t,n)=>e._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(t,n.source).removeTile(n)})))),this.actor.registerMessageHandler("GCEZ",((t,n)=>e._(this,void 0,void 0,(function*(){return this._getWorkerSource(t,n.type,n.source).getClusterExpansionZoom(n)})))),this.actor.registerMessageHandler("GCC",((t,n)=>e._(this,void 0,void 0,(function*(){return this._getWorkerSource(t,n.type,n.source).getClusterChildren(n)})))),this.actor.registerMessageHandler("GCL",((t,n)=>e._(this,void 0,void 0,(function*(){return this._getWorkerSource(t,n.type,n.source).getClusterLeaves(n)})))),this.actor.registerMessageHandler("LD",((e,t)=>this._getWorkerSource(e,t.type,t.source).loadData(t))),this.actor.registerMessageHandler("GD",((e,t)=>this._getWorkerSource(e,t.type,t.source).getData())),this.actor.registerMessageHandler("LT",((e,t)=>this._getWorkerSource(e,t.type,t.source).loadTile(t))),this.actor.registerMessageHandler("RT",((e,t)=>this._getWorkerSource(e,t.type,t.source).reloadTile(t))),this.actor.registerMessageHandler("AT",((e,t)=>this._getWorkerSource(e,t.type,t.source).abortTile(t))),this.actor.registerMessageHandler("RMT",((e,t)=>this._getWorkerSource(e,t.type,t.source).removeTile(t))),this.actor.registerMessageHandler("RS",((t,n)=>e._(this,void 0,void 0,(function*(){if(!this.workerSources[t]||!this.workerSources[t][n.type]||!this.workerSources[t][n.type][n.source])return;const e=this.workerSources[t][n.type][n.source];delete this.workerSources[t][n.type][n.source],void 0!==e.removeSource&&e.removeSource(n)})))),this.actor.registerMessageHandler("RM",(t=>e._(this,void 0,void 0,(function*(){delete this.layerIndexes[t],delete this.availableImages[t],delete this.workerSources[t],delete this.demWorkerSources[t]})))),this.actor.registerMessageHandler("SR",((t,n)=>e._(this,void 0,void 0,(function*(){this.referrer=n})))),this.actor.registerMessageHandler("SRPS",((e,t)=>this._syncRTLPluginState(e,t))),this.actor.registerMessageHandler("IS",((t,n)=>e._(this,void 0,void 0,(function*(){this.self.importScripts(n)})))),this.actor.registerMessageHandler("SI",((e,t)=>this._setImages(e,t))),this.actor.registerMessageHandler("UL",((t,n)=>e._(this,void 0,void 0,(function*(){this._getLayerIndex(t).update(n.layers,n.removedIds)})))),this.actor.registerMessageHandler("SL",((t,n)=>e._(this,void 0,void 0,(function*(){this._getLayerIndex(t).replace(n)}))))}_setImages(t,n){return e._(this,void 0,void 0,(function*(){this.availableImages[t]=n;for(const e in this.workerSources[t]){const i=this.workerSources[t][e];for(const e in i)i[e].availableImages=n}}))}_syncRTLPluginState(t,n){return e._(this,void 0,void 0,(function*(){if(e.bC.isParsed())return e.bC.getState();if("loading"!==n.pluginStatus)return e.bC.setState(n),n;const t=n.pluginURL;if(this.self.importScripts(t),e.bC.isParsed()){const n={pluginStatus:"loaded",pluginURL:t};return e.bC.setState(n),n}throw e.bC.setState({pluginStatus:"error",pluginURL:""}),new Error("RTL Text Plugin failed to import scripts from ".concat(t))}))}_getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}_getLayerIndex(e){let n=this.layerIndexes[e];return n||(n=this.layerIndexes[e]=new t),n}_getWorkerSource(e,t,n){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){const i={sendAsync:(t,n)=>(t.targetMapId=e,this.actor.sendAsync(t,n))};switch(t){case"vector":this.workerSources[e][t][n]=new a(i,this._getLayerIndex(e),this._getAvailableImages(e));break;case"geojson":this.workerSources[e][t][n]=new ye(i,this._getLayerIndex(e),this._getAvailableImages(e));break;default:this.workerSources[e][t][n]=new this.externalWorkerSourceTypes[t](i,this._getLayerIndex(e),this._getAvailableImages(e))}}return this.workerSources[e][t][n]}_getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new o),this.demWorkerSources[e][t]}}return e.i(self)&&(self.worker=new ve(self)),ve})),n("index",["exports","./shared"],(function(e,t){var n="4.5.0";let i,r;const a={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:e=>new Promise(((n,i)=>{const r=requestAnimationFrame(n);e.signal.addEventListener("abort",(()=>{cancelAnimationFrame(r),i(t.c())}))})),getImageData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getImageCanvasContext(e).getImageData(-t,-t,e.width+2*t,e.height+2*t)},getImageCanvasContext(e){const t=window.document.createElement("canvas"),n=t.getContext("2d",{willReadFrequently:!0});if(!n)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n},resolveURL:e=>(i||(i=document.createElement("a")),i.href=e,i.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==r&&(r=matchMedia("(prefers-reduced-motion: reduce)")),r.matches)}};class o{static testProp(e){if(!o.docStyle)return e[0];for(let t=0;t<e.length;t++)if(e[t]in o.docStyle)return e[t];return e[0]}static create(e,t,n){const i=window.document.createElement(e);return void 0!==t&&(i.className=t),n&&n.appendChild(i),i}static createNS(e,t){return window.document.createElementNS(e,t)}static disableDrag(){o.docStyle&&o.selectProp&&(o.userSelect=o.docStyle[o.selectProp],o.docStyle[o.selectProp]="none")}static enableDrag(){o.docStyle&&o.selectProp&&(o.docStyle[o.selectProp]=o.userSelect)}static setTransform(e,t){e.style[o.transformProp]=t}static addEventListener(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(t,n,"passive"in i?i:i.capture)}static removeEventListener(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.removeEventListener(t,n,"passive"in i?i:i.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",o.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",o.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",o.suppressClickInternal,!0)}),0)}static getScale(e){const t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}static getPoint(e,n,i){const r=n.boundingClientRect;return new t.P((i.clientX-r.left)/n.x-e.clientLeft,(i.clientY-r.top)/n.y-e.clientTop)}static mousePos(e,t){const n=o.getScale(e);return o.getPoint(e,n,t)}static touchPos(e,t){const n=[],i=o.getScale(e);for(let r=0;r<t.length;r++)n.push(o.getPoint(e,i,t[r]));return n}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}}o.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,o.selectProp=o.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),o.transformProp=o.testProp(["transform","WebkitTransform"]);const s={supported:!1,testSupport:function(e){!c&&u&&(h?d(e):l=e)}};let l,u,c=!1,h=!1;function d(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,u),e.isContextLost())return;s.supported=!0}catch(e){}e.deleteTexture(t),c=!0}var f;"undefined"!=typeof document&&(u=document.createElement("img"),u.onload=()=>{l&&d(l),l=null,h=!0},u.onerror=()=>{c=!0,l=null},u.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(e){let n,i,r,a;e.resetRequestQueue=()=>{n=[],i=0,r=0,a={}},e.addThrottleControl=e=>{const t=r++;return a[t]=e,t},e.removeThrottleControl=e=>{delete a[e],l()},e.getImage=function(e,i){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(((a,o)=>{s.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),t.e(e,{type:"image"}),n.push({abortController:i,requestParameters:e,supportImageRefresh:r,state:"queued",onError:e=>{o(e)},onSuccess:e=>{a(e)}}),l()}))};const o=e=>t._(this,void 0,void 0,(function*(){e.state="running";const{requestParameters:n,supportImageRefresh:r,onError:a,onSuccess:o,abortController:s}=e,c=!1===r&&!t.i(self)&&!t.g(n.url)&&(!n.headers||Object.keys(n.headers).reduce(((e,t)=>e&&"accept"===t),!0));i++;const h=c?u(n,s):t.m(n,s);try{const n=yield h;delete e.abortController,e.state="completed",n.data instanceof HTMLImageElement||t.b(n.data)?o(n):n.data&&o({data:yield(d=n.data,"function"==typeof createImageBitmap?t.d(d):t.f(d)),cacheControl:n.cacheControl,expires:n.expires})}catch(t){delete e.abortController,a(t)}finally{i--,l()}var d})),l=()=>{const e=(()=>{for(const e of Object.keys(a))if(a[e]())return!0;return!1})()?t.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:t.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let t=i;t<e&&n.length>0;t++){const e=n.shift();e.abortController.signal.aborted?t--:o(e)}},u=(e,n)=>new Promise(((i,r)=>{const a=new Image,o=e.url,s=e.credentials;s&&"include"===s?a.crossOrigin="use-credentials":(s&&"same-origin"===s||!t.s(o))&&(a.crossOrigin="anonymous"),n.signal.addEventListener("abort",(()=>{a.src="",r(t.c())})),a.fetchPriority="high",a.onload=()=>{a.onerror=a.onload=null,i({data:a})},a.onerror=()=>{a.onerror=a.onload=null,n.signal.aborted||r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},a.src=o}))}(f||(f={})),f.resetRequestQueue();class p{constructor(e){this._transformRequestFn=e}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}setTransformRequest(e){this._transformRequestFn=e}}function g(e){var n=new t.A(3);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}var m,y=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e};m=new t.A(3),t.A!=Float32Array&&(m[0]=0,m[1]=0,m[2]=0);var v=function(e){var t=e[0],n=e[1];return t*t+n*n};function A(e){const t=[];if("string"==typeof e)t.push({id:"default",url:e});else if(e&&e.length>0){const n=[];for(const{id:i,url:r}of e){const e="".concat(i).concat(r);-1===n.indexOf(e)&&(n.push(e),t.push({id:i,url:r}))}}return t}function _(e,t,n){const i=e.split("?");return i[0]+="".concat(t).concat(n),i.join("?")}!function(){var e=new t.A(2);t.A!=Float32Array&&(e[0]=0,e[1]=0)}();class x{constructor(e,t,n,i){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,i)}update(e,n,i){const{width:r,height:a}=e,o=!(this.size&&this.size[0]===r&&this.size[1]===a||i),{context:s}=this,{gl:l}=s;if(this.useMipmap=Boolean(n&&n.useMipmap),l.bindTexture(l.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===l.RGBA&&(!n||!1!==n.premultiply)),o)this.size=[r,a],e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||t.b(e)?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,e):l.texImage2D(l.TEXTURE_2D,0,this.format,r,a,0,this.format,l.UNSIGNED_BYTE,e.data);else{const{x:n,y:o}=i||{x:0,y:0};e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||t.b(e)?l.texSubImage2D(l.TEXTURE_2D,0,n,o,l.RGBA,l.UNSIGNED_BYTE,e):l.texSubImage2D(l.TEXTURE_2D,0,n,o,r,a,l.RGBA,l.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&l.generateMipmap(l.TEXTURE_2D)}bind(e,t,n){const{context:i}=this,{gl:r}=i;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}function b(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class w extends t.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,promiseResolve:t}of this.requestors)t(this._getImagesForIds(e));this.requestors=[]}}getImage(e){const n=this.images[e];if(n&&!n.data&&n.spriteData){const e=n.spriteData;n.data=new t.R({width:e.width,height:e.height},e.context.getImageData(e.x,e.y,e.width,e.height).data),n.spriteData=null}return n}addImage(e,t){if(this.images[e])throw new Error("Image id ".concat(e," already exist, use updateImage instead"));this._validate(e,t)&&(this.images[e]=t)}_validate(e,n){let i=!0;const r=n.data||n.spriteData;return this._validateStretch(n.stretchX,r&&r.width)||(this.fire(new t.j(new Error('Image "'.concat(e,'" has invalid "stretchX" value')))),i=!1),this._validateStretch(n.stretchY,r&&r.height)||(this.fire(new t.j(new Error('Image "'.concat(e,'" has invalid "stretchY" value')))),i=!1),this._validateContent(n.content,n)||(this.fire(new t.j(new Error('Image "'.concat(e,'" has invalid "content" value')))),i=!1),i}_validateStretch(e,t){if(!e)return!0;let n=0;for(const i of e){if(i[0]<n||i[1]<i[0]||t<i[1])return!1;n=i[1]}return!0}_validateContent(e,t){if(!e)return!0;if(4!==e.length)return!1;const n=t.spriteData,i=n&&n.width||t.data.width,r=n&&n.height||t.data.height;return!(e[0]<0||i<e[0]||e[1]<0||r<e[1]||e[2]<0||i<e[2]||e[3]<0||r<e[3]||e[2]<e[0]||e[3]<e[1])}updateImage(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.getImage(e);if(n&&(i.data.width!==t.data.width||i.data.height!==t.data.height))throw new Error("size mismatch between old image (".concat(i.data.width,"x").concat(i.data.height,") and new image (").concat(t.data.width,"x").concat(t.data.height,")."));t.version=i.version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e){return new Promise(((t,n)=>{let i=!0;if(!this.isLoaded())for(const r of e)this.images[r]||(i=!1);this.isLoaded()||i?t(this._getImagesForIds(e)):this.requestors.push({ids:e,promiseResolve:t})}))}_getImagesForIds(e){const n={};for(const i of e){let e=this.getImage(i);e||(this.fire(new t.k("styleimagemissing",{id:i})),e=this.getImage(i)),e?n[i]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,textFitWidth:e.textFitWidth,textFitHeight:e.textFitHeight,hasRenderCallback:Boolean(e.userImage&&e.userImage.render)}:t.w('Image "'.concat(i,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}return n}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(e){const n=this.patterns[e],i=this.getImage(e);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{const n={w:i.data.width+2,h:i.data.height+2,x:0,y:0},r=new t.I(n,i);this.patterns[e]={bin:n,position:r}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new x(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const t in this.patterns)e.push(this.patterns[t].bin);const{w:n,h:i}=t.p(e),r=this.atlasImage;r.resize({width:n||1,height:i||1});for(const a in this.patterns){const{bin:e}=this.patterns[a],n=e.x+1,i=e.y+1,o=this.getImage(a).data,s=o.width,l=o.height;t.R.copy(o,r,{x:0,y:0},{x:n,y:i},{width:s,height:l}),t.R.copy(o,r,{x:0,y:l-1},{x:n,y:i-1},{width:s,height:1}),t.R.copy(o,r,{x:0,y:0},{x:n,y:i+l},{width:s,height:1}),t.R.copy(o,r,{x:s-1,y:0},{x:n-1,y:i},{width:1,height:l}),t.R.copy(o,r,{x:0,y:0},{x:n+s,y:i},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const n of e){if(this.callbackDispatchedThisFrame[n])continue;this.callbackDispatchedThisFrame[n]=!0;const e=this.getImage(n);e||t.w('Image with ID: "'.concat(n,'" was not found')),b(e)&&this.updateImage(n,e)}}}const E=1e20;function I(e,t,n,i,r,a,o,s,l){for(let u=t;u<t+i;u++)C(e,n*a+u,a,r,o,s,l);for(let u=n;u<n+r;u++)C(e,u*a+t,1,i,o,s,l)}function C(e,t,n,i,r,a,o){a[0]=0,o[0]=-E,o[1]=E,r[0]=e[t];for(let s=1,l=0,u=0;s<i;s++){r[s]=e[t+s*n];const i=s*s;do{const e=a[l];u=(r[s]-r[e]+i-e*e)/(s-e)/2}while(u<=o[l]&&--l>-1);l++,a[l]=s,o[l]=u,o[l+1]=E}for(let s=0,l=0;s<i;s++){for(;o[l+1]<s;)l++;const i=a[l],u=s-i;e[t+s*n]=r[i]+u*u}}class k{constructor(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}}setURL(e){this.url=e}getGlyphs(e){return t._(this,void 0,void 0,(function*(){const t=[];for(const r in e)for(const n of e[r])t.push(this._getAndCacheGlyphsPromise(r,n));const n=yield Promise.all(t),i={};for(const{stack:e,id:r,glyph:a}of n)i[e]||(i[e]={}),i[e][r]=a&&{id:a.id,bitmap:a.bitmap.clone(),metrics:a.metrics};return i}))}_getAndCacheGlyphsPromise(e,n){return t._(this,void 0,void 0,(function*(){let t=this.entries[e];t||(t=this.entries[e]={glyphs:{},requests:{},ranges:{}});let i=t.glyphs[n];if(void 0!==i)return{stack:e,id:n,glyph:i};if(i=this._tinySDF(t,e,n),i)return t.glyphs[n]=i,{stack:e,id:n,glyph:i};const r=Math.floor(n/256);if(256*r>65535)throw new Error("glyphs > 65535 not supported");if(t.ranges[r])return{stack:e,id:n,glyph:i};if(!this.url)throw new Error("glyphsUrl is not set");if(!t.requests[r]){const n=k.loadGlyphRange(e,r,this.url,this.requestManager);t.requests[r]=n}const a=yield t.requests[r];for(const e in a)this._doesCharSupportLocalGlyph(+e)||(t.glyphs[+e]=a[+e]);return t.ranges[r]=!0,{stack:e,id:n,glyph:a[n]||null}}))}_doesCharSupportLocalGlyph(e){return!!this.localIdeographFontFamily&&(t.u["CJK Unified Ideographs"](e)||t.u["Hangul Syllables"](e)||t.u.Hiragana(e)||t.u.Katakana(e))}_tinySDF(e,n,i){const r=this.localIdeographFontFamily;if(!r)return;if(!this._doesCharSupportLocalGlyph(i))return;let a=e.tinySDF;if(!a){let t="400";/bold/i.test(n)?t="900":/medium/i.test(n)?t="500":/light/i.test(n)&&(t="200"),a=e.tinySDF=new k.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:r,fontWeight:t})}const o=a.draw(String.fromCharCode(i));return{id:i,bitmap:new t.o({width:o.width||60,height:o.height||60},o.data),metrics:{width:o.glyphWidth/2||24,height:o.glyphHeight/2||24,left:o.glyphLeft/2+.5||0,top:o.glyphTop/2-27.5||-8,advance:o.glyphAdvance/2||24,isDoubleResolution:!0}}}}k.loadGlyphRange=function(e,n,i,r){return t._(this,void 0,void 0,(function*(){const a=256*n,o=a+255,s=r.transformRequest(i.replace("{fontstack}",e).replace("{range}","".concat(a,"-").concat(o)),"Glyphs"),l=yield t.l(s,new AbortController);if(!l||!l.data)throw new Error("Could not load glyph range. range: ".concat(n,", ").concat(a,"-").concat(o));const u={};for(const e of t.n(l.data))u[e.id]=e;return u}))},k.TinySDF=class{constructor(){let{fontSize:e=24,buffer:t=3,radius:n=8,cutoff:i=.25,fontFamily:r="sans-serif",fontWeight:a="normal",fontStyle:o="normal"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.buffer=t,this.cutoff=i,this.radius=n;const s=this.size=e+4*t,l=this._createCanvas(s),u=this.ctx=l.getContext("2d",{willReadFrequently:!0});u.font="".concat(o," ").concat(a," ").concat(e,"px ").concat(r),u.textBaseline="alphabetic",u.textAlign="left",u.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:i,actualBoundingBoxLeft:r,actualBoundingBoxRight:a}=this.ctx.measureText(e),o=Math.ceil(n),s=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(a-r))),l=Math.min(this.size-this.buffer,o+Math.ceil(i)),u=s+2*this.buffer,c=l+2*this.buffer,h=Math.max(u*c,0),d=new Uint8ClampedArray(h),f={data:d,width:u,height:c,glyphWidth:s,glyphHeight:l,glyphTop:o,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return f;const{ctx:p,buffer:g,gridInner:m,gridOuter:y}=this;p.clearRect(g,g,s,l),p.fillText(e,g,g+o);const v=p.getImageData(g,g,s,l);y.fill(E,0,h),m.fill(0,0,h);for(let A=0;A<l;A++)for(let e=0;e<s;e++){const t=v.data[4*(A*s+e)+3]/255;if(0===t)continue;const n=(A+g)*u+e+g;if(1===t)y[n]=0,m[n]=E;else{const e=.5-t;y[n]=e>0?e*e:0,m[n]=e<0?e*e:0}}I(y,0,0,u,c,u,this.f,this.v,this.z),I(m,g,g,s,l,u,this.f,this.v,this.z);for(let A=0;A<h;A++){const e=Math.sqrt(y[A])-Math.sqrt(m[A]);d[A]=Math.round(255-255*(e/this.radius+this.cutoff))}return f}};class S{constructor(){this.specification=t.v.light.position}possiblyEvaluate(e,n){return t.y(e.expression.evaluate(n))}interpolate(e,n,i){return{x:t.z.number(e.x,n.x,i),y:t.z.number(e.y,n.y,i),z:t.z.number(e.z,n.z,i)}}}let T;class P extends t.E{constructor(e){super(),T=T||new t.q({anchor:new t.D(t.v.light.anchor),position:new S,color:new t.D(t.v.light.color),intensity:new t.D(t.v.light.intensity)}),this._transitionable=new t.T(T),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(t.r,e,n))for(const t in e){const n=e[t];t.endsWith("-transition")?this._transitionable.setTransition(t.slice(0,-11),n):this._transitionable.setValue(t,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,n,i){return(!i||!1!==i.validate)&&t.t(this,e.call(t.x,{value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.v}))}}const N=new t.q({"sky-color":new t.D(t.v.sky["sky-color"]),"horizon-color":new t.D(t.v.sky["horizon-color"]),"fog-color":new t.D(t.v.sky["fog-color"]),"fog-ground-blend":new t.D(t.v.sky["fog-ground-blend"]),"horizon-fog-blend":new t.D(t.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new t.D(t.v.sky["sky-horizon-blend"]),"atmosphere-blend":new t.D(t.v.sky["atmosphere-blend"])});class M extends t.E{constructor(e){super(),this._transitionable=new t.T(N),this.setSky(e),this._transitioning=this._transitionable.untransitioned()}setSky(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(t.B,e,n))for(const t in e){const n=e[t];t.endsWith("-transition")?this._transitionable.setTransition(t.slice(0,-11),n):this._transitionable.setValue(t,n)}}getSky(){return this._transitionable.serialize()}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!1!==(null==i?void 0:i.validate)&&t.t(this,e.call(t.x,t.e({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.v})))}calculateFogBlendOpacity(e){return e<60?0:e<70?(e-60)/10:1}}class B{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){const n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]}getDashRanges(e,t,n){const i=[];let r=e.length%2==1?-e[e.length-1]*n:0,a=e[0]*n,o=!0;i.push({left:r,right:a,isDash:o,zeroLength:0===e[0]});let s=e[0];for(let l=1;l<e.length;l++){o=!o;const t=e[l];r=s*n,s+=t,a=s*n,i.push({left:r,right:a,isDash:o,zeroLength:0===t})}return i}addRoundDash(e,t,n){const i=t/2;for(let r=-n;r<=n;r++){const t=this.width*(this.nextRow+n+r);let a=0,o=e[a];for(let s=0;s<this.width;s++){s/o.right>1&&(o=e[++a]);const l=Math.abs(s-o.left),u=Math.abs(s-o.right),c=Math.min(l,u);let h;const d=r/n*(i+1);if(o.isDash){const e=i-Math.abs(d);h=Math.sqrt(c*c+e*e)}else h=i-Math.sqrt(c*c+d*d);this.data[t+s]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(e){for(let o=e.length-1;o>=0;--o){const t=e[o],n=e[o+1];t.zeroLength?e.splice(o,1):n&&n.isDash===t.isDash&&(n.left=t.left,e.splice(o,1))}const t=e[0],n=e[e.length-1];t.isDash===n.isDash&&(t.left=n.left-this.width,n.right=t.right+this.width);const i=this.width*this.nextRow;let r=0,a=e[r];for(let o=0;o<this.width;o++){o/a.right>1&&(a=e[++r]);const t=Math.abs(o-a.left),n=Math.abs(o-a.right),s=Math.min(t,n);this.data[i+o]=Math.max(0,Math.min(255,(a.isDash?s:-s)+128))}}addDash(e,n){const i=n?7:0,r=2*i+1;if(this.nextRow+r>this.height)return t.w("LineAtlas out of space"),null;let a=0;for(let t=0;t<e.length;t++)a+=e[t];if(0!==a){const t=this.width/a,r=this.getDashRanges(e,this.width,t);n?this.addRoundDash(r,t,i):this.addRegularDash(r)}const o={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:a};return this.nextRow+=r,this.dirty=!0,o}bind(e){const t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}const L="maplibre_preloaded_worker_pool";class R{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<R.workerCount;)this.workers.push(new Worker(t.a.WORKER_URL));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[L]}numActive(){return Object.keys(this.active).length}}const z=Math.floor(a.hardwareConcurrency/2);let O,D;function F(){return O||(O=new R),O}R.workerCount=t.C(globalThis)?Math.max(Math.min(z,3),1):1;class j{constructor(e,n){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=n;const i=this.workerPool.acquire(n);for(let r=0;r<i.length;r++){const e=new t.F(i[r],n);e.name="Worker ".concat(r),this.actors.push(e)}if(!this.actors.length)throw new Error("No actors found")}broadcast(e,t){const n=[];for(const i of this.actors)n.push(i.sendAsync({type:e,data:t}));return Promise.all(n)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.actors.forEach((e=>{e.remove()})),this.actors=[],e&&this.workerPool.release(this.id)}registerMessageHandler(e,t){for(const n of this.actors)n.registerMessageHandler(e,t)}}function Q(){return D||(D=new j(F(),t.G),D.registerMessageHandler("GR",((e,n,i)=>t.m(n,i)))),D}function U(e,n){const i=t.H();return t.J(i,i,[1,1,0]),t.K(i,i,[.5*e.width,.5*e.height,1]),t.L(i,i,e.calculatePosMatrix(n.toUnwrapped()))}function V(e,t,n,i,r,a){const o=function(e,t,n){if(e)for(const i of e){const e=t[i];if(e&&e.source===n&&"fill-extrusion"===e.type)return!0}else for(const i in t){const e=t[i];if(e.source===n&&"fill-extrusion"===e.type)return!0}return!1}(r&&r.layers,t,e.id),s=a.maxPitchScaleFactor(),l=e.tilesIn(i,s,o);l.sort(q);const u=[];for(const h of l)u.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(t,n,e._state,h.queryGeometry,h.cameraQueryGeometry,h.scale,r,a,s,U(e.transform,h.tileID))});const c=function(e){const t={},n={};for(const i of e){const e=i.queryResults,r=i.wrappedTileID,a=n[r]=n[r]||{};for(const n in e){const i=e[n],r=a[n]=a[n]||{},o=t[n]=t[n]||[];for(const e of i)r[e.featureIndex]||(r[e.featureIndex]=!0,o.push(e))}}return t}(u);for(const h in c)c[h].forEach((t=>{const n=t.feature,i=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=i}));return c}function q(e,t){const n=e.tileID,i=t.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}function G(e,n,i){return t._(this,void 0,void 0,(function*(){let r=e;if(e.url?r=(yield t.h(n.transformRequest(e.url,"Source"),i)).data:yield a.frameAsync(i),!r)return null;const o=t.M(t.e(r,e),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in r&&r.vector_layers&&(o.vectorLayerIds=r.vector_layers.map((e=>e.id))),o}))}class H{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):Array.isArray(e)&&(4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(e){return this._ne=e instanceof t.N?new t.N(e.lng,e.lat):t.N.convert(e),this}setSouthWest(e){return this._sw=e instanceof t.N?new t.N(e.lng,e.lat):t.N.convert(e),this}extend(e){const n=this._sw,i=this._ne;let r,a;if(e instanceof t.N)r=e,a=e;else{if(!(e instanceof H))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(H.convert(e)):this.extend(t.N.convert(e)):e&&("lng"in e||"lon"in e)&&"lat"in e?this.extend(t.N.convert(e)):this;if(r=e._sw,a=e._ne,!r||!a)return this}return n||i?(n.lng=Math.min(r.lng,n.lng),n.lat=Math.min(r.lat,n.lat),i.lng=Math.max(a.lng,i.lng),i.lat=Math.max(a.lat,i.lat)):(this._sw=new t.N(r.lng,r.lat),this._ne=new t.N(a.lng,a.lat)),this}getCenter(){return new t.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new t.N(this.getWest(),this.getNorth())}getSouthEast(){return new t.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:n,lat:i}=t.N.convert(e);let r=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=i&&i<=this._ne.lat&&r}static convert(e){return e instanceof H?e:e?new H(e):e}static fromLngLat(e){const n=360*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)/40075017,i=n/Math.cos(Math.PI/180*e.lat);return new H(new t.N(e.lng-i,e.lat-n),new t.N(e.lng+i,e.lat+n))}}class X{constructor(e,t,n){this.bounds=H.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=n||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){const n=Math.pow(2,e.z),i=Math.floor(t.O(this.bounds.getWest())*n),r=Math.floor(t.Q(this.bounds.getNorth())*n),a=Math.ceil(t.O(this.bounds.getEast())*n),o=Math.ceil(t.Q(this.bounds.getSouth())*n);return e.x>=i&&e.x<a&&e.y>=r&&e.y<o}}class W extends t.E{constructor(e,n,i,r){if(super(),this.id=e,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.e(this,t.M(n,["url","scheme","tileSize","promoteId"])),this._options=t.e({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}load(){return t._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new t.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const e=yield G(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),e&&(t.e(this,e),e.bounds&&(this.tileBounds=new X(e.bounds,this.minzoom,this.maxzoom)),this.fire(new t.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.k("data",{dataType:"source",sourceDataType:"content"})))}catch(e){this._tileJSONRequest=null,this.fire(new t.j(e))}}))}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.abort(),e(),this.load()}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return t.e({},this._options)}loadTile(e){return t._(this,void 0,void 0,(function*(){const t=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),n={request:this.map._requestManager.transformRequest(t,"Tile"),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};n.request.collectResourceTiming=this._collectResourceTiming;let i="RT";if(e.actor&&"expired"!==e.state){if("loading"===e.state)return new Promise(((t,n)=>{e.reloadPromise={resolve:t,reject:n}}))}else e.actor=this.dispatcher.getActor(),i="LT";e.abortController=new AbortController;try{const t=yield e.actor.sendAsync({type:i,data:n},e.abortController);if(delete e.abortController,e.aborted)return;this._afterTileLoadWorkerResponse(e,t)}catch(t){if(delete e.abortController,e.aborted)return;if(t&&404!==t.status)throw t;this._afterTileLoadWorkerResponse(e,null)}}))}_afterTileLoadWorkerResponse(e,t){if(t&&t.resourceTiming&&(e.resourceTiming=t.resourceTiming),t&&this.map._refreshExpiredTiles&&e.setExpiryData(t),e.loadVectorData(t,this.map.painter),e.reloadPromise){const t=e.reloadPromise;e.reloadPromise=null,this.loadTile(e).then(t.resolve).catch(t.reject)}}abortTile(e){return t._(this,void 0,void 0,(function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.actor&&(yield e.actor.sendAsync({type:"AT",data:{uid:e.uid,type:this.type,source:this.id}}))}))}unloadTile(e){return t._(this,void 0,void 0,(function*(){e.unloadVectorData(),e.actor&&(yield e.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class Y extends t.E{constructor(e,n,i,r){super(),this.id=e,this.dispatcher=i,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.e({type:"raster"},n),t.e(this,t.M(n,["url","scheme","tileSize"]))}load(){return t._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new t.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const e=yield G(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,e&&(t.e(this,e),e.bounds&&(this.tileBounds=new X(e.bounds,this.minzoom,this.maxzoom)),this.fire(new t.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.k("data",{dataType:"source",sourceDataType:"content"})))}catch(e){this._tileJSONRequest=null,this.fire(new t.j(e))}}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(e){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),e(),this.load()}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e})),this}serialize(){return t.e({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e){return t._(this,void 0,void 0,(function*(){const t=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.abortController=new AbortController;try{const n=yield f.getImage(this.map._requestManager.transformRequest(t,"Tile"),e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(n&&n.data){this.map._refreshExpiredTiles&&n.cacheControl&&n.expires&&e.setExpiryData({cacheControl:n.cacheControl,expires:n.expires});const t=this.map.painter.context,i=t.gl,r=n.data;e.texture=this.map.painter.getTileTexture(r.width),e.texture?e.texture.update(r,{useMipmap:!0}):(e.texture=new x(t,r,i.RGBA,{useMipmap:!0}),e.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),t.extTextureFilterAnisotropic&&i.texParameterf(i.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax)),e.state="loaded"}}catch(t){if(delete e.abortController,e.aborted)e.state="unloaded";else if(t)throw e.state="errored",t}}))}abortTile(e){return t._(this,void 0,void 0,(function*(){e.abortController&&(e.abortController.abort(),delete e.abortController)}))}unloadTile(e){return t._(this,void 0,void 0,(function*(){e.texture&&this.map.painter.saveTileTexture(e.texture)}))}hasTransition(){return!1}}class Z extends Y{constructor(e,n,i,r){super(e,n,i,r),this.type="raster-dem",this.maxzoom=22,this._options=t.e({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox",this.redFactor=n.redFactor,this.greenFactor=n.greenFactor,this.blueFactor=n.blueFactor,this.baseShift=n.baseShift}loadTile(e){return t._(this,void 0,void 0,(function*(){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),i=this.map._requestManager.transformRequest(n,"Tile");e.neighboringTiles=this._getNeighboringTiles(e.tileID),e.abortController=new AbortController;try{const n=yield f.getImage(i,e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(n&&n.data){const i=n.data;this.map._refreshExpiredTiles&&n.cacheControl&&n.expires&&e.setExpiryData({cacheControl:n.cacheControl,expires:n.expires});const r=t.b(i)&&t.U()?i:yield this.readImageNow(i),a={type:this.type,uid:e.uid,source:this.id,rawImageData:r,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!e.actor||"expired"===e.state){e.actor=this.dispatcher.getActor();const t=yield e.actor.sendAsync({type:"LDT",data:a});e.dem=t,e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0,e.state="loaded"}}}catch(t){if(delete e.abortController,e.aborted)e.state="unloaded";else if(t)throw e.state="errored",t}}))}readImageNow(e){return t._(this,void 0,void 0,(function*(){if("undefined"!=typeof VideoFrame&&t.V()){const n=e.width+2,i=e.height+2;try{return new t.R({width:n,height:i},yield t.W(e,-1,-1,n,i))}catch(e){}}return a.getImageData(e,1)}))}_getNeighboringTiles(e){const n=e.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,a=0===n.x?e.wrap-1:e.wrap,o=(n.x+1+i)%i,s=n.x+1===i?e.wrap+1:e.wrap,l={};return l[new t.S(e.overscaledZ,a,n.z,r,n.y).key]={backfilled:!1},l[new t.S(e.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},n.y>0&&(l[new t.S(e.overscaledZ,a,n.z,r,n.y-1).key]={backfilled:!1},l[new t.S(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new t.S(e.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<i&&(l[new t.S(e.overscaledZ,a,n.z,r,n.y+1).key]={backfilled:!1},l[new t.S(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new t.S(e.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),l}unloadTile(e){return t._(this,void 0,void 0,(function*(){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&(yield e.actor.sendAsync({type:"RDT",data:{type:this.type,uid:e.uid,source:this.id}}))}))}}class K extends t.E{constructor(e,n,i,r){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=i.getActor(),this.setEventedParent(r),this._data=n.data,this._options=t.e({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const a=t.X/this.tileSize;this.workerOptions=t.e({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:t.X,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:t.X,radius:(n.clusterRadius||50)*a,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}load(){return t._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData(),this}updateData(e){return this._updateWorkerData(e),this}getData(){return t._(this,void 0,void 0,(function*(){const e=t.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:e})}))}setClusterOptions(e){return this.workerOptions.cluster=e.cluster,e&&(void 0!==e.clusterRadius&&(this.workerOptions.superclusterOptions.radius=e.clusterRadius),void 0!==e.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=e.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(e){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:e,source:this.id}})}getClusterChildren(e){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:e,source:this.id}})}getClusterLeaves(e,t,n){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:e,limit:t,offset:n}})}_updateWorkerData(e){return t._(this,void 0,void 0,(function*(){const n=t.e({type:this.type},this.workerOptions);e?n.dataDiff=e:"string"==typeof this._data?(n.request=this.map._requestManager.transformRequest(a.resolveURL(this._data),"Source"),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new t.k("dataloading",{dataType:"source"}));try{const e=yield this.actor.sendAsync({type:"LD",data:n});if(this._pendingLoads--,this._removed||e.abandoned)return void this.fire(new t.k("dataabort",{dataType:"source"}));let i=null;e.resourceTiming&&e.resourceTiming[this.id]&&(i=e.resourceTiming[this.id].slice(0));const r={dataType:"source"};this._collectResourceTiming&&i&&i.length>0&&t.e(r,{resourceTiming:i}),this.fire(new t.k("data",Object.assign(Object.assign({},r),{sourceDataType:"metadata"}))),this.fire(new t.k("data",Object.assign(Object.assign({},r),{sourceDataType:"content"})))}catch(e){if(this._pendingLoads--,this._removed)return void this.fire(new t.k("dataabort",{dataType:"source"}));this.fire(new t.j(e))}}))}loaded(){return 0===this._pendingLoads}loadTile(e){return t._(this,void 0,void 0,(function*(){const t=e.actor?"RT":"LT";e.actor=this.actor;const n={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};e.abortController=new AbortController;const i=yield this.actor.sendAsync({type:t,data:n},e.abortController);delete e.abortController,e.unloadVectorData(),e.aborted||e.loadVectorData(i,this.map.painter,"RT"===t)}))}abortTile(e){return t._(this,void 0,void 0,(function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.aborted=!0}))}unloadTile(e){return t._(this,void 0,void 0,(function*(){e.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return t.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var J=t.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class $ extends t.E{constructor(e,t,n,i){super(),this.id=e,this.dispatcher=n,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=t}load(e){return t._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new t.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const t=yield f.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,t&&t.data&&(this.image=t.data,e&&(this.coordinates=e),this._finishLoading())}catch(e){this._request=null,this._loaded=!0,this.fire(new t.j(e))}}))}loaded(){return this._loaded}updateImage(e){return e.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=e.url,this.load(e.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(e){this.coordinates=e;const n=e.map(t.Z.fromLngLat);this.tileID=function(e){let n=1/0,i=1/0,r=-1/0,a=-1/0;for(const t of e)n=Math.min(n,t.x),i=Math.min(i,t.y),r=Math.max(r,t.x),a=Math.max(a,t.y);const o=Math.max(r-n,a-i),s=Math.max(0,Math.floor(-Math.log(o)/Math.LN2)),l=Math.pow(2,s);return new t.a1(s,Math.floor((n+r)/2*l),Math.floor((i+a)/2*l))}(n),this.minzoom=this.maxzoom=this.tileID.z;const i=n.map((e=>this.tileID.getTilePoint(e)._round()));return this._boundsArray=new t.$,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.X,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.X),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.X,t.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const e=this.map.painter.context,n=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,J.members)),this.boundsSegments||(this.boundsSegments=t.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new x(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let i=!1;for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture,i=!0)}i&&this.fire(new t.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(e){return t._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={}):e.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class ee extends ${constructor(e,t,n,i){super(e,t,n,i),this.roundZoom=!0,this.type="video",this.options=t}load(){return t._(this,void 0,void 0,(function*(){this._loaded=!1;const e=this.options;this.urls=[];for(const t of e.urls)this.urls.push(this.map._requestManager.transformRequest(t,"Source").url);try{const e=yield t.a3(this.urls);if(this._loaded=!0,!e)return;this.video=e,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(e){this.fire(new t.j(e))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.j(new t.a2("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(n.start(0)," and ").concat(n.end(0),"-second mark.")))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const e=this.map.painter.context,n=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,J.members)),this.boundsSegments||(this.boundsSegments=t.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new x(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let i=!1;for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture,i=!0)}i&&this.fire(new t.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class te extends ${constructor(e,n,i,r){super(e,n,i,r),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new t.j(new t.a2("sources.".concat(e),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.j(new t.a2("sources.".concat(e),null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new t.j(new t.a2("sources.".concat(e),null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof HTMLCanvasElement||this.fire(new t.j(new t.a2("sources.".concat(e),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.j(new t.a2("sources.".concat(e),null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){return t._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context,i=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,J.members)),this.boundsSegments||(this.boundsSegments=t.a0.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new x(n,this.canvas,i.RGBA,{premultiply:!0});let r=!1;for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture,r=!0)}r&&this.fire(new t.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const ne={},ie=e=>{switch(e){case"geojson":return K;case"image":return $;case"raster":return Y;case"raster-dem":return Z;case"vector":return W;case"video":return ee;case"canvas":return te}return ne[e]},re="RTLPluginLoaded";class ae extends t.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Q()}_syncState(e){return this.status=e,this.dispatcher.broadcast("SRPS",{pluginStatus:e,pluginURL:this.url}).catch((e=>{throw this.status="error",e}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(e){return t._(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){if(t.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(t.url=a.resolveURL(e),!t.url)throw new Error("requested url ".concat(e," is invalid"));if("unavailable"===t.status){if(!n)return t._requestImport();t.status="deferred",t._syncState(t.status)}else if("requested"===t.status)return t._requestImport()}()}))}_requestImport(){return t._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new t.k(re))}))}lazyLoad(){"unavailable"===this.status?this.status="requested":"deferred"===this.status&&this._requestImport()}}let oe=null;function se(){return oe||(oe=new ae),oe}class le{constructor(e,n){this.timeAdded=0,this.fadeEndTime=0,this.tileID=e,this.uid=t.a4(),this.uses=0,this.tileSize=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){const t=e+this.timeAdded;t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(e,n,i){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const i of e){const e=i.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){i.layers=e,i.stateDependentLayerIds&&(i.stateDependentLayers=i.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)n[t.id]=i}}return n}(e.buckets,n.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const n=this.buckets[e];if(n instanceof t.a6){if(this.hasSymbolBuckets=!0,!i)break;n.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const n=this.buckets[e];if(n instanceof t.a6&&n.hasRTLText){this.hasRTLText=!0,se().lazyLoad();break}}this.queryPadding=0;for(const e in this.buckets){const t=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(e).queryRadius(t))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new t.a5}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const n in this.buckets){const t=this.buckets[n];t.uploadPending()&&t.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new x(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new x(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,i,r,a,o,s,l,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:i,cameraQueryGeometry:r,scale:a,tileSize:this.tileSize,pixelPosMatrix:u,transform:s,params:o,queryPadding:this.queryPadding*l},e,t,n):{}}querySourceFeatures(e,n){const i=this.latestFeatureIndex;if(!i||!i.rawTileData)return;const r=i.loadVTLayers(),a=n&&n.sourceLayer?n.sourceLayer:"",o=r._geojsonTileLayer||r[a];if(!o)return;const s=t.a7(n&&n.filter),{z:l,x:u,y:c}=this.tileID.canonical,h={z:l,x:u,y:c};for(let d=0;d<o.length;d++){const n=o.feature(d);if(s.needGeometry){const e=t.a8(n,!0);if(!s.filter(new t.a9(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!s.filter(new t.a9(this.tileID.overscaledZ),n))continue;const r=i.getId(n,a),f=new t.aa(n,l,u,c,r);f.tile=h,e.push(f)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const n=this.expirationTime;if(e.cacheControl){const n=t.ab(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let t=!1;if(this.expirationTime>e)t=!1;else if(n)if(this.expirationTime<n)t=!0;else{const i=this.expirationTime-n;i?this.expirationTime=e+Math.max(i,3e4):t=!0}else t=!0;t?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const n=this.latestFeatureIndex.loadVTLayers();for(const i in this.buckets){if(!t.style.hasLayer(i))continue;const r=this.buckets[i],a=r.layers[0].sourceLayer||"_geojsonTileLayer",o=n[a],s=e[a];if(!o||!s||0===Object.keys(s).length)continue;r.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=t&&t.style&&t.style.getLayer(i);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(r)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=a.now()+e}setDependencies(e,t){const n={};for(const i of t)n[i]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}}class ue{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);const r={value:t,timeout:void 0};if(void 0!==n&&(r.timeout=setTimeout((()=>{this.remove(e,r)}),n)),this.data[i].push(r),this.order.push(i),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,i=void 0===t?0:this.data[n].indexOf(t),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const i of this.data[n])e(i.value)||t.push(i);for(const n of t)this.remove(n.value.tileID,n)}}class ce{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,n,i){const r=String(n);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},t.e(this.stateChanges[e][r],i),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==r&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][r]){this.deletedStates[e][r]={};for(const t in this.state[e][r])i[t]||(this.deletedStates[e][r][t]=null)}else for(const t in i)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][t]&&delete this.deletedStates[e][r][t]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const i=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][i]&&(this.deletedStates[e][i]=this.deletedStates[e][i]||{},this.deletedStates[e][i][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][i])for(n in this.deletedStates[e][i]={},this.stateChanges[e][i])this.deletedStates[e][i][n]=null;else this.deletedStates[e][i]=null;else this.deletedStates[e]=null}getState(e,n){const i=String(n),r=t.e({},(this.state[e]||{})[i],(this.stateChanges[e]||{})[i]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const t=this.deletedStates[e][n];if(null===t)return{};for(const e in t)delete r[e]}return r}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,n){const i={};for(const r in this.stateChanges){this.state[r]=this.state[r]||{};const e={};for(const n in this.stateChanges[r])this.state[r][n]||(this.state[r][n]={}),t.e(this.state[r][n],this.stateChanges[r][n]),e[n]=this.state[r][n];i[r]=e}for(const r in this.deletedStates){this.state[r]=this.state[r]||{};const e={};if(null===this.deletedStates[r])for(const t in this.state[r])e[t]={},this.state[r][t]={};else for(const t in this.deletedStates[r]){if(null===this.deletedStates[r][t])this.state[r][t]={};else for(const e of Object.keys(this.deletedStates[r][t]))delete this.state[r][t][e];e[t]=this.state[r][t]}i[r]=i[r]||{},t.e(i[r],e)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(i).length)for(const t in e)e[t].setFeatureState(i,n)}}class he extends t.E{constructor(e,t,n){super(),this.id=e,this.dispatcher=n,this.on("data",(e=>this._dataHandler(e))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((e,t,n,i)=>{const r=new(ie(t.type))(e,t,n,i);if(r.id!==e)throw new Error("Expected Source id to be ".concat(e," instead of ").concat(r.id));return r})(e,t,n,this),this._tiles={},this._cache=new ue(0,(e=>this._unloadTile(e))),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ce,this._didEmitContent=!1,this._updated=!1}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e,n,i){return t._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(e),this._tileLoaded(e,n,i)}catch(n){e.state="errored",404!==n.status?this._source.fire(new t.j(n,{tile:e})):this.update(this.transform,this.terrain)}}))}_unloadTile(e){this._source.unloadTile&&this._source.unloadTile(e)}_abortTile(e){this._source.abortTile&&this._source.abortTile(e),this._source.fire(new t.k("dataabort",{tile:e,coord:e.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((e=>e.tileID)).sort(de).map((e=>e.key))}getRenderableIds(e){const n=[];for(const t in this._tiles)this._isIdRenderable(t,e)&&n.push(this._tiles[t]);return e?n.sort(((e,n)=>{const i=e.tileID,r=n.tileID,a=new t.P(i.canonical.x,i.canonical.y)._rotate(this.transform.angle),o=new t.P(r.canonical.x,r.canonical.y)._rotate(this.transform.angle);return i.overscaledZ-r.overscaledZ||o.y-a.y||o.x-a.x})).map((e=>e.tileID.key)):n.map((e=>e.tileID)).sort(de).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")}}_reloadTile(e,n){return t._(this,void 0,void 0,(function*(){const t=this._tiles[e];t&&("loading"!==t.state&&(t.state=n),yield this._loadTile(t,e,n))}))}_tileLoaded(e,n,i){e.timeAdded=a.now(),"expired"===i&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),e.aborted||this._source.fire(new t.k("data",{dataType:"source",tile:e,coord:e.tileID}))}_backfillDEM(e){const t=this.getRenderableIds();for(let i=0;i<t.length;i++){const r=t[i];if(e.neighboringTiles&&e.neighboringTiles[r]){const t=this.getTileByID(r);n(e,t),n(t,e)}}function n(e,t){e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0;let n=t.tileID.canonical.x-e.tileID.canonical.x;const i=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,i),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,n,i){for(const r in this._tiles){let a=this._tiles[r];if(i[r]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>n)continue;let o=a.tileID;for(;a&&a.tileID.overscaledZ>t+1;){const e=a.tileID.scaledTo(a.tileID.overscaledZ-1);a=this._tiles[e.key],a&&a.hasData()&&(o=e)}let s=o;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){i[o.key]=o;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(let n=e.overscaledZ-1;n>=t;n--){const t=e.scaledTo(n),i=this._getLoadedTile(t);if(i)return i}}findLoadedSibling(e){return this._getLoadedTile(e)}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){const n=Math.ceil(e.width/this._source.tileSize)+1,i=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(n*i*(null===this._maxTileCacheZoomLevels?t.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(a)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const n in this._tiles){const i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),e[i.tileID.key]=i}this._tiles=e;for(const t in this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(const t in this._tiles)this._setTileReloadTimer(t,this._tiles[t])}}_updateCoveredAndRetainedTiles(e,t,n,i,r,o){const s={},l={},u=Object.keys(e),c=a.now();for(const a of u){const n=e[a],i=this._tiles[a];if(!i||0!==i.fadeEndTime&&i.fadeEndTime<=c)continue;const r=this.findLoadedParent(n,t),o=this.findLoadedSibling(n),u=r||o||null;u&&(this._addTile(u.tileID),s[u.tileID.key]=u.tileID),l[a]=n}this._retainLoadedChildren(l,i,n,e);for(const a in s)e[a]||(this._coveredTiles[a]=!0,e[a]=s[a]);if(o){const t={},n={};for(const e of r)this._tiles[e.key].hasData()?t[e.key]=e:n[e.key]=e;for(const i in n){const r=n[i].children(this._source.maxzoom);this._tiles[r[0].key]&&this._tiles[r[1].key]&&this._tiles[r[2].key]&&this._tiles[r[3].key]&&(t[r[0].key]=e[r[0].key]=r[0],t[r[1].key]=e[r[1].key]=r[1],t[r[2].key]=e[r[2].key]=r[2],t[r[3].key]=e[r[3].key]=r[3],delete n[i])}for(const i in n){const r=n[i],a=this.findLoadedParent(r,this._source.minzoom),o=this.findLoadedSibling(r),s=a||o||null;if(s){t[s.tileID.key]=e[s.tileID.key]=s.tileID;for(const e in t)t[e].isChildOf(s.tileID)&&delete t[e]}}for(const e in this._tiles)t[e]||(this._coveredTiles[e]=!0)}}update(e,n){if(!this._sourceLoaded||this._paused)return;let i;this.transform=e,this.terrain=n,this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((e=>new t.S(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y))):(i=e.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:n}),this._source.hasTile&&(i=i.filter((e=>this._source.hasTile(e))))):i=[];const r=e.coveringZoomLevel(this._source),a=Math.max(r-he.maxOverzooming,this._source.minzoom),o=Math.max(r+he.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const e={};for(const t of i)if(t.canonical.z>this._source.minzoom){const n=t.scaledTo(t.canonical.z-1);e[n.key]=n;const i=t.scaledTo(Math.max(this._source.minzoom,Math.min(t.canonical.z,5)));e[i.key]=i}i=i.concat(Object.values(e))}const s=0===i.length&&!this._updated&&this._didEmitContent;this._updated=!0,s&&this.fire(new t.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const l=this._updateRetainedTiles(i,r);fe(this._source.type)&&this._updateCoveredAndRetainedTiles(l,a,o,r,i,n);for(const t in l)this._tiles[t].clearFadeHold();const u=t.ac(this._tiles,l);for(const t of u){const e=this._tiles[t];e.hasSymbolBuckets&&!e.holdingForFade()?e.setHoldDuration(this.map._fadeDuration):e.hasSymbolBuckets&&!e.symbolFadeFinished()||this._removeTile(t)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,t){var n;const i={},r={},a=Math.max(t-he.maxOverzooming,this._source.minzoom),o=Math.max(t+he.maxUnderzooming,this._source.minzoom),s={};for(const l of e){const e=this._addTile(l);i[l.key]=l,e.hasData()||t<this._source.maxzoom&&(s[l.key]=l)}this._retainLoadedChildren(s,t,o,i);for(const l of e){let e=this._tiles[l.key];if(e.hasData())continue;if(t+1>this._source.maxzoom){const e=l.children(this._source.maxzoom)[0],t=this.getTile(e);if(t&&t.hasData()){i[e.key]=e;continue}}else{const e=l.children(this._source.maxzoom);if(i[e[0].key]&&i[e[1].key]&&i[e[2].key]&&i[e[3].key])continue}let o=e.wasRequested();for(let t=l.overscaledZ-1;t>=a;--t){const a=l.scaledTo(t);if(r[a.key])break;if(r[a.key]=!0,e=this.getTile(a),!e&&o&&(e=this._addTile(a)),e){const t=e.hasData();if((t||!(null===(n=this.map)||void 0===n?void 0:n.cancelPendingTileRequestsWhileZooming)||o)&&(i[a.key]=a),o=e.wasRequested(),t)break}}}return i}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let n,i=this._tiles[e].tileID;for(;i.overscaledZ>0;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}t.push(i.key);const e=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(e),n)break;i=e}for(const e of t)this._loadedParentTiles[e]=n}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const e in this._tiles){const t=this._tiles[e].tileID,n=this._getLoadedTile(t);this._loadedSiblingTiles[t.key]=n}}_addTile(e){let n=this._tiles[e.key];if(n)return n;n=this._cache.getAndRemove(e),n&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));const i=n;return n||(n=new le(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,e.key,n.state)),n.uses++,this._tiles[e.key]=n,i||this._source.fire(new t.k("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,"expired"),delete this._timers[e]}),n))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}_dataHandler(e){const t=e.sourceDataType;"source"===e.dataType&&"metadata"===t&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===t&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(e,n,i){const r=[],a=this.transform;if(!a)return r;const o=i?a.getCameraQueryGeometry(e):e,s=e.map((e=>a.pointCoordinate(e,this.terrain))),l=o.map((e=>a.pointCoordinate(e,this.terrain))),u=this.getIds();let c=1/0,h=1/0,d=-1/0,f=-1/0;for(const t of l)c=Math.min(c,t.x),h=Math.min(h,t.y),d=Math.max(d,t.x),f=Math.max(f,t.y);for(let p=0;p<u.length;p++){const e=this._tiles[u[p]];if(e.holdingForFade())continue;const i=e.tileID,o=Math.pow(2,a.zoom-e.tileID.overscaledZ),g=n*e.queryPadding*t.X/e.tileSize/o,m=[i.getTilePoint(new t.Z(c,h)),i.getTilePoint(new t.Z(d,f))];if(m[0].x-g<t.X&&m[0].y-g<t.X&&m[1].x+g>=0&&m[1].y+g>=0){const t=s.map((e=>i.getTilePoint(e))),n=l.map((e=>i.getTilePoint(e)));r.push({tile:e,tileID:i,queryGeometry:t,cameraQueryGeometry:n,scale:o})}}return r}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map((e=>this._tiles[e].tileID));for(const n of t)n.posMatrix=this.transform.calculatePosMatrix(n.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(fe(this._source.type)){const e=a.now();for(const t in this._tiles)if(this._tiles[t].fadeEndTime>=e)return!0}return!1}setFeatureState(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}removeFeatureState(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,n){const i=this._tiles[e];i&&i.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((n=>!n.hasDependency(e,t)))}}function de(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),i=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||i-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function fe(e){return"raster"===e||"image"===e||"video"===e}he.maxOverzooming=10,he.maxUnderzooming=3;class pe{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(1===this.points.length)return this.points[0];e=t.ad(e,0,1);let n=1,i=this._distances[n];const r=e*this.paddedLength+this.padding;for(;i<r&&n<this._distances.length;)i=this._distances[++n];const a=n-1,o=this._distances[a],s=i-o,l=s>0?(r-o)/s:0;return this.points[a].mult(1-l).add(this.points[n].mult(l))}}function ge(e,t){let n=!0;return"always"===e||"never"!==e&&"never"!==t||(n=!1),n}class me{constructor(e,t,n){const i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let a=0;a<this.xCellCount*this.yCellCount;a++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)}insertCircle(e,t,n,i){this._forEachCell(t-i,n-i,t+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(i)}_insertBoxCell(e,t,n,i,r,a){this.boxCells[r].push(a)}_insertCircleCell(e,t,n,i,r,a){this.circleCells[r].push(a)}_query(e,t,n,i,r,a,o){if(n<0||e>this.width||i<0||t>this.height)return[];const s=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=i){if(r)return[{key:null,x1:e,y1:t,x2:n,y2:i}];for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],i=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-i,y1:n-i,x2:t+i,y2:n+i})}}else this._forEachCell(e,t,n,i,this._queryCell,s,{hitTest:r,overlapMode:a,seenUids:{box:{},circle:{}}},o);return s}query(e,t,n,i){return this._query(e,t,n,i,!1,null)}hitTest(e,t,n,i,r,a){return this._query(e,t,n,i,!0,r,a).length>0}hitTestCircle(e,t,n,i,r){const a=e-n,o=e+n,s=t-n,l=t+n;if(o<0||a>this.width||l<0||s>this.height)return!1;const u=[];return this._forEachCell(a,s,o,l,this._queryCellCircle,u,{hitTest:!0,overlapMode:i,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},r),u.length>0}_queryCell(e,t,n,i,r,a,o,s){const{seenUids:l,hitTest:u,overlapMode:c}=o,h=this.boxCells[r];if(null!==h){const r=this.bboxes;for(const o of h)if(!l.box[o]){l.box[o]=!0;const h=4*o,d=this.boxKeys[o];if(e<=r[h+2]&&t<=r[h+3]&&n>=r[h+0]&&i>=r[h+1]&&(!s||s(d))&&(!u||!ge(c,d.overlapMode))&&(a.push({key:d,x1:r[h],y1:r[h+1],x2:r[h+2],y2:r[h+3]}),u))return!0}}const d=this.circleCells[r];if(null!==d){const r=this.circles;for(const o of d)if(!l.circle[o]){l.circle[o]=!0;const h=3*o,d=this.circleKeys[o];if(this._circleAndRectCollide(r[h],r[h+1],r[h+2],e,t,n,i)&&(!s||s(d))&&(!u||!ge(c,d.overlapMode))){const e=r[h],t=r[h+1],n=r[h+2];if(a.push({key:d,x1:e-n,y1:t-n,x2:e+n,y2:t+n}),u)return!0}}}return!1}_queryCellCircle(e,t,n,i,r,a,o,s){const{circle:l,seenUids:u,overlapMode:c}=o,h=this.boxCells[r];if(null!==h){const e=this.bboxes;for(const t of h)if(!u.box[t]){u.box[t]=!0;const n=4*t,i=this.boxKeys[t];if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!s||s(i))&&!ge(c,i.overlapMode))return a.push(!0),!0}}const d=this.circleCells[r];if(null!==d){const e=this.circles;for(const t of d)if(!u.circle[t]){u.circle[t]=!0;const n=3*t,i=this.circleKeys[t];if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!s||s(i))&&!ge(c,i.overlapMode))return a.push(!0),!0}}}_forEachCell(e,t,n,i,r,a,o,s){const l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),h=this._convertToYCellCoord(i);for(let d=l;d<=c;d++)for(let l=u;l<=h;l++)if(r.call(this,e,t,n,i,this.xCellCount*l+d,a,o,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,i,r,a){const o=i-e,s=r-t,l=n+a;return l*l>o*o+s*s}_circleAndRectCollide(e,t,n,i,r,a,o){const s=(a-i)/2,l=Math.abs(e-(i+s));if(l>s+n)return!1;const u=(o-r)/2,c=Math.abs(t-(r+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;const h=l-s,d=c-u;return h*h+d*d<=n*n}}function ye(e,n,i,r,a){const o=t.H();return n?(t.K(o,o,[1/a,1/a,1]),i||t.ae(o,o,r.angle)):t.L(o,r.labelPlaneMatrix,e),o}function ve(e,n,i,r,a){if(n){const n=t.af(e);return t.K(n,n,[a,a,1]),i||t.ae(n,n,-r.angle),n}return r.glCoordMatrix}function Ae(e,n,i){let r;i?(r=[e.x,e.y,i(e.x,e.y),1],t.ag(r,r,n)):(r=[e.x,e.y,0,1],function(e,t,n){const i=t[0],r=t[1];e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e[3]=n[3]*i+n[7]*r+n[15]}(r,r,n));const a=r[3];return{point:new t.P(r[0]/a,r[1]/a),signedDistanceFromCamera:a,isOccluded:!1}}function _e(e,t){return.5+e/t*.5}function xe(e,t){return e.x>=-t[0]&&e.x<=t[0]&&e.y>=-t[1]&&e.y<=t[1]}function be(e,n,i,r,a,o,s,l,u,c,h,d,f,p,g){const m=r?e.textSizeData:e.iconSizeData,y=t.ah(m,i.transform.zoom),v=[256/i.width*2+1,256/i.height*2+1],A=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;A.clear();const _=e.lineVertexArray,x=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,b=i.transform.width/i.transform.height;let w=!1;for(let E=0;E<x.length;E++){const r=x.get(E);if(r.hidden||r.writingMode===t.ai.vertical&&!w){Be(r.numGlyphs,A);continue}w=!1;const I=Ae(new t.P(r.anchorX,r.anchorY),n,g);if(!xe(I.point,v)){Be(r.numGlyphs,A);continue}const C=_e(i.transform.cameraToCenterDistance,I.signedDistanceFromCamera),k=t.aj(m,y,r),S=s?k/C:k*C,T={getElevation:g,labelPlaneMatrix:a,lineVertexArray:_,pitchWithMap:s,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:c,tileAnchorPoint:new t.P(r.anchorX,r.anchorY),unwrappedTileID:h,width:d,height:f,translation:p},P=Ie(T,r,S,!1,l,n,o,e.glyphOffsetArray,A,b,u);w=P.useVertical,(P.notEnoughRoom||w||P.needsFlipping&&Ie(T,r,S,!0,l,n,o,e.glyphOffsetArray,A,b,u).notEnoughRoom)&&Be(r.numGlyphs,A)}r?e.text.dynamicLayoutVertexBuffer.updateData(A):e.icon.dynamicLayoutVertexBuffer.updateData(A)}function we(e,t,n,i,r,a,o,s){const l=a.glyphStartIndex+a.numGlyphs,u=a.lineStartIndex,c=a.lineStartIndex+a.lineLength,h=t.getoffsetX(a.glyphStartIndex),d=t.getoffsetX(l-1),f=Ne(e*h,n,i,r,a.segment,u,c,s,o);if(!f)return null;const p=Ne(e*d,n,i,r,a.segment,u,c,s,o);return p?s.projectionCache.anyProjectionOccluded?null:{first:f,last:p}:null}function Ee(e,n,i,r){return e===t.ai.horizontal&&Math.abs(i.y-n.y)>Math.abs(i.x-n.x)*r?{useVertical:!0}:(e===t.ai.vertical?n.y<i.y:n.x>i.x)?{needsFlipping:!0}:null}function Ie(e,n,i,r,a,o,s,l,u,c,h){const d=i/24,f=n.lineOffsetX*d,p=n.lineOffsetY*d;let g;if(n.numGlyphs>1){const t=n.glyphStartIndex+n.numGlyphs,i=n.lineStartIndex,o=n.lineStartIndex+n.lineLength,u=we(d,l,f,p,r,n,h,e);if(!u)return{notEnoughRoom:!0};const m=Ae(u.first.point,s,e.getElevation).point,y=Ae(u.last.point,s,e.getElevation).point;if(a&&!r){const e=Ee(n.writingMode,m,y,c);if(e)return e}g=[u.first];for(let a=n.glyphStartIndex+1;a<t-1;a++)g.push(Ne(d*l.getoffsetX(a),f,p,r,n.segment,i,o,e,h));g.push(u.last)}else{if(a&&!r){const i=Ae(e.tileAnchorPoint,o,e.getElevation).point,r=n.lineStartIndex+n.segment+1,a=new t.P(e.lineVertexArray.getx(r),e.lineVertexArray.gety(r)),s=Ae(a,o,e.getElevation),l=s.signedDistanceFromCamera>0?s.point:function(e,t,n,i,r,a){return Ce(e,t,n,1,r,a)}(e.tileAnchorPoint,a,i,0,o,e),u=Ee(n.writingMode,i,l,c);if(u)return u}const i=Ne(d*l.getoffsetX(n.glyphStartIndex),f,p,r,n.segment,n.lineStartIndex,n.lineStartIndex+n.lineLength,e,h);if(!i||e.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};g=[i]}for(const m of g)t.ak(u,m.point,m.angle);return{}}function Ce(e,t,n,i,r,a){const o=e.add(e.sub(t)._unit()),s=void 0!==r?Ae(o,r,a.getElevation).point:Se(o.x,o.y,a).point,l=n.sub(s);return n.add(l._mult(i/l.mag()))}function ke(e,n,i){const r=n.projectionCache;if(r.projections[e])return r.projections[e];const a=new t.P(n.lineVertexArray.getx(e),n.lineVertexArray.gety(e)),o=Se(a.x,a.y,n);if(o.signedDistanceFromCamera>0)return r.projections[e]=o.point,r.anyProjectionOccluded=r.anyProjectionOccluded||o.isOccluded,o.point;const s=e-i.direction;return function(e,t,n,i,r){return Ce(e,t,n,i,void 0,r)}(0===i.distanceFromAnchor?n.tileAnchorPoint:new t.P(n.lineVertexArray.getx(s),n.lineVertexArray.gety(s)),a,i.previousVertex,i.absOffsetX-i.distanceFromAnchor+1,n)}function Se(e,n,i){const r=e+i.translation[0],a=n+i.translation[1];let o;return!i.pitchWithMap&&i.projection.useSpecialProjectionForSymbols?(o=i.projection.projectTileCoordinates(r,a,i.unwrappedTileID,i.getElevation),o.point.x=(.5*o.point.x+.5)*i.width,o.point.y=(.5*-o.point.y+.5)*i.height):(o=Ae(new t.P(r,a),i.labelPlaneMatrix,i.getElevation),o.isOccluded=!1),o}function Te(e,t,n){return e._unit()._perp()._mult(t*n)}function Pe(e,n,i,r,a,o,s,l,u){if(l.projectionCache.offsets[e])return l.projectionCache.offsets[e];const c=i.add(n);if(e+u.direction<r||e+u.direction>=a)return l.projectionCache.offsets[e]=c,c;const h=ke(e+u.direction,l,u),d=Te(h.sub(i),s,u.direction),f=i.add(d),p=h.add(d);return l.projectionCache.offsets[e]=t.al(o,c,f,p)||c,l.projectionCache.offsets[e]}function Ne(e,t,n,i,r,a,o,s,l){const u=i?e-t:e+t;let c=u>0?1:-1,h=0;i&&(c*=-1,h=Math.PI),c<0&&(h+=Math.PI);let d,f=c>0?a+r:a+r+1;s.projectionCache.cachedAnchorPoint?d=s.projectionCache.cachedAnchorPoint:(d=Se(s.tileAnchorPoint.x,s.tileAnchorPoint.y,s).point,s.projectionCache.cachedAnchorPoint=d);let p,g,m=d,y=d,v=0,A=0;const _=Math.abs(u),x=[];let b;for(;v+A<=_;){if(f+=c,f<a||f>=o)return null;v+=A,y=m,g=p;const e={absOffsetX:_,direction:c,distanceFromAnchor:v,previousVertex:y};if(m=ke(f,s,e),0===n)x.push(y),b=m.sub(y);else{let t;const i=m.sub(y);t=0===i.mag()?Te(ke(f+c,s,e).sub(m),n,c):Te(i,n,c),g||(g=y.add(t)),p=Pe(f,t,m,a,o,g,n,s,e),x.push(g),b=p.sub(g)}A=b.mag()}const w=b._mult((_-v)/A)._add(g||y),E=h+Math.atan2(m.y-y.y,m.x-y.x);return x.push(w),{point:w,angle:l?E:0,path:x}}const Me=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Be(e,t){for(let n=0;n<e;n++){const e=t.length;t.resize(e+4),t.float32.set(Me,3*e)}}const Le=100;class Re{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new me(e.width+200,e.height+200,25),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new me(e.width+200,e.height+200,25);this.transform=e,this.mapProjection=t,this.grid=n,this.ignoredGrid=i,this.pitchFactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+Le,this.screenBottomBoundary=e.height+Le,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,t,n,i,r,a,o,s,l,u,c){const h=e.anchorPointX+s[0],d=e.anchorPointY+s[1],f=this.projectAndGetPerspectiveRatio(i,h,d,r,u),p=this._projectCollisionBox(e,n,i,r,a,o,s,f,u,c),[g,m,y,v]=p.box;return this.mapProjection.useSpecialProjectionForSymbols&&(a?p.allPointsOccluded:this.mapProjection.isOccluded(h,d,r))||f.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(g,m,y,v)||"always"!==t&&this.grid.hitTest(g,m,y,v,t,l)?{box:[g,m,y,v],placeable:!1,offscreen:!1}:{box:[g,m,y,v],placeable:!0,offscreen:this.isOffscreen(g,m,y,v)}}placeCollisionCircles(e,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m){const y=[],v=new t.P(n.anchorX,n.anchorY),A=this.getPerspectiveRatio(o,v.x,v.y,s,m),_=(h?a/A:a*A)/t.aq,x={getElevation:m,labelPlaneMatrix:l,lineVertexArray:i,pitchWithMap:h,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:v,unwrappedTileID:s,width:this.transform.width,height:this.transform.height,translation:g},b=we(_,r,n.lineOffsetX*_,n.lineOffsetY*_,!1,n,!1,x);let w=!1,E=!1,I=!0;if(b){const n=.5*f*A+p,i=new t.P(-100,-100),r=new t.P(this.screenRightBoundary,this.screenBottomBoundary),a=new pe,o=b.first,s=b.last;let l=[];for(let e=o.path.length-1;e>=1;e--)l.push(o.path[e]);for(let e=1;e<s.path.length;e++)l.push(s.path[e]);const h=2.5*n;if(u){const e=this.projectPathToScreenSpace(l,x,u);l=e.some((e=>e.signedDistanceFromCamera<=0))?[]:e.map((e=>e.point))}let g=[];if(l.length>0){const e=l[0].clone(),n=l[0].clone();for(let t=1;t<l.length;t++)e.x=Math.min(e.x,l[t].x),e.y=Math.min(e.y,l[t].y),n.x=Math.max(n.x,l[t].x),n.y=Math.max(n.y,l[t].y);g=e.x>=i.x&&n.x<=r.x&&e.y>=i.y&&n.y<=r.y?[l]:n.x<i.x||e.x>r.x||n.y<i.y||e.y>r.y?[]:t.am([l],i.x,i.y,r.x,r.y)}for(const t of g){a.reset(t,.25*n);let i=0;i=a.length<=.5*n?1:Math.ceil(a.paddedLength/h)+1;for(let t=0;t<i;t++){const r=t/Math.max(i-1,1),o=a.lerp(r),s=o.x+Le,l=o.y+Le;y.push(s,l,n,0);const u=s-n,h=l-n,f=s+n,p=l+n;if(I=I&&this.isOffscreen(u,h,f,p),E=E||this.isInsideGrid(u,h,f,p),"always"!==e&&this.grid.hitTestCircle(s,l,n,e,d)&&(w=!0,!c))return{circles:[],offscreen:!1,collisionDetected:w}}}}return{circles:!c&&w||!E||A<this.perspectiveRatioCutoff?[]:y,offscreen:I,collisionDetected:w}}projectPathToScreenSpace(e,t,n){return e.map((e=>Ae(e,n,t.getElevation)))}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let i=1/0,r=1/0,a=-1/0,o=-1/0;for(const c of e){const e=new t.P(c.x+Le,c.y+Le);i=Math.min(i,e.x),r=Math.min(r,e.y),a=Math.max(a,e.x),o=Math.max(o,e.y),n.push(e)}const s=this.grid.query(i,r,a,o).concat(this.ignoredGrid.query(i,r,a,o)),l={},u={};for(const c of s){const e=c.key;if(void 0===l[e.bucketInstanceId]&&(l[e.bucketInstanceId]={}),l[e.bucketInstanceId][e.featureIndex])continue;const i=[new t.P(c.x1,c.y1),new t.P(c.x2,c.y1),new t.P(c.x2,c.y2),new t.P(c.x1,c.y2)];t.an(n,i)&&(l[e.bucketInstanceId][e.featureIndex]=!0,void 0===u[e.bucketInstanceId]&&(u[e.bucketInstanceId]=[]),u[e.bucketInstanceId].push(e.featureIndex))}return u}insertCollisionBox(e,t,n,i,r,a){(n?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:r,collisionGroupID:a,overlapMode:t},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,i,r,a){const o=n?this.ignoredGrid:this.grid,s={bucketInstanceId:i,featureIndex:r,collisionGroupID:a,overlapMode:t};for(let l=0;l<e.length;l+=4)o.insertCircle(s,e[l],e[l+1],e[l+2])}projectAndGetPerspectiveRatio(e,n,i,r,a){const o=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(n,i,r,a):Ae(new t.P(n,i),e,a);return{point:new t.P((o.point.x+1)/2*this.transform.width+Le,(1-o.point.y)/2*this.transform.height+Le),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o.signedDistanceFromCamera*.5,isOccluded:o.isOccluded,signedDistanceFromCamera:o.signedDistanceFromCamera}}getPerspectiveRatio(e,n,i,r,a){const o=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(n,i,r,a):Ae(new t.P(n,i),e,a);return.5+this.transform.cameraToCenterDistance/o.signedDistanceFromCamera*.5}isOffscreen(e,t,n,i){return n<Le||e>=this.screenRightBoundary||i<Le||t>this.screenBottomBoundary}isInsideGrid(e,t,n,i){return n>=0&&e<this.gridRightBoundary&&i>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const e=t.ao([]);return t.J(e,e,[-100,-100,0]),e}_projectCollisionBox(e,n,i,r,a,o,s,l,u,c){const h=n*l.perspectiveRatio;let d=new t.P(1,0),f=new t.P(0,1);const p=new t.P(e.anchorPointX+s[0],e.anchorPointY+s[1]);if(o&&!a){const e=this.projectAndGetPerspectiveRatio(i,p.x+1,p.y,r,u).point.sub(l.point).unit(),n=Math.atan(e.y/e.x)+(e.x<0?Math.PI:0),a=Math.sin(n),o=Math.cos(n);d=new t.P(o,a),f=new t.P(-a,o)}else if(!o&&a){const e=-this.transform.angle,n=Math.sin(e),i=Math.cos(e);d=new t.P(i,n),f=new t.P(-n,i)}let g=l.point,m=h;if(a){g=p;const e=this.transform.zoom-Math.floor(this.transform.zoom);m=Math.pow(2,-e),m*=this.mapProjection.getPitchedTextCorrection(this.transform,p,r),c||(m*=t.ad(.5+l.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}c&&(g=g.add(d.mult(c.x*m)).add(f.mult(c.y*m)));const y=e.x1*m,v=e.x2*m,A=(y+v)/2,_=e.y1*m,x=e.y2*m,b=(_+x)/2,w=[{offsetX:y,offsetY:_},{offsetX:A,offsetY:_},{offsetX:v,offsetY:_},{offsetX:v,offsetY:b},{offsetX:v,offsetY:x},{offsetX:A,offsetY:x},{offsetX:y,offsetY:x},{offsetX:y,offsetY:b}];let E=[];for(const{offsetX:C,offsetY:k}of w)E.push(new t.P(g.x+d.x*C+f.x*k,g.y+d.y*C+f.y*k));let I=!1;if(a){const e=E.map((e=>this.projectAndGetPerspectiveRatio(i,e.x,e.y,r,u)));I=e.some((e=>!e.isOccluded)),E=e.map((e=>e.point))}else I=!0;return{box:t.ap(E),allPointsOccluded:!I}}}function ze(e,n,i){return n*(t.X/(e.tileSize*Math.pow(2,i-e.tileID.overscaledZ)))}class Oe{constructor(e,t,n,i){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):i&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class De{constructor(e,t,n,i,r){this.text=new Oe(e?e.text:null,t,n,r),this.icon=new Oe(e?e.icon:null,t,i,r)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Fe{constructor(e,t,n){this.text=e,this.icon=t,this.skipFade=n}}class je{constructor(){this.invProjMatrix=t.H(),this.viewportMatrix=t.H(),this.circles=[]}}class Qe{constructor(e,t,n,i,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r}}class Ue{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function Ve(e,n,i,r,a){const{horizontalAlign:o,verticalAlign:s}=t.av(e);return new t.P(-(o-.5)*n+r[0]*a,-(s-.5)*i+r[1]*a)}class qe{constructor(e,t,n,i,r,a){this.transform=e.clone(),this.terrain=n,this.collisionIndex=new Re(this.transform,t),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=i,this.retainedQueryData={},this.collisionGroups=new Ue(r),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=a,a&&(a.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(e){const t=this.terrain;return t?(n,i)=>t.getElevation(e,n,i):null}getBucketParts(e,n,i,r){const a=i.getBucket(n),o=i.latestFeatureIndex;if(!a||!o||n.id!==a.layerIds[0])return;const s=i.collisionBoxArray,l=a.layers[0].layout,u=a.layers[0].paint,c=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),h=i.tileSize/t.X,d=i.tileID.toUnwrapped(),f=this.transform.calculatePosMatrix(d),p="map"===l.get("text-pitch-alignment"),g="map"===l.get("text-rotation-alignment"),m=ze(i,1,this.transform.zoom),y=this.collisionIndex.mapProjection.translatePosition(this.transform,i,u.get("text-translate"),u.get("text-translate-anchor")),v=this.collisionIndex.mapProjection.translatePosition(this.transform,i,u.get("icon-translate"),u.get("icon-translate-anchor")),A=ye(f,p,g,this.transform,m);let _=null;if(p){const e=ve(f,p,g,this.transform,m);_=t.L([],this.transform.labelPlaneMatrix,e)}this.retainedQueryData[a.bucketInstanceId]=new Qe(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,i.tileID);const x={bucket:a,layout:l,translationText:y,translationIcon:v,posMatrix:f,unwrappedTileID:d,textLabelPlaneMatrix:A,labelToScreenMatrix:_,scale:c,textPixelRatio:h,holdingForFade:i.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.ah(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(r)for(const t of a.sortKeyRanges){const{sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r}=t;e.push({sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r,parameters:x})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:x})}attemptAnchorPlacement(e,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m,y,v,A){const _=t.ar[e.textAnchor],x=[e.textOffset0,e.textOffset1],b=Ve(_,i,r,x,a),w=this.collisionIndex.placeCollisionBox(n,d,l,u,c,s,o,m,h.predicate,A,b);if((!v||this.collisionIndex.placeCollisionBox(v,d,l,u,c,s,o,y,h.predicate,A,b).placeable)&&w.placeable){let e;if(this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(e=this.prevPlacement.variableOffsets[f.crossTileID].anchor),0===f.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[f.crossTileID]={textOffset:x,width:i,height:r,anchor:_,textBoxScale:a,prevAnchor:e},this.markUsedJustification(p,_,f,g),p.allowVerticalPlacement&&(this.markUsedOrientation(p,g,f),this.placedOrientations[f.crossTileID]=g),{shift:b,placedGlyphBoxes:w}}}placeLayerBucketPart(e,n,i){const{bucket:r,layout:a,translationText:o,translationIcon:s,posMatrix:l,unwrappedTileID:u,textLabelPlaneMatrix:c,labelToScreenMatrix:h,textPixelRatio:d,holdingForFade:f,collisionBoxArray:p,partiallyEvaluatedTextSize:g,collisionGroup:m}=e.parameters,y=a.get("text-optional"),v=a.get("icon-optional"),A=t.as(a,"text-overlap","text-allow-overlap"),_="always"===A,x=t.as(a,"icon-overlap","icon-allow-overlap"),b="always"===x,w="map"===a.get("text-rotation-alignment"),E="map"===a.get("text-pitch-alignment"),I="none"!==a.get("icon-text-fit"),C="viewport-y"===a.get("symbol-z-order"),k=_&&(b||!r.hasIconData()||v),S=b&&(_||!r.hasTextData()||y);!r.collisionArrays&&p&&r.deserializeCollisionBoxes(p);const T=this._getTerrainElevationFunc(this.retainedQueryData[r.bucketInstanceId].tileID),P=(e,p,b)=>{var C,P;if(n[e.crossTileID])return;if(f)return void(this.placements[e.crossTileID]=new Fe(!1,!1,!1));let N=!1,M=!1,B=!0,L=null,R={box:null,placeable:!1,offscreen:null},z={box:null,placeable:!1,offscreen:null},O=null,D=null,F=null,j=0,Q=0,U=0;p.textFeatureIndex?j=p.textFeatureIndex:e.useRuntimeCollisionCircles&&(j=e.featureIndex),p.verticalTextFeatureIndex&&(Q=p.verticalTextFeatureIndex);const V=p.textBox;if(V){const n=n=>{let i=t.ai.horizontal;if(r.allowVerticalPlacement&&!n&&this.prevPlacement){const t=this.prevPlacement.placedOrientations[e.crossTileID];t&&(this.placedOrientations[e.crossTileID]=t,i=t,this.markUsedOrientation(r,i,e))}return i},a=(n,i)=>{if(r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&p.verticalTextBox){for(const e of r.writingModes)if(e===t.ai.vertical?(R=i(),z=R):R=n(),R&&R.placeable)break}else R=n()},c=e.textAnchorOffsetStartIndex,h=e.textAnchorOffsetEndIndex;if(h===c){const i=(t,n)=>{const i=this.collisionIndex.placeCollisionBox(t,A,d,l,u,E,w,o,m.predicate,T);return i&&i.placeable&&(this.markUsedOrientation(r,n,e),this.placedOrientations[e.crossTileID]=n),i};a((()=>i(V,t.ai.horizontal)),(()=>{const n=p.verticalTextBox;return r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?i(n,t.ai.vertical):{box:null,offscreen:null}})),n(R&&R.placeable)}else{let f=t.ar[null===(P=null===(C=this.prevPlacement)||void 0===C?void 0:C.variableOffsets[e.crossTileID])||void 0===P?void 0:P.anchor];const g=(n,a,p)=>{const g=n.x2-n.x1,y=n.y2-n.y1,v=e.textBoxScale,_=I&&"never"===x?a:null;let b=null,C="never"===A?1:2,k="never";f&&C++;for(let t=0;t<C;t++){for(let t=c;t<h;t++){const i=r.textAnchorOffsets.get(t);if(f&&i.textAnchor!==f)continue;const a=this.attemptAnchorPlacement(i,n,g,y,v,w,E,d,l,u,m,k,e,r,p,o,s,_,T);if(a&&(b=a.placedGlyphBoxes,b&&b.placeable))return N=!0,L=a.shift,b}f?f=null:k=A}return i&&!b&&(b={box:this.collisionIndex.placeCollisionBox(V,"always",d,l,u,E,w,o,m.predicate,T,new t.P(0,0)).box,offscreen:!1,placeable:!1}),b};a((()=>g(V,p.iconBox,t.ai.horizontal)),(()=>{const n=p.verticalTextBox;return r.allowVerticalPlacement&&(!R||!R.placeable)&&e.numVerticalGlyphVertices>0&&n?g(n,p.verticalIconBox,t.ai.vertical):{box:null,occluded:!0,offscreen:null}})),R&&(N=R.placeable,B=R.offscreen);const y=n(R&&R.placeable);if(!N&&this.prevPlacement){const t=this.prevPlacement.variableOffsets[e.crossTileID];t&&(this.variableOffsets[e.crossTileID]=t,this.markUsedJustification(r,t.anchor,e,y))}}}if(O=R,N=O&&O.placeable,B=O&&O.offscreen,e.useRuntimeCollisionCircles){const n=r.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),s=t.aj(r.textSizeData,g,n),d=a.get("text-padding");D=this.collisionIndex.placeCollisionCircles(A,n,r.lineVertexArray,r.glyphOffsetArray,s,l,u,c,h,i,E,m.predicate,e.collisionCircleDiameter,d,o,T),D.circles.length&&D.collisionDetected&&!i&&t.w("Collisions detected, but collision boxes are not shown"),N=_||D.circles.length>0&&!D.collisionDetected,B=B&&D.offscreen}if(p.iconFeatureIndex&&(U=p.iconFeatureIndex),p.iconBox){const e=e=>this.collisionIndex.placeCollisionBox(e,x,d,l,u,E,w,s,m.predicate,T,I&&L?L:void 0);z&&z.placeable&&p.verticalIconBox?(F=e(p.verticalIconBox),M=F.placeable):(F=e(p.iconBox),M=F.placeable),B=B&&F.offscreen}const q=y||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,G=v||0===e.numIconVertices;q||G?G?q||(M=M&&N):N=M&&N:M=N=M&&N;const H=M&&F.placeable;if(N&&O.placeable&&this.collisionIndex.insertCollisionBox(O.box,A,a.get("text-ignore-placement"),r.bucketInstanceId,z&&z.placeable&&Q?Q:j,m.ID),H&&this.collisionIndex.insertCollisionBox(F.box,x,a.get("icon-ignore-placement"),r.bucketInstanceId,U,m.ID),D&&N&&this.collisionIndex.insertCollisionCircles(D.circles,A,a.get("text-ignore-placement"),r.bucketInstanceId,j,m.ID),i&&this.storeCollisionData(r.bucketInstanceId,b,p,O,F,D),0===e.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===r.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[e.crossTileID]=new Fe(N||k,M||S,B||r.justReloaded),n[e.crossTileID]=!0};if(C){if(0!==e.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const t=r.getSortedSymbolIndexes(this.transform.angle);for(let e=t.length-1;e>=0;--e){const n=t[e];P(r.symbolInstances.get(n),r.collisionArrays[n],n)}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)P(r.symbolInstances.get(t),r.collisionArrays[t],t);if(i&&r.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[r.bucketInstanceId];t.at(e.invProjMatrix,l),e.viewportMatrix=this.collisionIndex.getViewportMatrix()}r.justReloaded=!1}storeCollisionData(e,t,n,i,r,a){if(n.textBox||n.iconBox){let a,o;this.collisionBoxArrays.has(e)?a=this.collisionBoxArrays.get(e):(a=new Map,this.collisionBoxArrays.set(e,a)),a.has(t)?o=a.get(t):(o={text:null,icon:null},a.set(t,o)),n.textBox&&(o.text=i.box),n.iconBox&&(o.icon=r.box)}if(a){let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new je);for(let e=0;e<a.circles.length;e+=4)t.circles.push(a.circles[e+0]),t.circles.push(a.circles[e+1]),t.circles.push(a.circles[e+2]),t.circles.push(a.collisionDetected?1:0)}}markUsedJustification(e,n,i,r){let a;a=r===t.ai.vertical?i.verticalPlacedTextSymbolIndex:{left:i.leftJustifiedTextSymbolIndex,center:i.centerJustifiedTextSymbolIndex,right:i.rightJustifiedTextSymbolIndex}[t.au(n)];const o=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex,i.verticalPlacedTextSymbolIndex];for(const t of o)t>=0&&(e.text.placedSymbolArray.get(t).crossTileID=a>=0&&t!==a?0:i.crossTileID)}markUsedOrientation(e,n,i){const r=n===t.ai.horizontal||n===t.ai.horizontalOnly?n:0,a=n===t.ai.vertical?n:0,o=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex];for(const t of o)e.text.placedSymbolArray.get(t).placedOrientation=r;i.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).placedOrientation=a)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const i=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(const s in this.placements){const e=this.placements[s],t=r[s];t?(this.opacities[s]=new De(t,i,e.text,e.icon),n=n||e.text!==t.text.placed||e.icon!==t.icon.placed):(this.opacities[s]=new De(null,i,e.text,e.icon,e.skipFade),n=n||e.text||e.icon)}for(const s in r){const e=r[s];if(!this.opacities[s]){const t=new De(e,i,!1,!1);t.isHidden()||(this.opacities[s]=t,n=n||e.text.placed||e.icon.placed)}}for(const s in a)this.variableOffsets[s]||!this.opacities[s]||this.opacities[s].isHidden()||(this.variableOffsets[s]=a[s]);for(const s in o)this.placedOrientations[s]||!this.opacities[s]||this.opacities[s].isHidden()||(this.placedOrientations[s]=o[s]);if(t&&void 0===t.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n={};for(const i of t){const t=i.getBucket(e);t&&i.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,i.tileID,n,i.collisionBoxArray)}}updateBucketOpacities(e,n,i,r){e.hasTextData()&&(e.text.opacityVertexArray.clear(),e.text.hasVisibleVertices=!1),e.hasIconData()&&(e.icon.opacityVertexArray.clear(),e.icon.hasVisibleVertices=!1),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const a=e.layers[0],o=a.layout,s=new De(null,0,!1,!1,!0),l=o.get("text-allow-overlap"),u=o.get("icon-allow-overlap"),c=a._unevaluatedLayout.hasValue("text-variable-anchor")||a._unevaluatedLayout.hasValue("text-variable-anchor-offset"),h="map"===o.get("text-rotation-alignment"),d="map"===o.get("text-pitch-alignment"),f="none"!==o.get("icon-text-fit"),p=new De(null,0,l&&(u||!e.hasIconData()||o.get("icon-optional")),u&&(l||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(r);const g=(e,t,n)=>{for(let i=0;i<t/4;i++)e.opacityVertexArray.emplaceBack(n);e.hasVisibleVertices=e.hasVisibleVertices||n!==et},m=this.collisionBoxArrays.get(e.bucketInstanceId);for(let y=0;y<e.symbolInstances.length;y++){const n=e.symbolInstances.get(y),{numHorizontalGlyphVertices:r,numVerticalGlyphVertices:a,crossTileID:o}=n;let l=this.opacities[o];i[o]?l=s:l||(l=p,this.opacities[o]=l),i[o]=!0;const u=n.numIconVertices>0,v=this.placedOrientations[n.crossTileID],A=v===t.ai.vertical,_=v===t.ai.horizontal||v===t.ai.horizontalOnly;if(r>0||a>0){const t=$e(l.text);g(e.text,r,A?et:t),g(e.text,a,_?et:t);const i=l.text.isHidden();[n.rightJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.leftJustifiedTextSymbolIndex].forEach((t=>{t>=0&&(e.text.placedSymbolArray.get(t).hidden=i||A?1:0)})),n.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).hidden=i||_?1:0);const o=this.variableOffsets[n.crossTileID];o&&this.markUsedJustification(e,o.anchor,n,v);const s=this.placedOrientations[n.crossTileID];s&&(this.markUsedJustification(e,"left",n,s),this.markUsedOrientation(e,s,n))}if(u){const t=$e(l.icon),i=!(f&&n.verticalPlacedIconSymbolIndex&&A);n.placedIconSymbolIndex>=0&&(g(e.icon,n.numIconVertices,i?t:et),e.icon.placedSymbolArray.get(n.placedIconSymbolIndex).hidden=l.icon.isHidden()),n.verticalPlacedIconSymbolIndex>=0&&(g(e.icon,n.numVerticalIconVertices,i?et:t),e.icon.placedSymbolArray.get(n.verticalPlacedIconSymbolIndex).hidden=l.icon.isHidden())}const x=m&&m.has(y)?m.get(y):{text:null,icon:null};if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const n=e.collisionArrays[y];if(n){let i=new t.P(0,0);if(n.textBox||n.verticalTextBox){let t=!0;if(c){const e=this.variableOffsets[o];e?(i=Ve(e.anchor,e.width,e.height,e.textOffset,e.textBoxScale),h&&i._rotate(d?this.transform.angle:-this.transform.angle)):t=!1}if(n.textBox||n.verticalTextBox){let r;n.textBox&&(r=A),n.verticalTextBox&&(r=_),Ge(e.textCollisionBox.collisionVertexArray,l.text.placed,!t||r,x.text,i.x,i.y)}}if(n.iconBox||n.verticalIconBox){const t=Boolean(!_&&n.verticalIconBox);let r;n.iconBox&&(r=t),n.verticalIconBox&&(r=!t),Ge(e.iconCollisionBox.collisionVertexArray,l.icon.placed,r,x.icon,f?i.x:0,f?i.y:0)}}}}if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.text.opacityVertexArray.length!==e.text.layoutVertexArray.length/4)throw new Error("bucket.text.opacityVertexArray.length (= ".concat(e.text.opacityVertexArray.length,") !== bucket.text.layoutVertexArray.length (= ").concat(e.text.layoutVertexArray.length,") / 4"));if(e.icon.opacityVertexArray.length!==e.icon.layoutVertexArray.length/4)throw new Error("bucket.icon.opacityVertexArray.length (= ".concat(e.icon.opacityVertexArray.length,") !== bucket.icon.layoutVertexArray.length (= ").concat(e.icon.layoutVertexArray.length,") / 4"));if(e.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=t.invProjMatrix,e.placementViewportMatrix=t.viewportMatrix,e.collisionCircleArray=t.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function Ge(e,t,n,i,r,a){i&&0!==i.length||(i=[0,0,0,0]);const o=i[0]-Le,s=i[1]-Le,l=i[2]-Le,u=i[3]-Le;e.emplaceBack(t?1:0,n?1:0,r||0,a||0,o,s),e.emplaceBack(t?1:0,n?1:0,r||0,a||0,l,s),e.emplaceBack(t?1:0,n?1:0,r||0,a||0,l,u),e.emplaceBack(t?1:0,n?1:0,r||0,a||0,o,u)}const He=Math.pow(2,25),Xe=Math.pow(2,24),We=Math.pow(2,17),Ye=Math.pow(2,16),Ze=Math.pow(2,9),Ke=Math.pow(2,8),Je=Math.pow(2,1);function $e(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*He+t*Xe+n*We+t*Ye+n*Ze+t*Ke+n*Je+t}const et=0;function tt(){return{isOccluded:(e,t,n)=>!1,getPitchedTextCorrection:(e,t,n)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(e,t,n,i){throw new Error("Not implemented.")},translatePosition:(e,t,n,i)=>function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!n[0]&&!n[1])return[0,0];const a=r?"map"===i?e.angle:0:"viewport"===i?-e.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);n=[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}return[r?n[0]:ze(t,n[0],e.zoom),r?n[1]:ze(t,n[1],e.zoom)]}(e,t,n,i),getCircleRadiusCorrection:e=>1}}class nt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,n,i,r){const a=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(a,i,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<a.length;)if(t.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,r())return!0;return!1}}class it{constructor(e,t,n,i,r,a,o,s){this.placement=new qe(e,tt(),t,a,o,s),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=r,this._done=!1}isDone(){return this._done}continuePlacement(e,t,n){const i=a.now(),r=()=>!this._forceFullPlacement&&a.now()-i>2;for(;this._currentPlacementIndex>=0;){const i=t[e[this._currentPlacementIndex]],a=this.placement.collisionIndex.transform.zoom;if("symbol"===i.type&&(!i.minzoom||i.minzoom<=a)&&(!i.maxzoom||i.maxzoom>a)){if(this._inProgressLayer||(this._inProgressLayer=new nt(i)),this._inProgressLayer.continuePlacement(n[i.source],this.placement,this._showCollisionBoxes,i,r))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const rt=512/t.X/2;class at{constructor(e,n,i){this.tileID=e,this.bucketInstanceId=i,this._symbolsByKey={};const r=new Map;for(let t=0;t<n.length;t++){const e=n.get(t),i=e.key,a=r.get(i);a?a.push(e):r.set(i,[e])}for(const[a,o]of r){const e={positions:o.map((e=>({x:Math.floor(e.anchorX*rt),y:Math.floor(e.anchorY*rt)}))),crossTileIDs:o.map((e=>e.crossTileID))};if(e.positions.length>128){const n=new t.aw(e.positions.length,16,Uint16Array);for(const{x:t,y:i}of e.positions)n.add(t,i);n.finish(),delete e.positions,e.index=n}this._symbolsByKey[a]=e}}getScaledCoordinates(e,n){const{x:i,y:r,z:a}=this.tileID.canonical,{x:o,y:s,z:l}=n.canonical,u=rt/Math.pow(2,l-a),c=(s*t.X+e.anchorY)*u,h=r*t.X*rt;return{x:Math.floor((o*t.X+e.anchorX)*u-i*t.X*rt),y:Math.floor(c-h)}}findMatches(e,t,n){const i=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const a=e.get(r);if(a.crossTileID)continue;const o=this._symbolsByKey[a.key];if(!o)continue;const s=this.getScaledCoordinates(a,t);if(o.index){const e=o.index.range(s.x-i,s.y-i,s.x+i,s.y+i).sort();for(const t of e){const e=o.crossTileIDs[t];if(!n[e]){n[e]=!0,a.crossTileID=e;break}}}else if(o.positions)for(let e=0;e<o.positions.length;e++){const t=o.positions[e],r=o.crossTileIDs[e];if(Math.abs(t.x-s.x)<=i&&Math.abs(t.y-s.y)<=i&&!n[r]){n[r]=!0,a.crossTileID=r;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((e=>{let{crossTileIDs:t}=e;return t}))}}class ot{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class st{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const n in this.indexes){const e=this.indexes[n],i={};for(const n in e){const r=e[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),i[r.tileID.key]=r}this.indexes[n]=i}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const i=this.usedCrossTileIDs[e.overscaledZ];for(const r in this.indexes){const n=this.indexes[r];if(Number(r)>e.overscaledZ)for(const r in n){const a=n[r];a.tileID.isChildOf(e)&&a.findMatches(t.symbolInstances,e,i)}else{const a=n[e.scaledTo(Number(r)).key];a&&a.findMatches(t.symbolInstances,e,i)}}for(let r=0;r<t.symbolInstances.length;r++){const e=t.symbolInstances.get(r);e.crossTileID||(e.crossTileID=n.generate(),i[e.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new at(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n of t.getCrossTileIDsLists())for(const t of n)delete this.usedCrossTileIDs[e][t]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const i=this.indexes[n];for(const r in i)e[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],t=!0)}return t}}class lt{constructor(){this.layerIndexes={},this.crossTileIDs=new ot,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n){let i=this.layerIndexes[e.id];void 0===i&&(i=this.layerIndexes[e.id]=new st);let r=!1;const a={};i.handleWrapJump(n);for(const o of t){const t=o.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(o.tileID,t,this.crossTileIDs)&&(r=!0),a[t.bucketInstanceId]=!0)}return i.removeStaleBuckets(a)&&(r=!0),r}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const n in this.layerIndexes)t[n]||delete this.layerIndexes[n]}}const ut=(e,n)=>t.t(e,n&&n.filter((e=>"source.canvas"!==e.identifier))),ct=t.ax();class ht extends t.E{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this._rtlPluginLoaded=()=>{for(const e in this.sourceCaches){const t=this.sourceCaches[e].getSource().type;"vector"!==t&&"geojson"!==t||this.sourceCaches[e].reload()}},this.map=e,this.dispatcher=new j(F(),e._getMapId()),this.dispatcher.registerMessageHandler("GG",((e,t)=>this.getGlyphs(e,t))),this.dispatcher.registerMessageHandler("GI",((e,t)=>this.getImages(e,t))),this.imageManager=new w,this.imageManager.setEventedParent(this),this.glyphManager=new k(e._requestManager,n.localIdeographFontFamily),this.lineAtlas=new B(256,512),this.crossTileSymbolIndex=new lt,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",t.az()),se().on(re,this._rtlPluginLoaded),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.sourceCaches[e.sourceId];if(!t)return;const n=t.getSource();if(n&&n.vectorLayerIds)for(const i in this._layers){const e=this._layers[i];e.source===n.id&&this._validateLayer(e)}}))}loadURL(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;this.fire(new t.k("dataloading",{dataType:"style"})),n.validate="boolean"!=typeof n.validate||n.validate;const r=this.map._requestManager.transformRequest(e,"Style");this._loadStyleRequest=new AbortController,t.h(r,this._loadStyleRequest).then((e=>{this._loadStyleRequest=null,this._load(e.data,n,i)})).catch((e=>{this._loadStyleRequest=null,e&&this.fire(new t.j(e))}))}loadJSON(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;this.fire(new t.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,a.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,n.validate=!1!==n.validate,this._load(e,n,i)})).catch((()=>{}))}loadEmpty(){this.fire(new t.k("dataloading",{dataType:"style"})),this._load(ct,{validate:!1})}_load(e,n,i){var r;const a=n.transformStyle?n.transformStyle(i,e):e;if(!n.validate||!ut(this,t.x(a))){this._loaded=!0,this.stylesheet=a;for(const e in a.sources)this.addSource(e,a.sources[e],{validate:!1});a.sprite?this._loadSprite(a.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(a.glyphs),this._createLayers(),this.light=new P(this.stylesheet.light),this.sky=new M(this.stylesheet.sky),this.map.setTerrain(null!==(r=this.stylesheet.terrain)&&void 0!==r?r:null),this.fire(new t.k("data",{dataType:"style"})),this.fire(new t.k("style.load"))}}_createLayers(){const e=t.aA(this.stylesheet.layers);this.dispatcher.broadcast("SL",e),this._order=e.map((e=>e.id)),this._layers={},this._serializedLayers=null;for(const n of e){const e=t.aB(n);e.setEventedParent(this,{layer:{id:n.id}}),this._layers[n.id]=e}}_loadSprite(e){let n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(e,n,i,r){return t._(this,void 0,void 0,(function*(){const o=A(e),s=i>1?"@2x":"",l={},u={};for(const{id:e,url:i}of o){const a=n.transformRequest(_(i,s,".json"),"SpriteJSON");l[e]=t.h(a,r);const o=n.transformRequest(_(i,s,".png"),"SpriteImage");u[e]=f.getImage(o,r)}return yield Promise.all([...Object.values(l),...Object.values(u)]),function(e,n){return t._(this,void 0,void 0,(function*(){const t={};for(const i in e){t[i]={};const r=a.getImageCanvasContext((yield n[i]).data),o=(yield e[i]).data;for(const e in o){const{width:n,height:a,x:s,y:l,sdf:u,pixelRatio:c,stretchX:h,stretchY:d,content:f,textFitWidth:p,textFitHeight:g}=o[e];t[i][e]={data:null,pixelRatio:c,sdf:u,stretchX:h,stretchY:d,content:f,textFitWidth:p,textFitHeight:g,spriteData:{width:n,height:a,x:s,y:l,context:r}}}}return t}))}(l,u)}))}(e,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((e=>{if(this._spriteRequest=null,e)for(const t in e){this._spritesImagesIds[t]=[];const n=this._spritesImagesIds[t]?this._spritesImagesIds[t].filter((t=>!(t in e))):[];for(const e of n)this.imageManager.removeImage(e),this._changedImages[e]=!0;for(const r in e[t]){const n="default"===t?r:"".concat(t,":").concat(r);this._spritesImagesIds[t].push(n),n in this.imageManager.images?this.imageManager.updateImage(n,e[t][r],!1):this.imageManager.addImage(n,e[t][r]),i&&(this._changedImages[n]=!0)}}})).catch((e=>{this._spriteRequest=null,n=e,this.fire(new t.j(n))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),i&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.k("data",{dataType:"style"})),r&&r(n)}))}_unloadSprite(){for(const e of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e),this._changedImages[e]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.k("data",{dataType:"style"}))}_validateLayer(e){const n=this.sourceCaches[e.source];if(!n)return;const i=e.sourceLayer;if(!i)return;const r=n.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(i))&&this.fire(new t.j(new Error('Source layer "'.concat(i,'" does not exist on source "').concat(r.id,'" as specified by style layer "').concat(e.id,'".'))))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(e){const t=this._serializedAllLayers();if(!e||0===e.length)return Object.values(t);const n=[];for(const i of e)t[i]&&n.push(t[i]);return n}_serializedAllLayers(){let e=this._serializedLayers;if(e)return e;e=this._serializedLayers={};const t=Object.keys(this._layers);for(const n of t){const t=this._layers[n];"custom"!==t.type&&(e[n]=t.serialize())}return e}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.sky&&this.sky.hasTransition())return!0;for(const e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(e){if(!this._loaded)return;const n=this._changed;if(n){const t=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(t.length||n.length)&&this._updateWorkerLayers(t,n);for(const e in this._updatedSources){const t=this._updatedSources[e];if("reload"===t)this._reloadSource(e);else{if("clear"!==t)throw new Error("Invalid action ".concat(t));this._clearSource(e)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const i in this._updatedPaintProps)this._layers[i].updateTransitions(e);this.light.updateTransitions(e),this.sky.updateTransitions(e),this._resetUpdates()}const i={};for(const t in this.sourceCaches){const e=this.sourceCaches[t];i[t]=e.used,e.used=!1}for(const t of this._order){const n=this._layers[t];n.recalculate(e,this._availableImages),!n.isHidden(e.zoom)&&n.source&&(this.sourceCaches[n.source].used=!0)}for(const r in i){const e=this.sourceCaches[r];!!i[r]!=!!e.used&&e.fire(new t.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:r}))}this.light.recalculate(e),this.sky.recalculate(e),this.z=e.zoom,n&&this.fire(new t.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;this._checkLoaded();const r=this.serialize();if(e=n.transformStyle?n.transformStyle(r,e):e,(null===(i=n.validate)||void 0===i||i)&&ut(this,t.x(e)))return!1;(e=t.aC(e)).layers=t.aA(e.layers);const a=t.aD(r,e),o=this._getOperationsToPerform(a);if(o.unimplemented.length>0)throw new Error("Unimplemented: ".concat(o.unimplemented.join(", "),"."));if(0===o.operations.length)return!1;for(const t of o.operations)t();return this.stylesheet=e,this._serializedLayers=null,!0}_getOperationsToPerform(e){const t=[],n=[];for(const i of e)switch(i.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":t.push((()=>this.addLayer.apply(this,i.args)));break;case"removeLayer":t.push((()=>this.removeLayer.apply(this,i.args)));break;case"setPaintProperty":t.push((()=>this.setPaintProperty.apply(this,i.args)));break;case"setLayoutProperty":t.push((()=>this.setLayoutProperty.apply(this,i.args)));break;case"setFilter":t.push((()=>this.setFilter.apply(this,i.args)));break;case"addSource":t.push((()=>this.addSource.apply(this,i.args)));break;case"removeSource":t.push((()=>this.removeSource.apply(this,i.args)));break;case"setLayerZoomRange":t.push((()=>this.setLayerZoomRange.apply(this,i.args)));break;case"setLight":t.push((()=>this.setLight.apply(this,i.args)));break;case"setGeoJSONSourceData":t.push((()=>this.setGeoJSONSourceData.apply(this,i.args)));break;case"setGlyphs":t.push((()=>this.setGlyphs.apply(this,i.args)));break;case"setSprite":t.push((()=>this.setSprite.apply(this,i.args)));break;case"setSky":t.push((()=>this.setSky.apply(this,i.args)));break;case"setTerrain":t.push((()=>this.map.setTerrain.apply(this,i.args)));break;case"setTransition":t.push((()=>{}));break;default:n.push(i.command)}return{operations:t,unimplemented:n}}addImage(e,n){if(this.getImage(e))return this.fire(new t.j(new Error('An image named "'.concat(e,'" already exists.'))));this.imageManager.addImage(e,n),this._afterImageUpdated(e)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(e){if(!this.getImage(e))return this.fire(new t.j(new Error('An image named "'.concat(e,'" does not exist.'))));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error('Source "'.concat(e,'" already exists.'));if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(n).join(", "),"."));if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.x.source,"sources.".concat(e),n,null,i))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const r=this.sourceCaches[e]=new he(e,n,this.dispatcher);r.style=this,r.setEventedParent(this,(()=>({isSourceLoaded:r.loaded(),source:r.serialize(),sourceId:e}))),r.onAdd(this.map),this._changed=!0}removeSource(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(const i in this._layers)if(this._layers[i].source===e)return this.fire(new t.j(new Error('Source "'.concat(e,'" cannot be removed while layer "').concat(i,'" is using it.'))));const n=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],n.fire(new t.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID=".concat(e));const n=this.sourceCaches[e].getSource();if("geojson"!==n.type)throw new Error("geojsonSource.type is ".concat(n.type,", which is !== 'geojson"));n.setData(t),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();const r=e.id;if(this.getLayer(r))return void this.fire(new t.j(new Error('Layer "'.concat(r,'" already exists on this map.'))));let a;if("custom"===e.type){if(ut(this,t.aE(e)))return;a=t.aB(e)}else{if("source"in e&&"object"==typeof e.source&&(this.addSource(r,e.source),e=t.aC(e),e=t.e(e,{source:r})),this._validate(t.x.layer,"layers.".concat(r),e,{arrayIndex:-1},i))return;a=t.aB(e),this._validateLayer(a),a.setEventedParent(this,{layer:{id:r}})}const o=n?this._order.indexOf(n):this._order.length;if(n&&-1===o)this.fire(new t.j(new Error('Cannot add layer "'.concat(r,'" before non-existing layer "').concat(n,'".'))));else{if(this._order.splice(o,0,r),this._layerOrderChanged=!0,this._layers[r]=a,this._removedLayers[r]&&a.source&&"custom"!==a.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}}moveLayer(e,n){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new t.j(new Error("The layer '".concat(e,"' does not exist in the map's style and cannot be moved."))));if(e===n)return;const i=this._order.indexOf(e);this._order.splice(i,1);const r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new t.j(new Error('Cannot move layer "'.concat(e,'" before non-existing layer "').concat(n,'".')))):(this._order.splice(r,0,e),this._layerOrderChanged=!0)}removeLayer(e){this._checkLoaded();const n=this._layers[e];if(!n)return void this.fire(new t.j(new Error('Cannot remove non-existing layer "'.concat(e,'".'))));n.setEventedParent(null);const i=this._order.indexOf(e);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],this._serializedLayers&&delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}getLayer(e){return this._layers[e]}getLayersOrder(){return[...this._order]}hasLayer(e){return e in this._layers}setLayerZoomRange(e,n,i){this._checkLoaded();const r=this.getLayer(e);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new t.j(new Error('Cannot set the zoom range of non-existing layer "'.concat(e,'".'))))}setFilter(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();const r=this.getLayer(e);if(r){if(!t.aF(r.filter,n))return null==n?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(t.x.filter,"layers.".concat(r.id,".filter"),n,null,i)||(r.filter=t.aC(n),this._updateLayer(r)))}else this.fire(new t.j(new Error('Cannot filter non-existing layer "'.concat(e,'".'))))}getFilter(e){return t.aC(this.getLayer(e).filter)}setLayoutProperty(e,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();const a=this.getLayer(e);a?t.aF(a.getLayoutProperty(n),i)||(a.setLayoutProperty(n,i,r),this._updateLayer(a)):this.fire(new t.j(new Error('Cannot style non-existing layer "'.concat(e,'".'))))}getLayoutProperty(e,n){const i=this.getLayer(e);if(i)return i.getLayoutProperty(n);this.fire(new t.j(new Error('Cannot get style of non-existing layer "'.concat(e,'".'))))}setPaintProperty(e,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();const a=this.getLayer(e);a?t.aF(a.getPaintProperty(n),i)||(a.setPaintProperty(n,i,r)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[e]=!0,this._serializedLayers=null):this.fire(new t.j(new Error('Cannot style non-existing layer "'.concat(e,'".'))))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(e,n){this._checkLoaded();const i=e.source,r=e.sourceLayer,a=this.sourceCaches[i];if(void 0===a)return void this.fire(new t.j(new Error("The source '".concat(i,"' does not exist in the map's style."))));const o=a.getSource().type;"geojson"===o&&r?this.fire(new t.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==o||r?(void 0===e.id&&this.fire(new t.j(new Error("The feature id parameter must be provided."))),a.setFeatureState(r,e.id,n)):this.fire(new t.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(e,n){this._checkLoaded();const i=e.source,r=this.sourceCaches[i];if(void 0===r)return void this.fire(new t.j(new Error("The source '".concat(i,"' does not exist in the map's style."))));const a=r.getSource().type,o="vector"===a?e.sourceLayer:void 0;"vector"!==a||o?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.j(new Error("A feature id is required to remove its specific state property."))):r.removeFeatureState(o,e.id,n):this.fire(new t.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(e){this._checkLoaded();const n=e.source,i=e.sourceLayer,r=this.sourceCaches[n];if(void 0!==r)return"vector"!==r.getSource().type||i?(void 0===e.id&&this.fire(new t.j(new Error("The feature id parameter must be provided."))),r.getFeatureState(i,e.id)):void this.fire(new t.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new t.j(new Error("The source '".concat(n,"' does not exist in the map's style."))))}getTransition(){return t.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const e=t.aG(this.sourceCaches,(e=>e.serialize())),n=this._serializeByIds(this._order),i=this.map.getTerrain()||void 0,r=this.stylesheet;return t.aH({version:r.version,name:r.name,metadata:r.metadata,light:r.light,sky:r.sky,center:r.center,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch,sprite:r.sprite,glyphs:r.glyphs,transition:r.transition,sources:e,layers:n,terrain:i},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},i=[];for(let a=this._order.length-1;a>=0;a--){const r=this._order[a];if(t(r)){n[r]=a;for(const t of e){const e=t[r];if(e)for(const t of e)i.push(t)}}}i.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const r=[];for(let a=this._order.length-1;a>=0;a--){const o=this._order[a];if(t(o))for(let e=i.length-1;e>=0;e--){const t=i[e].feature;if(n[t.layer.id]<a)break;r.push(t),i.pop()}else for(const t of e){const e=t[o];if(e)for(const t of e)r.push(t.feature)}}return r}queryRenderedFeatures(e,n,i){n&&n.filter&&this._validate(t.x.filter,"queryRenderedFeatures.filter",n.filter,null,n);const r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.j(new Error("parameters.layers must be an Array."))),[];for(const e of n.layers){const n=this._layers[e];if(!n)return this.fire(new t.j(new Error("The layer '".concat(e,"' does not exist in the map's style and cannot be queried for features.")))),[];r[n.source]=!0}}const a=[];n.availableImages=this._availableImages;const o=this._serializedAllLayers();for(const t in this.sourceCaches)n.layers&&!r[t]||a.push(V(this.sourceCaches[t],this._layers,o,e,n,i));return this.placement&&a.push(function(e,t,n,i,r,a,o){const s={},l=a.queryRenderedSymbols(i),u=[];for(const c of Object.keys(l).map(Number))u.push(o[c]);u.sort(q);for(const c of u){const n=c.featureIndex.lookupSymbolFeatures(l[c.bucketInstanceId],t,c.bucketIndex,c.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in n){const t=s[e]=s[e]||[],i=n[e];i.sort(((e,t)=>{const n=c.featureSortOrder;if(n){const i=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of i)t.push(e)}}for(const c in s)s[c].forEach((t=>{const i=t.feature,r=n[e[c].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=r}));return s}(this._layers,o,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(a)}querySourceFeatures(e,n){n&&n.filter&&this._validate(t.x.filter,"querySourceFeatures.filter",n.filter,null,n);const i=this.sourceCaches[e];return i?function(e,t){const n=e.getRenderableIds().map((t=>e.getTileByID(t))),i=[],r={};for(let a=0;a<n.length;a++){const e=n[a],o=e.tileID.canonical.key;r[o]||(r[o]=!0,e.querySourceFeatures(i,t))}return i}(i,n):[]}getLight(){return this.light.getLight()}setLight(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();const i=this.light.getLight();let r=!1;for(const a in e)if(!t.aF(e[a],i[a])){r=!0;break}if(!r)return;const o={now:a.now(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(o)}getSky(){var e;return null===(e=this.stylesheet)||void 0===e?void 0:e.sky}setSky(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=this.sky.getSky();let r=!1;e||i&&(r=!0);for(const a in e)if(!t.aF(e[a],i[a])){r=!0;break}if(!r)return;const o={now:a.now(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=e,this.sky.setSky(e,n),this.sky.updateTransitions(o)}_validate(e,n,i,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!a||!1!==a.validate)&&ut(this,e.call(t.x,t.e({key:n,style:this.serialize(),value:i,styleSpec:t.v},r)))}_remove(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),se().off(re,this._rtlPluginLoaded);for(const t in this._layers)this._layers[t].setEventedParent(null);for(const t in this.sourceCaches){const e=this.sourceCaches[t];e.setEventedParent(null),e.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),e&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(e)}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const t in this.sourceCaches)this.sourceCaches[t].update(e,this.map.terrain)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=!1,s=!1;const l={};for(const a of this._order){const t=this._layers[a];if("symbol"!==t.type)continue;if(!l[t.source]){const e=this.sourceCaches[t.source];l[t.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}const n=this.crossTileSymbolIndex.addLayer(t,l[t.source],e.center.lng);o=o||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((r=r||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.now(),e.zoom))&&(this.pauseablePlacement=new it(e,this.map.terrain,this._order,r,t,n,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(const a of this._order){const e=this._layers[a];"symbol"===e.type&&this.placement.updateLayerOpacities(e,l[e.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,n){return t._(this,void 0,void 0,(function*(){const e=yield this.imageManager.getImages(n.icons);this._updateTilesForChangedImages();const t=this.sourceCaches[n.source];return t&&t.setDependencies(n.tileID.key,n.type,n.icons),e}))}getGlyphs(e,n){return t._(this,void 0,void 0,(function*(){const e=yield this.glyphManager.getGlyphs(n.stacks),t=this.sourceCaches[n.source];return t&&t.setDependencies(n.tileID.key,n.type,[""]),e}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded(),e&&this._validate(t.x.glyphs,"glyphs",e,null,n)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=e,this.glyphManager.entries={},this.glyphManager.setURL(e))}addSprite(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;this._checkLoaded();const a=[{id:e,url:n}],o=[...A(this.stylesheet.sprite),...a];this._validate(t.x.sprite,"sprite",o,null,i)||(this.stylesheet.sprite=o,this._loadSprite(a,!0,r))}removeSprite(e){this._checkLoaded();const n=A(this.stylesheet.sprite);if(n.find((t=>t.id===e))){if(this._spritesImagesIds[e])for(const t of this._spritesImagesIds[e])this.imageManager.removeImage(t),this._changedImages[t]=!0;n.splice(n.findIndex((t=>t.id===e)),1),this.stylesheet.sprite=n.length>0?n:void 0,delete this._spritesImagesIds[e],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.k("data",{dataType:"style"}))}else this.fire(new t.j(new Error('Sprite "'.concat(e,"\" doesn't exists on this map."))))}getSprite(){return A(this.stylesheet.sprite)}setSprite(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;this._checkLoaded(),e&&this._validate(t.x.sprite,"sprite",e,null,n)||(this.stylesheet.sprite=e,e?this._loadSprite(e,!0,i):(this._unloadSprite(),i&&i(null)))}}var dt=t.Y([{name:"a_pos",type:"Int16",components:2}]);const ft={prelude:pt("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:pt("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:pt("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:pt("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:pt("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:pt("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:pt("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:pt("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:pt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:pt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:pt("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:pt("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:pt("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:pt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:pt("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:pt("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:pt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:pt("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:pt("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:pt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:pt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:pt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:pt("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:pt("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:pt("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:pt("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:pt("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:pt("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:pt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:pt("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function pt(e,t){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=t.match(/attribute ([\w]+) ([\w]+)/g),r=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=a?a.concat(r):r,s={};return{fragmentSource:e=e.replace(n,((e,t,n,i,r)=>(s[r]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\nvarying ").concat(n," ").concat(i," ").concat(r,";\n#else\nuniform ").concat(n," ").concat(i," u_").concat(r,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(r,"\n    ").concat(n," ").concat(i," ").concat(r," = u_").concat(r,";\n#endif\n")))),vertexSource:t=t.replace(n,((e,t,n,i,r)=>{const a="float"===i?"vec2":"vec4",o=r.match(/color/)?"color":a;return s[r]?"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\nuniform lowp float u_").concat(r,"_t;\nattribute ").concat(n," ").concat(a," a_").concat(r,";\nvarying ").concat(n," ").concat(i," ").concat(r,";\n#else\nuniform ").concat(n," ").concat(i," u_").concat(r,";\n#endif\n"):"vec4"===o?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(r," = a_").concat(r,";\n#else\n    ").concat(n," ").concat(i," ").concat(r," = u_").concat(r,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(r," = unpack_mix_").concat(o,"(a_").concat(r,", u_").concat(r,"_t);\n#else\n    ").concat(n," ").concat(i," ").concat(r," = u_").concat(r,";\n#endif\n"):"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\nuniform lowp float u_").concat(r,"_t;\nattribute ").concat(n," ").concat(a," a_").concat(r,";\n#else\nuniform ").concat(n," ").concat(i," u_").concat(r,";\n#endif\n"):"vec4"===o?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(n," ").concat(i," ").concat(r," = a_").concat(r,";\n#else\n    ").concat(n," ").concat(i," ").concat(r," = u_").concat(r,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(n," ").concat(i," ").concat(r," = unpack_mix_").concat(o,"(a_").concat(r,", u_").concat(r,"_t);\n#else\n    ").concat(n," ").concat(i," ").concat(r," = u_").concat(r,";\n#endif\n")})),staticAttributes:i,staticUniforms:o}}class gt{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,n,i,r,a,o,s,l){this.context=e;let u=this.boundPaintVertexBuffers.length!==i.length;for(let c=0;!u&&c<i.length;c++)this.boundPaintVertexBuffers[c]!==i[c]&&(u=!0);!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||u||this.boundIndexBuffer!==r||this.boundVertexOffset!==a||this.boundDynamicVertexBuffer!==o||this.boundDynamicVertexBuffer2!==s||this.boundDynamicVertexBuffer3!==l?this.freshBind(t,n,i,r,a,o,s,l):(e.bindVertexArray.set(this.vao),o&&o.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind(),l&&l.bind())}freshBind(e,t,n,i,r,a,o,s){const l=e.numAttributes,u=this.context,c=u.gl;this.vao&&this.destroy(),this.vao=u.createVertexArray(),u.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o,this.boundDynamicVertexBuffer3=s,t.enableAttributes(c,e);for(const h of n)h.enableAttributes(c,e);a&&a.enableAttributes(c,e),o&&o.enableAttributes(c,e),s&&s.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const h of n)h.bind(),h.setVertexAttribPointers(c,e,r);a&&(a.bind(),a.setVertexAttribPointers(c,e,r)),i&&i.bind(),o&&(o.bind(),o.setVertexAttribPointers(c,e,r)),s&&(s.bind(),s.setVertexAttribPointers(c,e,r)),u.currentNumAttributes=l}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const mt=(e,n,i,r,a)=>({u_matrix:e,u_texture:0,u_ele_delta:n,u_fog_matrix:i,u_fog_color:r?r.properties.get("fog-color"):t.aN.white,u_fog_ground_blend:r?r.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:r?r.calculateFogBlendOpacity(a):0,u_horizon_color:r?r.properties.get("horizon-color"):t.aN.white,u_horizon_fog_blend:r?r.properties.get("horizon-fog-blend"):1});function yt(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const i=e[n].split(" ");t.push(i.pop())}return t}class vt{constructor(e,n,i,r,a,o){const s=e.gl;this.program=s.createProgram();const l=yt(n.staticAttributes),u=i?i.getBinderAttributes():[],c=l.concat(u),h=ft.prelude.staticUniforms?yt(ft.prelude.staticUniforms):[],d=n.staticUniforms?yt(n.staticUniforms):[],f=i?i.getBinderUniforms():[],p=h.concat(d).concat(f),g=[];for(const t of p)g.indexOf(t)<0&&g.push(t);const m=i?i.defines():[];a&&m.push("#define OVERDRAW_INSPECTOR;"),o&&m.push("#define TERRAIN3D;");const y=m.concat(ft.prelude.fragmentSource,n.fragmentSource).join("\n"),v=m.concat(ft.prelude.vertexSource,n.vertexSource).join("\n"),A=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);if(s.shaderSource(A,y),s.compileShader(A),!s.getShaderParameter(A,s.COMPILE_STATUS))throw new Error("Could not compile fragment shader: ".concat(s.getShaderInfoLog(A)));s.attachShader(this.program,A);const _=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);if(s.shaderSource(_,v),s.compileShader(_),!s.getShaderParameter(_,s.COMPILE_STATUS))throw new Error("Could not compile vertex shader: ".concat(s.getShaderInfoLog(_)));s.attachShader(this.program,_),this.attributes={};const x={};this.numAttributes=c.length;for(let t=0;t<this.numAttributes;t++)c[t]&&(s.bindAttribLocation(this.program,t,c[t]),this.attributes[c[t]]=t);if(s.linkProgram(this.program),!s.getProgramParameter(this.program,s.LINK_STATUS))throw new Error("Program failed to link: ".concat(s.getProgramInfoLog(this.program)));s.deleteShader(_),s.deleteShader(A);for(let t=0;t<g.length;t++){const e=g[t];if(e&&!x[e]){const t=s.getUniformLocation(this.program,e);t&&(x[e]=t)}}this.fixedUniforms=r(e,x),this.terrainUniforms=((e,n)=>({u_depth:new t.aI(e,n.u_depth),u_terrain:new t.aI(e,n.u_terrain),u_terrain_dim:new t.aJ(e,n.u_terrain_dim),u_terrain_matrix:new t.aK(e,n.u_terrain_matrix),u_terrain_unpack:new t.aL(e,n.u_terrain_unpack),u_terrain_exaggeration:new t.aJ(e,n.u_terrain_exaggeration)}))(e,x),this.binderUniforms=i?i.getUniforms(e,x):[]}draw(e,t,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m,y){const v=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(i),e.setColorMode(r),e.setCullFace(a),s){e.activeTexture.set(v.TEXTURE2),v.bindTexture(v.TEXTURE_2D,s.depthTexture),e.activeTexture.set(v.TEXTURE3),v.bindTexture(v.TEXTURE_2D,s.texture);for(const e in this.terrainUniforms)this.terrainUniforms[e].set(s[e])}for(const _ in this.fixedUniforms)this.fixedUniforms[_].set(o[_]);p&&p.setUniforms(e,this.binderUniforms,d,{zoom:f});let A=0;switch(t){case v.LINES:A=2;break;case v.TRIANGLES:A=3;break;case v.LINE_STRIP:A=1}for(const _ of h.get()){const n=_.vaos||(_.vaos={});(n[l]||(n[l]=new gt)).bind(e,this,u,p?p.getPaintVertexBuffers():[],c,_.vertexOffset,g,m,y),v.drawElements(t,_.primitiveLength*A,v.UNSIGNED_SHORT,_.primitiveOffset*A*2)}}}function At(e,t,n){const i=1/ze(n,1,t.transform.tileZoom),r=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,t.transform.tileZoom)/r,o=a*(n.tileID.canonical.x+n.tileID.wrap*r),s=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[i,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}const _t=(e,n,i,r)=>{const a=n.style.light,o=a.properties.get("position"),s=[o.x,o.y,o.z],l=function(){var e=new t.A(9);return t.A!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}();"viewport"===a.properties.get("anchor")&&function(e,t){var n=Math.sin(t),i=Math.cos(t);e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1}(l,-n.transform.angle),function(e,t,n){var i=t[0],r=t[1],a=t[2];e[0]=i*n[0]+r*n[3]+a*n[6],e[1]=i*n[1]+r*n[4]+a*n[7],e[2]=i*n[2]+r*n[5]+a*n[8]}(s,s,l);const u=a.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+i,u_opacity:r}},xt=(e,n,i,r,a,o,s)=>t.e(_t(e,n,i,r),At(o,n,s),{u_height_factor:-Math.pow(2,a.overscaledZ)/s.tileSize/8}),bt=e=>({u_matrix:e}),wt=(e,n,i,r)=>t.e(bt(e),At(i,n,r)),Et=(e,t)=>({u_matrix:e,u_world:t}),It=(e,n,i,r,a)=>t.e(wt(e,n,i,r),{u_world:a}),Ct=(e,t,n,i)=>{const r=e.transform;let a,o;if("map"===i.paint.get("circle-pitch-alignment")){const e=ze(n,1,r.zoom);a=!0,o=[e,e]}else a=!1,o=r.pixelsToGLUnits;return{u_camera_to_center_distance:r.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,n,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:o}},kt=(e,t,n)=>({u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}),St=function(e,t){return{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},Tt=e=>({u_matrix:e}),Pt=(e,t,n,i)=>({u_matrix:e,u_extrude_scale:ze(t,1,n),u_intensity:i});function Nt(e,n){const i=Math.pow(2,n.canonical.z),r=n.canonical.y;return[new t.Z(0,r/i).toLngLat().lat,new t.Z(0,(r+1)/i).toLngLat().lat]}const Mt=(e,t,n,i)=>{const r=e.transform;return{u_matrix:Ot(e,t,n,i),u_ratio:1/ze(t,1,r.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},Bt=(e,n,i,r,a)=>t.e(Mt(e,n,i,a),{u_image:0,u_image_height:r}),Lt=(e,t,n,i,r)=>{const a=e.transform,o=zt(t,a);return{u_matrix:Ot(e,t,n,r),u_texsize:t.imageAtlasTexture.size,u_ratio:1/ze(t,1,a.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[o,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Rt=(e,n,i,r,a,o)=>{const s=e.lineAtlas,l=zt(n,e.transform),u="round"===i.layout.get("line-cap"),c=s.getDash(r.from,u),h=s.getDash(r.to,u),d=c.width*a.fromScale,f=h.width*a.toScale;return t.e(Mt(e,n,i,o),{u_patternscale_a:[l/d,-c.height/2],u_patternscale_b:[l/f,-h.height/2],u_sdfgamma:s.width/(256*Math.min(d,f)*e.pixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:h.y,u_mix:a.t})};function zt(e,t){return 1/ze(e,1,t.tileZoom)}function Ot(e,t,n,i){return e.translatePosMatrix(i?i.posMatrix:t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}const Dt=(e,t,n,i,r)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(o=r.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(a=r.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:Ft(r.paint.get("raster-hue-rotate"))};var a,o};function Ft(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const jt=(e,t,n,i,r,a,o,s,l,u,c,h,d,f)=>{const p=o.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:p.cameraToCenterDistance,u_pitch:p.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:p.width/p.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:s,u_label_plane_matrix:l,u_coord_matrix:u,u_is_text:+h,u_pitch_with_map:+i,u_is_along_line:r,u_is_variable_anchor:a,u_texsize:d,u_texture:0,u_translation:c,u_pitched_scale:f}},Qt=(e,n,i,r,a,o,s,l,u,c,h,d,f,p,g)=>{const m=s.transform;return t.e(jt(e,n,i,r,a,o,s,l,u,c,h,d,f,g),{u_gamma_scale:r?Math.cos(m._pitch)*m.cameraToCenterDistance:1,u_device_pixel_ratio:s.pixelRatio,u_is_halo:+p})},Ut=(e,n,i,r,a,o,s,l,u,c,h,d,f,p)=>t.e(Qt(e,n,i,r,a,o,s,l,u,c,h,!0,d,!0,p),{u_texsize_icon:f,u_texture_icon:1}),Vt=(e,t,n)=>({u_matrix:e,u_opacity:t,u_color:n}),qt=(e,n,i,r,a,o)=>t.e(function(e,t,n,i){const r=n.imageManager.getPattern(e.from.toString()),a=n.imageManager.getPattern(e.to.toString()),{width:o,height:s}=n.imageManager.getPixelSize(),l=Math.pow(2,i.tileID.overscaledZ),u=i.tileSize*Math.pow(2,n.transform.tileZoom)/l,c=u*(i.tileID.canonical.x+i.tileID.wrap*l),h=u*i.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[o,s],u_mix:t.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ze(i,1,n.transform.tileZoom),u_pixel_coord_upper:[c>>16,h>>16],u_pixel_coord_lower:[65535&c,65535&h]}}(r,o,i,a),{u_matrix:e,u_opacity:n}),Gt={fillExtrusion:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_lightpos:new t.aO(e,n.u_lightpos),u_lightintensity:new t.aJ(e,n.u_lightintensity),u_lightcolor:new t.aO(e,n.u_lightcolor),u_vertical_gradient:new t.aJ(e,n.u_vertical_gradient),u_opacity:new t.aJ(e,n.u_opacity)}),fillExtrusionPattern:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_lightpos:new t.aO(e,n.u_lightpos),u_lightintensity:new t.aJ(e,n.u_lightintensity),u_lightcolor:new t.aO(e,n.u_lightcolor),u_vertical_gradient:new t.aJ(e,n.u_vertical_gradient),u_height_factor:new t.aJ(e,n.u_height_factor),u_image:new t.aI(e,n.u_image),u_texsize:new t.aP(e,n.u_texsize),u_pixel_coord_upper:new t.aP(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.aP(e,n.u_pixel_coord_lower),u_scale:new t.aO(e,n.u_scale),u_fade:new t.aJ(e,n.u_fade),u_opacity:new t.aJ(e,n.u_opacity)}),fill:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix)}),fillPattern:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_image:new t.aI(e,n.u_image),u_texsize:new t.aP(e,n.u_texsize),u_pixel_coord_upper:new t.aP(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.aP(e,n.u_pixel_coord_lower),u_scale:new t.aO(e,n.u_scale),u_fade:new t.aJ(e,n.u_fade)}),fillOutline:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_world:new t.aP(e,n.u_world)}),fillOutlinePattern:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_world:new t.aP(e,n.u_world),u_image:new t.aI(e,n.u_image),u_texsize:new t.aP(e,n.u_texsize),u_pixel_coord_upper:new t.aP(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.aP(e,n.u_pixel_coord_lower),u_scale:new t.aO(e,n.u_scale),u_fade:new t.aJ(e,n.u_fade)}),circle:(e,n)=>({u_camera_to_center_distance:new t.aJ(e,n.u_camera_to_center_distance),u_scale_with_map:new t.aI(e,n.u_scale_with_map),u_pitch_with_map:new t.aI(e,n.u_pitch_with_map),u_extrude_scale:new t.aP(e,n.u_extrude_scale),u_device_pixel_ratio:new t.aJ(e,n.u_device_pixel_ratio),u_matrix:new t.aK(e,n.u_matrix)}),collisionBox:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_pixel_extrude_scale:new t.aP(e,n.u_pixel_extrude_scale)}),collisionCircle:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_inv_matrix:new t.aK(e,n.u_inv_matrix),u_camera_to_center_distance:new t.aJ(e,n.u_camera_to_center_distance),u_viewport_size:new t.aP(e,n.u_viewport_size)}),debug:(e,n)=>({u_color:new t.aM(e,n.u_color),u_matrix:new t.aK(e,n.u_matrix),u_overlay:new t.aI(e,n.u_overlay),u_overlay_scale:new t.aJ(e,n.u_overlay_scale)}),clippingMask:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix)}),heatmap:(e,n)=>({u_extrude_scale:new t.aJ(e,n.u_extrude_scale),u_intensity:new t.aJ(e,n.u_intensity),u_matrix:new t.aK(e,n.u_matrix)}),heatmapTexture:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_world:new t.aP(e,n.u_world),u_image:new t.aI(e,n.u_image),u_color_ramp:new t.aI(e,n.u_color_ramp),u_opacity:new t.aJ(e,n.u_opacity)}),hillshade:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_image:new t.aI(e,n.u_image),u_latrange:new t.aP(e,n.u_latrange),u_light:new t.aP(e,n.u_light),u_shadow:new t.aM(e,n.u_shadow),u_highlight:new t.aM(e,n.u_highlight),u_accent:new t.aM(e,n.u_accent)}),hillshadePrepare:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_image:new t.aI(e,n.u_image),u_dimension:new t.aP(e,n.u_dimension),u_zoom:new t.aJ(e,n.u_zoom),u_unpack:new t.aL(e,n.u_unpack)}),line:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_ratio:new t.aJ(e,n.u_ratio),u_device_pixel_ratio:new t.aJ(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.aP(e,n.u_units_to_pixels)}),lineGradient:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_ratio:new t.aJ(e,n.u_ratio),u_device_pixel_ratio:new t.aJ(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.aP(e,n.u_units_to_pixels),u_image:new t.aI(e,n.u_image),u_image_height:new t.aJ(e,n.u_image_height)}),linePattern:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_texsize:new t.aP(e,n.u_texsize),u_ratio:new t.aJ(e,n.u_ratio),u_device_pixel_ratio:new t.aJ(e,n.u_device_pixel_ratio),u_image:new t.aI(e,n.u_image),u_units_to_pixels:new t.aP(e,n.u_units_to_pixels),u_scale:new t.aO(e,n.u_scale),u_fade:new t.aJ(e,n.u_fade)}),lineSDF:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_ratio:new t.aJ(e,n.u_ratio),u_device_pixel_ratio:new t.aJ(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.aP(e,n.u_units_to_pixels),u_patternscale_a:new t.aP(e,n.u_patternscale_a),u_patternscale_b:new t.aP(e,n.u_patternscale_b),u_sdfgamma:new t.aJ(e,n.u_sdfgamma),u_image:new t.aI(e,n.u_image),u_tex_y_a:new t.aJ(e,n.u_tex_y_a),u_tex_y_b:new t.aJ(e,n.u_tex_y_b),u_mix:new t.aJ(e,n.u_mix)}),raster:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_tl_parent:new t.aP(e,n.u_tl_parent),u_scale_parent:new t.aJ(e,n.u_scale_parent),u_buffer_scale:new t.aJ(e,n.u_buffer_scale),u_fade_t:new t.aJ(e,n.u_fade_t),u_opacity:new t.aJ(e,n.u_opacity),u_image0:new t.aI(e,n.u_image0),u_image1:new t.aI(e,n.u_image1),u_brightness_low:new t.aJ(e,n.u_brightness_low),u_brightness_high:new t.aJ(e,n.u_brightness_high),u_saturation_factor:new t.aJ(e,n.u_saturation_factor),u_contrast_factor:new t.aJ(e,n.u_contrast_factor),u_spin_weights:new t.aO(e,n.u_spin_weights)}),symbolIcon:(e,n)=>({u_is_size_zoom_constant:new t.aI(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.aI(e,n.u_is_size_feature_constant),u_size_t:new t.aJ(e,n.u_size_t),u_size:new t.aJ(e,n.u_size),u_camera_to_center_distance:new t.aJ(e,n.u_camera_to_center_distance),u_pitch:new t.aJ(e,n.u_pitch),u_rotate_symbol:new t.aI(e,n.u_rotate_symbol),u_aspect_ratio:new t.aJ(e,n.u_aspect_ratio),u_fade_change:new t.aJ(e,n.u_fade_change),u_matrix:new t.aK(e,n.u_matrix),u_label_plane_matrix:new t.aK(e,n.u_label_plane_matrix),u_coord_matrix:new t.aK(e,n.u_coord_matrix),u_is_text:new t.aI(e,n.u_is_text),u_pitch_with_map:new t.aI(e,n.u_pitch_with_map),u_is_along_line:new t.aI(e,n.u_is_along_line),u_is_variable_anchor:new t.aI(e,n.u_is_variable_anchor),u_texsize:new t.aP(e,n.u_texsize),u_texture:new t.aI(e,n.u_texture),u_translation:new t.aP(e,n.u_translation),u_pitched_scale:new t.aJ(e,n.u_pitched_scale)}),symbolSDF:(e,n)=>({u_is_size_zoom_constant:new t.aI(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.aI(e,n.u_is_size_feature_constant),u_size_t:new t.aJ(e,n.u_size_t),u_size:new t.aJ(e,n.u_size),u_camera_to_center_distance:new t.aJ(e,n.u_camera_to_center_distance),u_pitch:new t.aJ(e,n.u_pitch),u_rotate_symbol:new t.aI(e,n.u_rotate_symbol),u_aspect_ratio:new t.aJ(e,n.u_aspect_ratio),u_fade_change:new t.aJ(e,n.u_fade_change),u_matrix:new t.aK(e,n.u_matrix),u_label_plane_matrix:new t.aK(e,n.u_label_plane_matrix),u_coord_matrix:new t.aK(e,n.u_coord_matrix),u_is_text:new t.aI(e,n.u_is_text),u_pitch_with_map:new t.aI(e,n.u_pitch_with_map),u_is_along_line:new t.aI(e,n.u_is_along_line),u_is_variable_anchor:new t.aI(e,n.u_is_variable_anchor),u_texsize:new t.aP(e,n.u_texsize),u_texture:new t.aI(e,n.u_texture),u_gamma_scale:new t.aJ(e,n.u_gamma_scale),u_device_pixel_ratio:new t.aJ(e,n.u_device_pixel_ratio),u_is_halo:new t.aI(e,n.u_is_halo),u_translation:new t.aP(e,n.u_translation),u_pitched_scale:new t.aJ(e,n.u_pitched_scale)}),symbolTextAndIcon:(e,n)=>({u_is_size_zoom_constant:new t.aI(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.aI(e,n.u_is_size_feature_constant),u_size_t:new t.aJ(e,n.u_size_t),u_size:new t.aJ(e,n.u_size),u_camera_to_center_distance:new t.aJ(e,n.u_camera_to_center_distance),u_pitch:new t.aJ(e,n.u_pitch),u_rotate_symbol:new t.aI(e,n.u_rotate_symbol),u_aspect_ratio:new t.aJ(e,n.u_aspect_ratio),u_fade_change:new t.aJ(e,n.u_fade_change),u_matrix:new t.aK(e,n.u_matrix),u_label_plane_matrix:new t.aK(e,n.u_label_plane_matrix),u_coord_matrix:new t.aK(e,n.u_coord_matrix),u_is_text:new t.aI(e,n.u_is_text),u_pitch_with_map:new t.aI(e,n.u_pitch_with_map),u_is_along_line:new t.aI(e,n.u_is_along_line),u_is_variable_anchor:new t.aI(e,n.u_is_variable_anchor),u_texsize:new t.aP(e,n.u_texsize),u_texsize_icon:new t.aP(e,n.u_texsize_icon),u_texture:new t.aI(e,n.u_texture),u_texture_icon:new t.aI(e,n.u_texture_icon),u_gamma_scale:new t.aJ(e,n.u_gamma_scale),u_device_pixel_ratio:new t.aJ(e,n.u_device_pixel_ratio),u_is_halo:new t.aI(e,n.u_is_halo),u_translation:new t.aP(e,n.u_translation),u_pitched_scale:new t.aJ(e,n.u_pitched_scale)}),background:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_opacity:new t.aJ(e,n.u_opacity),u_color:new t.aM(e,n.u_color)}),backgroundPattern:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_opacity:new t.aJ(e,n.u_opacity),u_image:new t.aI(e,n.u_image),u_pattern_tl_a:new t.aP(e,n.u_pattern_tl_a),u_pattern_br_a:new t.aP(e,n.u_pattern_br_a),u_pattern_tl_b:new t.aP(e,n.u_pattern_tl_b),u_pattern_br_b:new t.aP(e,n.u_pattern_br_b),u_texsize:new t.aP(e,n.u_texsize),u_mix:new t.aJ(e,n.u_mix),u_pattern_size_a:new t.aP(e,n.u_pattern_size_a),u_pattern_size_b:new t.aP(e,n.u_pattern_size_b),u_scale_a:new t.aJ(e,n.u_scale_a),u_scale_b:new t.aJ(e,n.u_scale_b),u_pixel_coord_upper:new t.aP(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.aP(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.aJ(e,n.u_tile_units_to_pixels)}),terrain:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_texture:new t.aI(e,n.u_texture),u_ele_delta:new t.aJ(e,n.u_ele_delta),u_fog_matrix:new t.aK(e,n.u_fog_matrix),u_fog_color:new t.aM(e,n.u_fog_color),u_fog_ground_blend:new t.aJ(e,n.u_fog_ground_blend),u_fog_ground_blend_opacity:new t.aJ(e,n.u_fog_ground_blend_opacity),u_horizon_color:new t.aM(e,n.u_horizon_color),u_horizon_fog_blend:new t.aJ(e,n.u_horizon_fog_blend)}),terrainDepth:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_ele_delta:new t.aJ(e,n.u_ele_delta)}),terrainCoords:(e,n)=>({u_matrix:new t.aK(e,n.u_matrix),u_texture:new t.aI(e,n.u_texture),u_terrain_coords_id:new t.aJ(e,n.u_terrain_coords_id),u_ele_delta:new t.aJ(e,n.u_ele_delta)}),sky:(e,n)=>({u_sky_color:new t.aM(e,n.u_sky_color),u_horizon_color:new t.aM(e,n.u_horizon_color),u_horizon:new t.aJ(e,n.u_horizon),u_sky_horizon_blend:new t.aJ(e,n.u_sky_horizon_blend)})};class Ht{constructor(e,t,n){this.context=e;const i=e.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Xt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Wt{constructor(e,t,n,i){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=i,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw new Error("Length of new data is ".concat(e.length,", which doesn't match current length of ").concat(this.length));const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const i=t.attributes[this.attributes[n].name];void 0!==i&&e.enableVertexAttribArray(i)}}setVertexAttribPointers(e,t,n){for(let i=0;i<this.attributes.length;i++){const r=this.attributes[i],a=t.attributes[r.name];void 0!==a&&e.vertexAttribPointer(a,r.components,e[Xt[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Yt=new WeakMap;function Zt(e){var t;if(Yt.has(e))return Yt.get(e);{const n=null===(t=e.getParameter(e.VERSION))||void 0===t?void 0:t.startsWith("WebGL 2.0");return Yt.set(e,n),n}}class Kt{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Jt extends Kt{getDefault(){return t.aN.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class $t extends Kt{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class en extends Kt{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class tn extends Kt{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class nn extends Kt{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class rn extends Kt{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class an extends Kt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class on extends Kt{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class sn extends Kt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class ln extends Kt{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class un extends Kt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class cn extends Kt{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class hn extends Kt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class dn extends Kt{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class fn extends Kt{getDefault(){return t.aN.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class pn extends Kt{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class gn extends Kt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class mn extends Kt{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class yn extends Kt{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class vn extends Kt{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class An extends Kt{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class _n extends Kt{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class xn extends Kt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class bn extends Kt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class wn extends Kt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class En extends Kt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class In extends Kt{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class Cn extends Kt{getDefault(){return null}set(e){var t;if(e===this.current&&!this.dirty)return;const n=this.gl;Zt(n)?n.bindVertexArray(e):null===(t=n.getExtension("OES_vertex_array_object"))||void 0===t||t.bindVertexArrayOES(e),this.current=e,this.dirty=!1}}class kn extends Kt{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class Sn extends Kt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class Tn extends Kt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class Pn extends Kt{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class Nn extends Pn{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Mn extends Pn{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Bn extends Pn{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Ln{constructor(e,t,n,i,r){this.context=e,this.width=t,this.height=n;const a=e.gl,o=this.framebuffer=a.createFramebuffer();if(this.colorAttachment=new Nn(e,o),i)this.depthAttachment=r?new Bn(e,o):new Mn(e,o);else if(r)throw new Error("Stencil cannot be set without depth");if(a.checkFramebufferStatus(a.FRAMEBUFFER)!==a.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class Rn{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}Rn.Replace=[1,0],Rn.disabled=new Rn(Rn.Replace,t.aN.transparent,[!1,!1,!1,!1]),Rn.unblended=new Rn(Rn.Replace,t.aN.transparent,[!0,!0,!0,!0]),Rn.alphaBlended=new Rn([1,771],t.aN.transparent,[!0,!0,!0,!0]);class zn{constructor(e){var t,n;if(this.gl=e,this.clearColor=new Jt(this),this.clearDepth=new $t(this),this.clearStencil=new en(this),this.colorMask=new tn(this),this.depthMask=new nn(this),this.stencilMask=new rn(this),this.stencilFunc=new an(this),this.stencilOp=new on(this),this.stencilTest=new sn(this),this.depthRange=new ln(this),this.depthTest=new un(this),this.depthFunc=new cn(this),this.blend=new hn(this),this.blendFunc=new dn(this),this.blendColor=new fn(this),this.blendEquation=new pn(this),this.cullFace=new gn(this),this.cullFaceSide=new mn(this),this.frontFace=new yn(this),this.program=new vn(this),this.activeTexture=new An(this),this.viewport=new _n(this),this.bindFramebuffer=new xn(this),this.bindRenderbuffer=new bn(this),this.bindTexture=new wn(this),this.bindVertexBuffer=new En(this),this.bindElementBuffer=new In(this),this.bindVertexArray=new Cn(this),this.pixelStoreUnpack=new kn(this),this.pixelStoreUnpackPremultiplyAlpha=new Sn(this),this.pixelStoreUnpackFlipY=new Tn(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),Zt(e)){this.HALF_FLOAT=e.HALF_FLOAT;const i=e.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(t=e.RGBA16F)&&void 0!==t?t:null==i?void 0:i.RGBA16F_EXT,this.RGB16F=null!==(n=e.RGB16F)&&void 0!==n?n:null==i?void 0:i.RGB16F_EXT,e.getExtension("EXT_color_buffer_float")}else{e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear");const t=e.getExtension("OES_texture_half_float");this.HALF_FLOAT=null==t?void 0:t.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new Ht(this,e,t)}createVertexBuffer(e,t,n){return new Wt(this,e,t,n)}createRenderbuffer(e,t,n){const i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,n,i){return new Ln(this,e,t,n,i)}clear(e){let{color:t,depth:n,stencil:i}=e;const r=this.gl;let a=0;t&&(a|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(a|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),void 0!==i&&(a|=r.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),r.clear(a)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){t.aF(e.blendFunction,Rn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}createVertexArray(){var e;return Zt(this.gl)?this.gl.createVertexArray():null===(e=this.gl.getExtension("OES_vertex_array_object"))||void 0===e?void 0:e.createVertexArrayOES()}deleteVertexArray(e){var t;return Zt(this.gl)?this.gl.deleteVertexArray(e):null===(t=this.gl.getExtension("OES_vertex_array_object"))||void 0===t?void 0:t.deleteVertexArrayOES(e)}unbindVAO(){this.bindVertexArray.set(null)}}class On{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}On.ReadOnly=!1,On.ReadWrite=!0,On.disabled=new On(519,On.ReadOnly,[0,1]);const Dn=7680;class Fn{constructor(e,t,n,i,r,a){this.test=e,this.ref=t,this.mask=n,this.fail=i,this.depthFail=r,this.pass=a}}Fn.disabled=new Fn({func:519,mask:0},0,0,Dn,Dn,Dn);class jn{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}let Qn;function Un(e,n,i,r,a){const o=e.context,s=o.gl,l=e.useProgram("collisionBox"),u=[];let c=0,h=0;for(let v=0;v<r.length;v++){const f=r[v],p=n.getTile(f).getBucket(i);if(!p)continue;const g=a?p.textCollisionBox:p.iconCollisionBox,m=p.collisionCircleArray;if(m.length>0){const n=t.H();t.aR(n,p.placementInvProjMatrix,e.transform.glCoordMatrix),t.aR(n,n,p.placementViewportMatrix),u.push({circleArray:m,circleOffset:h,transform:f.posMatrix,invTransform:n,coord:f}),c+=m.length/4,h=c}g&&l.draw(o,s.LINES,On.disabled,Fn.disabled,e.colorModeForRenderPass(),jn.disabled,{u_matrix:f.posMatrix,u_pixel_extrude_scale:[1/(d=e.transform).width,1/d.height]},e.style.map.terrain&&e.style.map.terrain.getTerrainData(f),i.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,null,e.transform.zoom,null,null,g.collisionVertexBuffer)}var d;if(!a||!u.length)return;const f=e.useProgram("collisionCircle"),p=new t.aS;p.resize(4*c),p._trim();let g=0;for(const t of u)for(let e=0;e<t.circleArray.length/4;e++){const n=4*e,i=t.circleArray[n+0],r=t.circleArray[n+1],a=t.circleArray[n+2],o=t.circleArray[n+3];p.emplace(g++,i,r,a,o,0),p.emplace(g++,i,r,a,o,1),p.emplace(g++,i,r,a,o,2),p.emplace(g++,i,r,a,o,3)}(!Qn||Qn.length<2*c)&&(Qn=function(e){const n=2*e,i=new t.aU;i.resize(n),i._trim();for(let t=0;t<n;t++){const e=6*t;i.uint16[e+0]=4*t+0,i.uint16[e+1]=4*t+1,i.uint16[e+2]=4*t+2,i.uint16[e+3]=4*t+2,i.uint16[e+4]=4*t+3,i.uint16[e+5]=4*t+0}return i}(c));const m=o.createIndexBuffer(Qn,!0),y=o.createVertexBuffer(p,t.aT.members,!0);for(const v of u){const n=kt(v.transform,v.invTransform,e.transform);f.draw(o,s.TRIANGLES,On.disabled,Fn.disabled,e.colorModeForRenderPass(),jn.disabled,n,e.style.map.terrain&&e.style.map.terrain.getTerrainData(v.coord),i.id,y,m,t.a0.simpleSegment(0,2*v.circleOffset,v.circleArray.length,v.circleArray.length/2),null,e.transform.zoom,null,null,null)}y.destroy(),m.destroy()}jn.disabled=new jn(!1,1029,2305),jn.backCCW=new jn(!0,1029,2305);const Vn=t.ao(new Float32Array(16));function qn(e,n,i,r,a,o){const{horizontalAlign:s,verticalAlign:l}=t.av(e);return new t.P((-(s-.5)*n/a+r[0])*o,(-(l-.5)*i/a+r[1])*o)}function Gn(e,n,i,r,a,o){const s=n.tileAnchorPoint.add(new t.P(n.translation[0],n.translation[1]));if(n.pitchWithMap){let e=r.mult(o);return i||(e=e.rotate(-a)),Ae(s.add(e),n.labelPlaneMatrix,n.getElevation).point}if(i){const t=Se(n.tileAnchorPoint.x+1,n.tileAnchorPoint.y,n).point.sub(e),i=Math.atan(t.y/t.x)+(t.x<0?Math.PI:0);return e.add(r.rotate(i))}return e.add(r)}function Hn(e,n,i,r,a,o,s,l,u,c,h,d,f,p){const g=e.text.placedSymbolArray,m=e.text.dynamicLayoutVertexArray,y=e.icon.dynamicLayoutVertexArray,v={};m.clear();for(let A=0;A<g.length;A++){const y=g.get(A),_=y.hidden||!y.crossTileID||e.allowVerticalPlacement&&!y.placedOrientation?null:r[y.crossTileID];if(_){const r=new t.P(y.anchorX,y.anchorY),g={getElevation:p,width:a.width,height:a.height,labelPlaneMatrix:o,lineVertexArray:null,pitchWithMap:i,projection:h,projectionCache:null,tileAnchorPoint:r,translation:d,unwrappedTileID:f},A=i?Ae(r,s,p):Se(r.x,r.y,g),x=_e(a.cameraToCenterDistance,A.signedDistanceFromCamera);let b=t.aj(e.textSizeData,u,y)*x/t.aq;i&&(b*=e.tilePixelRatio/l);const{width:w,height:E,anchor:I,textOffset:C,textBoxScale:k}=_,S=qn(I,w,E,C,k,b),T=h.getPitchedTextCorrection(a,r.add(new t.P(d[0],d[1])),f),P=Gn(A.point,g,n,S,a.angle,T),N=e.allowVerticalPlacement&&y.placedOrientation===t.ai.vertical?Math.PI/2:0;for(let e=0;e<y.numGlyphs;e++)t.ak(m,P,N);c&&y.associatedIconIndex>=0&&(v[y.associatedIconIndex]={shiftedAnchor:P,angle:N})}else Be(y.numGlyphs,m)}if(c){y.clear();const n=e.icon.placedSymbolArray;for(let e=0;e<n.length;e++){const i=n.get(e);if(i.hidden)Be(i.numGlyphs,y);else{const n=v[e];if(n)for(let e=0;e<i.numGlyphs;e++)t.ak(y,n.shiftedAnchor,n.angle);else Be(i.numGlyphs,y)}}e.icon.dynamicLayoutVertexBuffer.updateData(y)}e.text.dynamicLayoutVertexBuffer.updateData(m)}function Xn(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function Wn(e,n,i,r,a,o,s,l,u,c,h,d){const f=e.context,p=f.gl,g=e.transform,m=tt(),y="map"===l,v="map"===u,A="viewport"!==l&&"point"!==i.layout.get("symbol-placement"),_=y&&!v&&!A,x=!v&&A,b=!i.layout.get("symbol-sort-key").isConstant();let w=!1;const E=e.depthModeForSublayer(0,On.ReadOnly),I=i._unevaluatedLayout.hasValue("text-variable-anchor")||i._unevaluatedLayout.hasValue("text-variable-anchor-offset"),C=[],k=m.getCircleRadiusCorrection(g);for(const S of r){const r=n.getTile(S),l=r.getBucket(i);if(!l)continue;const u=a?l.text:l.icon;if(!u||!u.segments.get().length||!u.hasVisibleVertices)continue;const h=u.programConfigurations.get(i.id),d=a||l.sdfIcons,f=a?l.textSizeData:l.iconSizeData,E=v||0!==g.pitch,T=e.useProgram(Xn(d,a,l),h),P=t.ah(f,g.zoom),N=e.style.map.terrain&&e.style.map.terrain.getTerrainData(S);let M,B,L,R,z=[0,0],O=null;if(a)B=r.glyphAtlasTexture,L=p.LINEAR,M=r.glyphAtlasTexture.size,l.iconsInText&&(z=r.imageAtlasTexture.size,O=r.imageAtlasTexture,R=E||e.options.rotating||e.options.zooming||"composite"===f.kind||"camera"===f.kind?p.LINEAR:p.NEAREST);else{const t=1!==i.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;B=r.imageAtlasTexture,L=d||e.options.rotating||e.options.zooming||t||E?p.LINEAR:p.NEAREST,M=r.imageAtlasTexture.size}const D=ze(r,1,e.transform.zoom),F=x?S.posMatrix:Vn,j=ye(F,v,y,e.transform,D),Q=ve(F,v,y,e.transform,D),U=ve(S.posMatrix,v,y,e.transform,D),V=m.translatePosition(e.transform,r,o,s),q=I&&l.hasTextData(),G="none"!==i.layout.get("icon-text-fit")&&q&&l.hasIconData();if(A){const t=e.style.map.terrain?(t,n)=>e.style.map.terrain.getElevation(S,t,n):null,n="map"===i.layout.get("text-rotation-alignment");be(l,S.posMatrix,e,a,j,U,v,c,n,m,S.toUnwrapped(),g.width,g.height,V,t)}const H=S.posMatrix,X=a&&I||G,W=A||X?Vn:j,Y=Q,Z=d&&0!==i.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1);let K;K=d?l.iconsInText?Ut(f.kind,P,_,v,A,X,e,H,W,Y,V,M,z,k):Qt(f.kind,P,_,v,A,X,e,H,W,Y,V,a,M,!0,k):jt(f.kind,P,_,v,A,X,e,H,W,Y,V,a,M,k);const J={program:T,buffers:u,uniformValues:K,atlasTexture:B,atlasTextureIcon:O,atlasInterpolation:L,atlasInterpolationIcon:R,isSDF:d,hasHalo:Z};if(b&&l.canOverlap){w=!0;const e=u.segments.get();for(const n of e)C.push({segments:new t.a0([n]),sortKey:n.sortKey,state:J,terrainData:N})}else C.push({segments:u.segments,sortKey:0,state:J,terrainData:N})}w&&C.sort(((e,t)=>e.sortKey-t.sortKey));for(const t of C){const n=t.state;if(f.activeTexture.set(p.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,p.CLAMP_TO_EDGE),n.atlasTextureIcon&&(f.activeTexture.set(p.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,p.CLAMP_TO_EDGE)),n.isSDF){const r=n.uniformValues;n.hasHalo&&(r.u_is_halo=1,Yn(n.buffers,t.segments,i,e,n.program,E,h,d,r,t.terrainData)),r.u_is_halo=0}Yn(n.buffers,t.segments,i,e,n.program,E,h,d,n.uniformValues,t.terrainData)}}function Yn(e,t,n,i,r,a,o,s,l,u){const c=i.context;r.draw(c,c.gl.TRIANGLES,a,o,s,jn.disabled,l,u,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,i.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Zn(e,t,n,i,r){if(!n||!i||!i.imageAtlas)return;const a=i.imageAtlas.patternPositions;let o=a[n.to.toString()],s=a[n.from.toString()];if(!o&&s&&(o=s),!s&&o&&(s=o),!o||!s){const e=r.getPaintProperty(t);o=a[e],s=a[e]}o&&s&&e.setConstantPatternPositions(o,s)}function Kn(e,t,n,i,r,a,o){const s=e.context.gl,l="fill-pattern",u=n.paint.get(l),c=u&&u.constantOr(1),h=n.getCrossfadeParameters();let d,f,p,g,m;o?(f=c&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=s.LINES):(f=c?"fillPattern":"fill",d=s.TRIANGLES);const y=u.constantOr(null);for(const v of i){const i=t.getTile(v);if(c&&!i.patternsLoaded())continue;const u=i.getBucket(n);if(!u)continue;const A=u.programConfigurations.get(n.id),_=e.useProgram(f,A),x=e.style.map.terrain&&e.style.map.terrain.getTerrainData(v);c&&(e.context.activeTexture.set(s.TEXTURE0),i.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),A.updatePaintBuffers(h)),Zn(A,l,y,i,n);const b=x?v:null,w=e.translatePosMatrix(b?b.posMatrix:v.posMatrix,i,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(o){g=u.indexBuffer2,m=u.segments2;const t=[s.drawingBufferWidth,s.drawingBufferHeight];p="fillOutlinePattern"===f&&c?It(w,e,h,i,t):Et(w,t)}else g=u.indexBuffer,m=u.segments,p=c?wt(w,e,h,i):bt(w);_.draw(e.context,d,r,e.stencilModeForClipping(v),a,jn.disabled,p,x,n.id,u.layoutVertexBuffer,g,m,n.paint,e.transform.zoom,A)}}function Jn(e,t,n,i,r,a,o){const s=e.context,l=s.gl,u="fill-extrusion-pattern",c=n.paint.get(u),h=c.constantOr(1),d=n.getCrossfadeParameters(),f=n.paint.get("fill-extrusion-opacity"),p=c.constantOr(null);for(const g of i){const i=t.getTile(g),c=i.getBucket(n);if(!c)continue;const m=e.style.map.terrain&&e.style.map.terrain.getTerrainData(g),y=c.programConfigurations.get(n.id),v=e.useProgram(h?"fillExtrusionPattern":"fillExtrusion",y);h&&(e.context.activeTexture.set(l.TEXTURE0),i.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers(d)),Zn(y,u,p,i,n);const A=e.translatePosMatrix(g.posMatrix,i,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),_=n.paint.get("fill-extrusion-vertical-gradient"),x=h?xt(A,e,_,f,g,d,i):_t(A,e,_,f);v.draw(s,s.gl.TRIANGLES,r,a,o,jn.backCCW,x,m,n.id,c.layoutVertexBuffer,c.indexBuffer,c.segments,n.paint,e.transform.zoom,y,e.style.map.terrain&&c.centroidVertexBuffer)}}function $n(e,t,n,i,r,a,o){const s=e.context,l=s.gl,u=n.fbo;if(!u)return;const c=e.useProgram("hillshade"),h=e.style.map.terrain&&e.style.map.terrain.getTerrainData(t);s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u.colorAttachment.get()),c.draw(s,l.TRIANGLES,r,a,o,jn.disabled,((e,t,n,i)=>{const r=n.paint.get("hillshade-shadow-color"),a=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color");let s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);const l=!e.options.moving;return{u_matrix:i?i.posMatrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:Nt(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:a,u_accent:o}})(e,n,i,h?t:null),h,i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}function ei(e,n,i,r,a,o){const s=e.context,l=s.gl,u=n.dem;if(u&&u.data){const c=u.dim,h=u.stride,d=u.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(h),n.demTexture){const e=n.demTexture;e.update(d,{premultiply:!1}),e.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new x(s,d,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);let f=n.fbo;if(!f){const e=new x(s,{width:c,height:c,data:null},l.RGBA);e.bind(l.LINEAR,l.CLAMP_TO_EDGE),f=n.fbo=s.createFramebuffer(c,c,!0,!1),f.colorAttachment.set(e.texture)}s.bindFramebuffer.set(f.framebuffer),s.viewport.set([0,0,c,c]),e.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,r,a,o,jn.disabled,((e,n)=>{const i=n.stride,r=t.H();return t.aQ(r,0,t.X,-t.X,0,0,1),t.J(r,r,[0,-t.X,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:e.overscaledZ,u_unpack:n.getUnpackVector()}})(n.tileID,u),null,i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ti(e,n,i,r,o,s){const l=r.paint.get("raster-fade-duration");if(!s&&l>0){const r=a.now(),s=(r-e.timeAdded)/l,u=n?(r-n.timeAdded)/l:-1,c=i.getSource(),h=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-h)>Math.abs(e.tileID.overscaledZ-h),f=d&&e.refreshedUponExpiration?1:t.ad(d?s:1-u,0,1);return e.refreshedUponExpiration&&s>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}const ni=new t.aN(1,0,0,1),ii=new t.aN(0,1,0,1),ri=new t.aN(0,0,1,1),ai=new t.aN(1,0,1,1),oi=new t.aN(0,1,1,1);function si(e,t,n,i){ui(e,0,t+n/2,e.transform.width,n,i)}function li(e,t,n,i){ui(e,t-n/2,0,n,e.transform.height,i)}function ui(e,t,n,i,r,a){const o=e.context,s=o.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*e.pixelRatio,n*e.pixelRatio,i*e.pixelRatio,r*e.pixelRatio),o.clear({color:a}),s.disable(s.SCISSOR_TEST)}function ci(e,n,i){const r=e.context,a=r.gl,o=i.posMatrix,s=e.useProgram("debug"),l=On.disabled,u=Fn.disabled,c=e.colorModeForRenderPass(),h="$debug",d=e.style.map.terrain&&e.style.map.terrain.getTerrainData(i);r.activeTexture.set(a.TEXTURE0);const f=n.getTileByID(i.key).latestRawTileData,p=Math.floor((f&&f.byteLength||0)/1024),g=n.getTile(i).tileSize,m=512/Math.min(g,512)*(i.overscaledZ/e.transform.zoom)*.5;let y=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(y+=" => ".concat(i.overscaledZ)),function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,i=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,n.width,n.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}(e,"".concat(y," ").concat(p,"kB")),s.draw(r,a.TRIANGLES,l,u,Rn.alphaBlended,jn.disabled,St(o,t.aN.transparent,m),null,h,e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments),s.draw(r,a.LINE_STRIP,l,u,c,jn.disabled,St(o,t.aN.red),d,h,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments)}function hi(e,t,n){const i=e.context,r=i.gl,a=e.colorModeForRenderPass(),o=new On(r.LEQUAL,On.ReadWrite,e.depthRangeFor3D),s=e.useProgram("terrain"),l=t.getTerrainMesh();i.bindFramebuffer.set(null),i.viewport.set([0,0,e.width,e.height]);for(const u of n){const n=e.renderToTexture.getTexture(u),c=t.getTerrainData(u.tileID);i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.texture);const h=e.transform.calculatePosMatrix(u.tileID.toUnwrapped()),d=t.getMeshFrameDelta(e.transform.zoom),f=e.transform.calculateFogMatrix(u.tileID.toUnwrapped()),p=mt(h,d,f,e.style.sky,e.transform.pitch);s.draw(i,r.TRIANGLES,o,Fn.disabled,a,jn.backCCW,p,c,"terrain",l.vertexBuffer,l.indexBuffer,l.segments)}}class di{constructor(e,t,n){this.vertexBuffer=e,this.indexBuffer=t,this.segments=n}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class fi{constructor(e,n){this.context=new zn(e),this.transform=n,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:t.ao(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=he.maxUnderzooming+he.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new lt}resize(e,t,n){if(this.width=Math.floor(e*n),this.height=Math.floor(t*n),this.pixelRatio=n,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const i of this.style._order)this.style._layers[i].resize()}setup(){const e=this.context,n=new t.aX;n.emplaceBack(0,0),n.emplaceBack(t.X,0),n.emplaceBack(0,t.X),n.emplaceBack(t.X,t.X),this.tileExtentBuffer=e.createVertexBuffer(n,dt.members),this.tileExtentSegments=t.a0.simpleSegment(0,0,4,2);const i=new t.aX;i.emplaceBack(0,0),i.emplaceBack(t.X,0),i.emplaceBack(0,t.X),i.emplaceBack(t.X,t.X),this.debugBuffer=e.createVertexBuffer(i,dt.members),this.debugSegments=t.a0.simpleSegment(0,0,4,5);const r=new t.$;r.emplaceBack(0,0,0,0),r.emplaceBack(t.X,0,t.X,0),r.emplaceBack(0,t.X,0,t.X),r.emplaceBack(t.X,t.X,t.X,t.X),this.rasterBoundsBuffer=e.createVertexBuffer(r,J.members),this.rasterBoundsSegments=t.a0.simpleSegment(0,0,4,2);const a=new t.aX;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(a,dt.members),this.viewportSegments=t.a0.simpleSegment(0,0,4,2);const o=new t.aZ;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(o);const s=new t.aY;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);const l=this.context.gl;this.stencilClearMode=new Fn({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)}clearStencil(){const e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const i=t.H();t.aQ(i,0,this.width,this.height,0,0,1),t.K(i,i,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,On.disabled,this.stencilClearMode,Rn.disabled,jn.disabled,Tt(i),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,t){if(this.currentStencilSource===e.source||!e.isTileClipped()||!t||!t.length)return;this.currentStencilSource=e.source;const n=this.context,i=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Rn.disabled),n.setDepthMode(On.disabled);const r=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const a of t){const e=this._tileClippingMaskIDs[a.key]=this.nextStencilID++,t=this.style.map.terrain&&this.style.map.terrain.getTerrainData(a);r.draw(n,i.TRIANGLES,On.disabled,new Fn({func:i.ALWAYS,mask:0},e,255,i.KEEP,i.KEEP,i.REPLACE),Rn.disabled,jn.disabled,Tt(a.posMatrix),t,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new Fn({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){const t=this.context.gl;return new Fn({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){const t=this.context.gl,n=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),i=n[n.length-1].overscaledZ,r=n[0].overscaledZ-i+1;if(r>1){this.currentStencilSource=void 0,this.nextStencilID+r>256&&this.clearStencil();const e={};for(let n=0;n<r;n++)e[n+i]=new Fn({func:t.GEQUAL,mask:255},n+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=r,[e,n]}return[{[i]:Fn.disabled},n]}colorModeForRenderPass(){const e=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new Rn([e.CONSTANT_COLOR,e.ONE],new t.aN(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?Rn.unblended:Rn.alphaBlended}depthModeForSublayer(e,t,n){if(!this.opaquePassEnabledForLayer())return On.disabled;const i=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new On(n||this.context.gl.LEQUAL,t,[i,i])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,n){this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(a.now()),this.imageManager.beginFrame();const i=this.style._order,r=this.style.sourceCaches,o={},s={},l={};for(const t in r){const e=r[t];e.used&&e.prepare(this.context),o[t]=e.getVisibleCoordinates(),s[t]=o[t].slice().reverse(),l[t]=e.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let t=0;t<i.length;t++)if(this.style._layers[i[t]].is3D()){this.opaquePassCutoff=t;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const t of i){const e=this.style._layers[t];if(!e.hasOffscreenPass()||e.isHidden(this.transform.zoom))continue;const n=s[e.source];("custom"===e.type||n.length)&&this.renderLayer(this,r[e.source],e,n)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.aN.black:t.aN.transparent,depth:1}),this.clearStencil(),this.style.stylesheet.sky&&function(e,n){const i=e.context,r=i.gl,a=((e,t,n)=>({u_sky_color:e.properties.get("sky-color"),u_horizon_color:e.properties.get("horizon-color"),u_horizon:(t.height/2+t.getHorizon())*n,u_sky_horizon_blend:e.properties.get("sky-horizon-blend")*t.height/2*n}))(n,e.style.map.transform,e.pixelRatio),o=new On(r.LEQUAL,On.ReadWrite,[0,1]),s=Fn.disabled,l=e.colorModeForRenderPass(),u=e.useProgram("sky");if(!n.mesh){const e=new t.aX;e.emplaceBack(-1,-1),e.emplaceBack(1,-1),e.emplaceBack(1,1),e.emplaceBack(-1,1);const r=new t.aY;r.emplaceBack(0,1,2),r.emplaceBack(0,2,3),n.mesh=new di(i.createVertexBuffer(e,dt.members),i.createIndexBuffer(r),t.a0.simpleSegment(0,0,e.length,r.length))}u.draw(i,r.TRIANGLES,o,s,l,jn.disabled,a,void 0,"sky",n.mesh.vertexBuffer,n.mesh.indexBuffer,n.mesh.segments)}(this,this.style.sky),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[i[this.currentLayer]],t=r[e.source],n=o[e.source];this._renderTileClippingMasks(e,n),this.renderLayer(this,t,e,n)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){const e=this.style._layers[i[this.currentLayer]],t=r[e.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(e))continue;const n=("symbol"===e.type?l:s)[e.source];this._renderTileClippingMasks(e,o[e.source]),this.renderLayer(this,t,e,n)}if(this.options.showTileBoundaries){const e=function(e,t){let n=null;const i=Object.values(e._layers).flatMap((n=>n.source&&!n.isHidden(t)?[e.sourceCaches[n.source]]:[])),r=i.filter((e=>"vector"===e.getSource().type)),a=i.filter((e=>"vector"!==e.getSource().type)),o=e=>{(!n||n.getSource().maxzoom<e.getSource().maxzoom)&&(n=e)};return r.forEach((e=>o(e))),n||a.forEach((e=>o(e))),n}(this.style,this.transform.zoom);e&&function(e,t,n){for(let i=0;i<n.length;i++)ci(e,t,n[i])}(this,e,e.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;si(e,e.transform.height-(t.top||0),3,ni),si(e,t.bottom||0,3,ii),li(e,t.left||0,3,ri),li(e,e.transform.width-(t.right||0),3,ai);const n=e.transform.centerPoint;!function(e,t,n,i){ui(e,t-1,n-10,2,20,i),ui(e,t-10,n-1,20,2,i)}(e,n.x,e.transform.height-n.y,oi)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(e){if(!this.style||!this.style.map||!this.style.map.terrain)return;const n=this.terrainFacilitator.matrix,i=this.transform.modelViewProjectionMatrix;let r=this.terrainFacilitator.dirty;r||(r=e?!t.a_(n,i):!t.a$(n,i)),r||(r=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),r&&(t.b0(n,i),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(e,n){const i=e.context,r=i.gl,a=Rn.unblended,o=new On(r.LEQUAL,On.ReadWrite,[0,1]),s=n.getTerrainMesh(),l=n.sourceCache.getRenderableTiles(),u=e.useProgram("terrainDepth");i.bindFramebuffer.set(n.getFramebuffer("depth").framebuffer),i.viewport.set([0,0,e.width/devicePixelRatio,e.height/devicePixelRatio]),i.clear({color:t.aN.transparent,depth:1});for(const t of l){const l=n.getTerrainData(t.tileID),c={u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped()),u_ele_delta:n.getMeshFrameDelta(e.transform.zoom)};u.draw(i,r.TRIANGLES,o,Fn.disabled,a,jn.backCCW,c,l,"terrain",s.vertexBuffer,s.indexBuffer,s.segments)}i.bindFramebuffer.set(null),i.viewport.set([0,0,e.width,e.height])}(this,this.style.map.terrain),function(e,n){const i=e.context,r=i.gl,a=Rn.unblended,o=new On(r.LEQUAL,On.ReadWrite,[0,1]),s=n.getTerrainMesh(),l=n.getCoordsTexture(),u=n.sourceCache.getRenderableTiles(),c=e.useProgram("terrainCoords");i.bindFramebuffer.set(n.getFramebuffer("coords").framebuffer),i.viewport.set([0,0,e.width/devicePixelRatio,e.height/devicePixelRatio]),i.clear({color:t.aN.transparent,depth:1}),n.coordsIndex=[];for(const t of u){const u=n.getTerrainData(t.tileID);i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,l.texture);const h={u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped()),u_terrain_coords_id:(255-n.coordsIndex.length)/255,u_texture:0,u_ele_delta:n.getMeshFrameDelta(e.transform.zoom)};c.draw(i,r.TRIANGLES,o,Fn.disabled,a,jn.backCCW,h,u,"terrain",s.vertexBuffer,s.indexBuffer,s.segments),n.coordsIndex.push(t.tileID.key)}i.bindFramebuffer.set(null),i.viewport.set([0,0,e.width,e.height])}(this,this.style.map.terrain))}renderLayer(e,n,i,r){if(!i.isHidden(this.transform.zoom)&&("background"===i.type||"custom"===i.type||(r||[]).length))switch(this.id=i.id,i.type){case"symbol":!function(e,n,i,r,a){if("translucent"!==e.renderPass)return;const o=Fn.disabled,s=e.colorModeForRenderPass();(i._unevaluatedLayout.hasValue("text-variable-anchor")||i._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(e,n,i,r,a,o,s,l,u){const c=n.transform,h=tt(),d="map"===a,f="map"===o;for(const p of e){const e=r.getTile(p),a=e.getBucket(i);if(!a||!a.text||!a.text.segments.get().length)continue;const o=t.ah(a.textSizeData,c.zoom),g=ze(e,1,n.transform.zoom),m=ye(p.posMatrix,f,d,n.transform,g),y="none"!==i.layout.get("icon-text-fit")&&a.hasIconData();if(o){const t=Math.pow(2,c.zoom-e.tileID.overscaledZ),i=n.style.map.terrain?(e,t)=>n.style.map.terrain.getElevation(p,e,t):null,r=h.translatePosition(c,e,s,l);Hn(a,d,f,u,c,m,p.posMatrix,t,o,y,h,r,p.toUnwrapped(),i)}}}(r,e,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),a),0!==i.paint.get("icon-opacity").constantOr(1)&&Wn(e,n,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),o,s),0!==i.paint.get("text-opacity").constantOr(1)&&Wn(e,n,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),o,s),n.map.showCollisionBoxes&&(Un(e,n,i,r,!0),Un(e,n,i,r,!1))}(e,n,i,r,this.style.placement.variableOffsets);break;case"circle":!function(e,n,i,r){if("translucent"!==e.renderPass)return;const a=i.paint.get("circle-opacity"),o=i.paint.get("circle-stroke-width"),s=i.paint.get("circle-stroke-opacity"),l=!i.layout.get("circle-sort-key").isConstant();if(0===a.constantOr(1)&&(0===o.constantOr(1)||0===s.constantOr(1)))return;const u=e.context,c=u.gl,h=e.depthModeForSublayer(0,On.ReadOnly),d=Fn.disabled,f=e.colorModeForRenderPass(),p=[];for(let g=0;g<r.length;g++){const a=r[g],o=n.getTile(a),s=o.getBucket(i);if(!s)continue;const u=s.programConfigurations.get(i.id),c=e.useProgram("circle",u),h=s.layoutVertexBuffer,d=s.indexBuffer,f=e.style.map.terrain&&e.style.map.terrain.getTerrainData(a),m={programConfiguration:u,program:c,layoutVertexBuffer:h,indexBuffer:d,uniformValues:Ct(e,a,o,i),terrainData:f};if(l){const e=s.segments.get();for(const n of e)p.push({segments:new t.a0([n]),sortKey:n.sortKey,state:m})}else p.push({segments:s.segments,sortKey:0,state:m})}l&&p.sort(((e,t)=>e.sortKey-t.sortKey));for(const t of p){const{programConfiguration:n,program:r,layoutVertexBuffer:a,indexBuffer:o,uniformValues:s,terrainData:l}=t.state;r.draw(u,c.TRIANGLES,h,d,f,jn.disabled,s,l,i.id,a,o,t.segments,i.paint,e.transform.zoom,n)}}(e,n,i,r);break;case"heatmap":!function(e,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){const a=e.context,o=a.gl,s=Fn.disabled,l=new Rn([o.ONE,o.ONE],t.aN.transparent,[!0,!0,!0,!0]);!function(e,t,n){const i=e.gl;e.activeTexture.set(i.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);let r=n.heatmapFbo;if(r)i.bindTexture(i.TEXTURE_2D,r.colorAttachment.get()),e.bindFramebuffer.set(r.framebuffer);else{const a=i.createTexture();i.bindTexture(i.TEXTURE_2D,a),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),r=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1,!1),function(e,t,n,i){var r,a;const o=e.gl,s=null!==(r=e.HALF_FLOAT)&&void 0!==r?r:o.UNSIGNED_BYTE,l=null!==(a=e.RGBA16F)&&void 0!==a?a:o.RGBA;o.texImage2D(o.TEXTURE_2D,0,l,t.width/4,t.height/4,0,o.RGBA,s,null),i.colorAttachment.set(n)}(e,t,a,r)}}(a,e,i),a.clear({color:t.aN.transparent});for(let t=0;t<r.length;t++){const u=r[t];if(n.hasRenderableParent(u))continue;const c=n.getTile(u),h=c.getBucket(i);if(!h)continue;const d=h.programConfigurations.get(i.id),f=e.useProgram("heatmap",d),{zoom:p}=e.transform;f.draw(a,o.TRIANGLES,On.disabled,s,l,jn.disabled,Pt(u.posMatrix,c,p,i.paint.get("heatmap-intensity")),null,i.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,i.paint,e.transform.zoom,d)}a.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){const i=e.context,r=i.gl,a=n.heatmapFbo;if(!a)return;i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);let o=n.colorRampTexture;o||(o=n.colorRampTexture=new x(i,n.colorRamp,r.RGBA)),o.bind(r.LINEAR,r.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(i,r.TRIANGLES,On.disabled,Fn.disabled,e.colorModeForRenderPass(),jn.disabled,((e,n,i,r)=>{const a=t.H();t.aQ(a,0,e.width,e.height,0,0,1);const o=e.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}})(e,n),null,n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}(e,i))}(e,n,i,r);break;case"line":!function(e,n,i,r){if("translucent"!==e.renderPass)return;const a=i.paint.get("line-opacity"),o=i.paint.get("line-width");if(0===a.constantOr(1)||0===o.constantOr(1))return;const s=e.depthModeForSublayer(0,On.ReadOnly),l=e.colorModeForRenderPass(),u=i.paint.get("line-dasharray"),c=i.paint.get("line-pattern"),h=c.constantOr(1),d=i.paint.get("line-gradient"),f=i.getCrossfadeParameters(),p=h?"linePattern":u?"lineSDF":d?"lineGradient":"line",g=e.context,m=g.gl;let y=!0;for(const v of r){const r=n.getTile(v);if(h&&!r.patternsLoaded())continue;const a=r.getBucket(i);if(!a)continue;const o=a.programConfigurations.get(i.id),A=e.context.program.get(),_=e.useProgram(p,o),b=y||_.program!==A,w=e.style.map.terrain&&e.style.map.terrain.getTerrainData(v),E=c.constantOr(null);if(E&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[E.to.toString()],n=e.patternPositions[E.from.toString()];t&&n&&o.setConstantPatternPositions(t,n)}const I=w?v:null,C=h?Lt(e,r,i,f,I):u?Rt(e,r,i,u,f,I):d?Bt(e,r,i,a.lineClipsArray.length,I):Mt(e,r,i,I);if(h)g.activeTexture.set(m.TEXTURE0),r.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),o.updatePaintBuffers(f);else if(u&&(b||e.lineAtlas.dirty))g.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(g);else if(d){const r=a.gradients[i.id];let o=r.texture;if(i.gradientVersion!==r.version){let s=256;if(i.stepInterpolant){const i=n.getSource().maxzoom,r=v.canonical.z===i?Math.ceil(1<<e.transform.maxZoom-v.canonical.z):1;s=t.ad(t.aV(a.maxLineLength/t.X*1024*r),256,g.maxTextureSize)}r.gradient=t.aW({expression:i.gradientExpression(),evaluationKey:"lineProgress",resolution:s,image:r.gradient||void 0,clips:a.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new x(g,r.gradient,m.RGBA),r.version=i.gradientVersion,o=r.texture}g.activeTexture.set(m.TEXTURE0),o.bind(i.stepInterpolant?m.NEAREST:m.LINEAR,m.CLAMP_TO_EDGE)}_.draw(g,m.TRIANGLES,s,e.stencilModeForClipping(v),l,jn.disabled,C,w,i.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,i.paint,e.transform.zoom,o,a.layoutVertexBuffer2),y=!1}}(e,n,i,r);break;case"fill":!function(e,n,i,r){const a=i.paint.get("fill-color"),o=i.paint.get("fill-opacity");if(0===o.constantOr(1))return;const s=e.colorModeForRenderPass(),l=i.paint.get("fill-pattern"),u=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===a.constantOr(t.aN.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(e.renderPass===u){const t=e.depthModeForSublayer(1,"opaque"===e.renderPass?On.ReadWrite:On.ReadOnly);Kn(e,n,i,r,t,s,!1)}if("translucent"===e.renderPass&&i.paint.get("fill-antialias")){const t=e.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,On.ReadOnly);Kn(e,n,i,r,t,s,!0)}}(e,n,i,r);break;case"fill-extrusion":!function(e,t,n,i){const r=n.paint.get("fill-extrusion-opacity");if(0!==r&&"translucent"===e.renderPass){const a=new On(e.context.gl.LEQUAL,On.ReadWrite,e.depthRangeFor3D);if(1!==r||n.paint.get("fill-extrusion-pattern").constantOr(1))Jn(e,t,n,i,a,Fn.disabled,Rn.disabled),Jn(e,t,n,i,a,e.stencilModeFor3D(),e.colorModeForRenderPass());else{const r=e.colorModeForRenderPass();Jn(e,t,n,i,a,Fn.disabled,r)}}}(e,n,i,r);break;case"hillshade":!function(e,t,n,i){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const r=e.context,a=e.depthModeForSublayer(0,On.ReadOnly),o=e.colorModeForRenderPass(),[s,l]="translucent"===e.renderPass?e.stencilConfigForOverlap(i):[{},i];for(const u of l){const i=t.getTile(u);void 0!==i.needsHillshadePrepare&&i.needsHillshadePrepare&&"offscreen"===e.renderPass?ei(e,i,n,a,Fn.disabled,o):"translucent"===e.renderPass&&$n(e,u,i,n,a,s[u.overscaledZ],o)}r.viewport.set([0,0,e.width,e.height])}(e,n,i,r);break;case"raster":!function(e,t,n,i){if("translucent"!==e.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!i.length)return;const r=e.context,a=r.gl,o=t.getSource(),s=e.useProgram("raster"),l=e.colorModeForRenderPass(),[u,c]=o instanceof $?[{},i]:e.stencilConfigForOverlap(i),h=c[c.length-1].overscaledZ,d=!e.options.moving;for(const f of c){const i=e.depthModeForSublayer(f.overscaledZ-h,1===n.paint.get("raster-opacity")?On.ReadWrite:On.ReadOnly,a.LESS),c=t.getTile(f);c.registerFadeDuration(n.paint.get("raster-fade-duration"));const p=t.findLoadedParent(f,0),g=t.findLoadedSibling(f),m=ti(c,p||g||null,t,n,e.transform,e.style.map.terrain);let y,v;const A="nearest"===n.paint.get("raster-resampling")?a.NEAREST:a.LINEAR;r.activeTexture.set(a.TEXTURE0),c.texture.bind(A,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),r.activeTexture.set(a.TEXTURE1),p?(p.texture.bind(A,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),y=Math.pow(2,p.tileID.overscaledZ-c.tileID.overscaledZ),v=[c.tileID.canonical.x*y%1,c.tileID.canonical.y*y%1]):c.texture.bind(A,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);const _=e.style.map.terrain&&e.style.map.terrain.getTerrainData(f),x=_?f:null,b=x?x.posMatrix:e.transform.calculatePosMatrix(f.toUnwrapped(),d),w=Dt(b,v||[0,0],y||1,m,n);o instanceof $?s.draw(r,a.TRIANGLES,i,Fn.disabled,l,jn.disabled,w,_,n.id,o.boundsBuffer,e.quadTriangleIndexBuffer,o.boundsSegments):s.draw(r,a.TRIANGLES,i,u[f.overscaledZ],l,jn.disabled,w,_,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}(e,n,i,r);break;case"background":!function(e,t,n,i){const r=n.paint.get("background-color"),a=n.paint.get("background-opacity");if(0===a)return;const o=e.context,s=o.gl,l=e.transform,u=l.tileSize,c=n.paint.get("background-pattern");if(e.isPatternMissing(c))return;const h=!c&&1===r.a&&1===a&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==h)return;const d=Fn.disabled,f=e.depthModeForSublayer(0,"opaque"===h?On.ReadWrite:On.ReadOnly),p=e.colorModeForRenderPass(),g=e.useProgram(c?"backgroundPattern":"background"),m=i||l.coveringTiles({tileSize:u,terrain:e.style.map.terrain});c&&(o.activeTexture.set(s.TEXTURE0),e.imageManager.bind(e.context));const y=n.getCrossfadeParameters();for(const v of m){const t=i?v.posMatrix:e.transform.calculatePosMatrix(v.toUnwrapped()),l=c?qt(t,a,e,c,{tileID:v,tileSize:u},y):Vt(t,a,r),h=e.style.map.terrain&&e.style.map.terrain.getTerrainData(v);g.draw(o,s.TRIANGLES,f,d,p,jn.disabled,l,h,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}(e,0,i,r);break;case"custom":!function(e,t,n){const i=e.context,r=n.implementation;if("offscreen"===e.renderPass){const t=r.prerender;t&&(e.setCustomLayerDefaults(),i.setColorMode(e.colorModeForRenderPass()),t.call(r,i.gl,e.transform.customLayerMatrix()),i.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),i.setColorMode(e.colorModeForRenderPass()),i.setStencilMode(Fn.disabled);const t="3d"===r.renderingMode?new On(e.context.gl.LEQUAL,On.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,On.ReadOnly);i.setDepthMode(t),r.render(i.gl,e.transform.customLayerMatrix()),i.setDirty(),e.setBaseState(),i.bindFramebuffer.set(null)}}(e,0,i)}}translatePosMatrix(e,n,i,r,a){if(!i[0]&&!i[1])return e;const o=a?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(o){const e=Math.sin(o),t=Math.cos(o);i=[i[0]*t-i[1]*e,i[0]*e+i[1]*t]}const s=[a?i[0]:ze(n,i[0],this.transform.zoom),a?i[1]:ze(n,i[1],this.transform.zoom),0],l=new Float32Array(16);return t.J(l,e,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}useProgram(e,t){this.cache=this.cache||{};const n=e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[n]||(this.cache[n]=new vt(this.context,ft[e],t,Gt[e],this._showOverdrawInspector,this.style.map.terrain)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new x(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:e,drawingBufferHeight:t}=this.context.gl;return this.width!==e||this.height!==t}}class pi{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(e,n,i){const r=Math.pow(2,i),a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((i=>{const a=1/(i=t.ag([],i,e))[3]/n*r;return t.b1(i,i,[a,a,1/i[3],a])})),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((e=>{const t=function(e,t){var n=t[0],i=t[1],r=t[2],a=n*n+i*i+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}([],function(e,t,n){var i=t[0],r=t[1],a=t[2],o=n[0],s=n[1],l=n[2];return e[0]=r*l-a*s,e[1]=a*o-i*l,e[2]=i*s-r*o,e}([],y([],a[e[0]],a[e[1]]),y([],a[e[2]],a[e[1]]))),n=-((i=t)[0]*(r=a[e[1]])[0]+i[1]*r[1]+i[2]*r[2]);var i,r;return t.concat(n)}));return new pi(a,o)}}class gi{constructor(e,t){this.min=e,this.max=t,this.center=function(e,t,n){return e[0]=.5*t[0],e[1]=.5*t[1],e[2]=.5*t[2],e}([],function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}([],this.min,this.max))}quadrant(e){const t=[e%2==0,e<2],n=g(this.min),i=g(this.max);for(let r=0;r<t.length;r++)n[r]=t[r]?this.min[r]:this.center[r],i[r]=t[r]?this.center[r]:this.max[r];return i[2]=this.max[2],new gi(n,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersects(e){const n=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let i=!0;for(let r=0;r<e.planes.length;r++){const a=e.planes[r];let o=0;for(let e=0;e<n.length;e++)t.b2(a,n[e])>=0&&o++;if(0===o)return 0;o!==n.length&&(i=!1)}if(i)return 2;for(let t=0;t<3;t++){let n=Number.MAX_VALUE,i=-Number.MAX_VALUE;for(let r=0;r<e.points.length;r++){const a=e.points[r][t]-this.min[t];n=Math.min(n,a),i=Math.max(i,a)}if(i<0||n>this.max[t]-this.min[t])return 0}return 1}}class mi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=i}interpolate(e,n,i){return null!=n.top&&null!=e.top&&(this.top=t.z.number(e.top,n.top,i)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.z.number(e.bottom,n.bottom,i)),null!=n.left&&null!=e.left&&(this.left=t.z.number(e.left,n.left,i)),null!=n.right&&null!=e.right&&(this.right=t.z.number(e.right,n.right,i)),this}getCenter(e,n){const i=t.ad((this.left+e-this.right)/2,0,e),r=t.ad((this.top+n-this.bottom)/2,0,n);return new t.P(i,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new mi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const yi=85.051129;class vi{constructor(e,n,i,r,a){this.tileSize=512,this._renderWorldCopies=void 0===a||!!a,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new mi,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){const e=new vi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.apply(this),e}apply(e){this.tileSize=e.tileSize,this.latRange=e.latRange,this.width=e.width,this.height=e.height,this._center=e._center,this._elevation=e._elevation,this.minElevationForCurrentTile=e.minElevationForCurrentTile,this.zoom=e.zoom,this.angle=e.angle,this._fov=e._fov,this._pitch=e._pitch,this._unmodified=e._unmodified,this._edgeInsets=e._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new t.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(e){const n=-t.b3(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=function(){var e=new t.A(4);return t.A!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}(),function(e,t,n){var i=t[0],r=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=i*l+a*s,e[1]=r*l+o*s,e[2]=i*-s+a*l,e[3]=r*-s+o*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(e){const n=t.ad(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.tileZoom=Math.max(0,Math.floor(t)),this.scale=this.zoomScale(t),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(e){const n=[new t.b4(0,e)];if(this._renderWorldCopies){const i=this.pointCoordinate(new t.P(0,0)),r=this.pointCoordinate(new t.P(this.width,0)),a=this.pointCoordinate(new t.P(this.width,this.height)),o=this.pointCoordinate(new t.P(0,this.height)),s=Math.floor(Math.min(i.x,r.x,a.x,o.x)),l=Math.floor(Math.max(i.x,r.x,a.x,o.x)),u=1;for(let c=s-u;c<=l+u;c++)0!==c&&n.push(new t.b4(c,e))}return n}coveringTiles(e){var n,i;let r=this.coveringZoomLevel(e);const a=r;if(void 0!==e.minzoom&&r<e.minzoom)return[];void 0!==e.maxzoom&&r>e.maxzoom&&(r=e.maxzoom);const o=this.pointCoordinate(this.getCameraPoint()),s=t.Z.fromLngLat(this.center),l=Math.pow(2,r),u=[l*o.x,l*o.y,0],c=[l*s.x,l*s.y,0],h=pi.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,r);let d=e.minzoom||0;!e.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(d=r);const f=e.terrain?2/Math.min(this.tileSize,e.tileSize)*this.tileSize:3,p=e=>({aabb:new gi([e*l,0,0],[(e+1)*l,l,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),g=[],m=[],y=r,A=e.reparseOverscaled?a:r;if(this._renderWorldCopies)for(let t=1;t<=3;t++)g.push(p(-t)),g.push(p(t));for(g.push(p(0));g.length>0;){const r=g.pop(),a=r.x,o=r.y;let s=r.fullyVisible;if(!s){const e=r.aabb.intersects(h);if(0===e)continue;s=2===e}const l=e.terrain?u:c,p=r.aabb.distanceX(l),_=r.aabb.distanceY(l),x=Math.max(Math.abs(p),Math.abs(_));if(r.zoom===y||x>f+(1<<y-r.zoom)-2&&r.zoom>=d){const e=y-r.zoom,n=u[0]-.5-(a<<e),i=u[1]-.5-(o<<e);m.push({tileID:new t.S(r.zoom===y?A:r.zoom,r.wrap,r.zoom,a,o),distanceSq:v([c[0]-.5-a,c[1]-.5-o]),tileDistanceToCamera:Math.sqrt(n*n+i*i)})}else for(let u=0;u<4;u++){const l=(a<<1)+u%2,c=(o<<1)+(u>>1),h=r.zoom+1;let d=r.aabb.quadrant(u);if(e.terrain){const a=new t.S(h,r.wrap,h,l,c),o=e.terrain.getMinMaxElevation(a),s=null!==(n=o.minElevation)&&void 0!==n?n:this.elevation,u=null!==(i=o.maxElevation)&&void 0!==i?i:this.elevation;d=new gi([d.min[0],d.min[1],s],[d.max[0],d.max[1],u])}g.push({aabb:d,zoom:h,x:l,y:c,wrap:r.wrap,fullyVisible:s})}}return m.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(e){const n=t.ad(e.lat,-85.051129,yi);return new t.P(t.O(e.lng)*this.worldSize,t.Q(n)*this.worldSize)}unproject(e){return new t.Z(e.x/this.worldSize,e.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(e){const n=this.elevation,i=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,r=this.pointLocation(this.centerPoint,e),a=e.getElevationForLngLatZoom(r,this.tileZoom);if(!(this.elevation-a))return;const o=i+n-a,s=Math.cos(this._pitch)*this.cameraToCenterDistance/o/t.b5(1,r.lat),l=this.scaleZoom(s/this.tileSize);this._elevation=a,this._center=r,this.zoom=l}setLocationAtPoint(e,n){const i=this.pointCoordinate(n),r=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(e),o=new t.Z(a.x-(i.x-r.x),a.y-(i.y-r.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e,t){return t?this.coordinatePoint(this.locationCoordinate(e),t.getElevationForLngLatZoom(e,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(e))}pointLocation(e,t){return this.coordinateLocation(this.pointCoordinate(e,t))}locationCoordinate(e){return t.Z.fromLngLat(e)}coordinateLocation(e){return e&&e.toLngLat()}pointCoordinate(e,n){if(n){const t=n.pointCoordinate(e);if(null!=t)return t}const i=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.ag(i,i,this.pixelMatrixInverse),t.ag(r,r,this.pixelMatrixInverse);const a=i[3],o=r[3],s=i[1]/a,l=r[1]/o,u=i[2]/a,c=r[2]/o,h=u===c?0:(0-u)/(c-u);return new t.Z(t.z.number(i[0]/a,r[0]/o,h)/this.worldSize,t.z.number(s,l,h)/this.worldSize)}coordinatePoint(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pixelMatrix;const r=[e.x*this.worldSize,e.y*this.worldSize,n,1];return t.ag(r,r,i),new t.P(r[0]/r[3],r[1]/r[3])}getBounds(){const e=Math.max(0,this.height/2-this.getHorizon());return(new H).extend(this.pointLocation(new t.P(0,e))).extend(this.pointLocation(new t.P(this.width,e))).extend(this.pointLocation(new t.P(this.width,this.height))).extend(this.pointLocation(new t.P(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new H([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,yi])}calculateTileMatrix(e){const n=e.canonical,i=this.worldSize/this.zoomScale(n.z),r=n.x+Math.pow(2,n.z)*e.wrap,a=t.ao(new Float64Array(16));return t.J(a,a,[r*i,n.y*i,0]),t.K(a,a,[i/t.X,i/t.X,1]),a}calculatePosMatrix(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.key,r=n?this._alignedPosMatrixCache:this._posMatrixCache;if(r[i])return r[i];const a=this.calculateTileMatrix(e);return t.L(a,n?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,a),r[i]=new Float32Array(a),r[i]}calculateFogMatrix(e){const n=e.key,i=this._fogMatrixCache;if(i[n])return i[n];const r=this.calculateTileMatrix(e);return t.L(r,this.fogMatrix,r),i[n]=new Float32Array(r),i[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(e,n){n=t.ad(+n,this.minZoom,this.maxZoom);const i={center:new t.N(e.lng,e.lat),zoom:n};let r=this.lngRange;if(!this._renderWorldCopies&&null===r){const e=180-1e-10;r=[-e,e]}const a=this.tileSize*this.zoomScale(i.zoom);let o=0,s=a,l=0,u=a,c=0,h=0;const{x:d,y:f}=this.size;if(this.latRange){const e=this.latRange;o=t.Q(e[1])*a,s=t.Q(e[0])*a,s-o<f&&(c=f/(s-o))}r&&(l=t.b3(t.O(r[0])*a,0,a),u=t.b3(t.O(r[1])*a,0,a),u<l&&(u+=a),u-l<d&&(h=d/(u-l)));const{x:p,y:g}=this.project.call({worldSize:a},e);let m,y;const v=Math.max(h||0,c||0);if(v){const e=new t.P(h?(u+l)/2:p,c?(s+o)/2:g);return i.center=this.unproject.call({worldSize:a},e).wrap(),i.zoom+=this.scaleZoom(v),i}if(this.latRange){const e=f/2;g-e<o&&(y=o+e),g+e>s&&(y=s-e)}if(r){const e=(l+u)/2;let n=p;this._renderWorldCopies&&(n=t.b3(p,e-a/2,e+a/2));const i=d/2;n-i<l&&(m=l+i),n+i>u&&(m=u-i)}if(void 0!==m||void 0!==y){const e=new t.P(null!=m?m:p,null!=y?y:g);i.center=this.unproject.call({worldSize:a},e).wrap()}return i}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const e=this._unmodified,{center:t,zoom:n}=this.getConstrained(this.center,this.zoom);this.center=t,this.zoom=n,this._unmodified=e,this._constraining=!1}_calcMatrices(){if(!this.height)return;const e=this.centerOffset,n=this.point.x,i=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=t.b5(1,this.center.lat)*this.worldSize;let r=t.ao(new Float64Array(16));t.K(r,r,[this.width/2,-this.height/2,1]),t.J(r,r,[1,-1,0]),this.labelPlaneMatrix=r,r=t.ao(new Float64Array(16)),t.K(r,r,[1,-1,1]),t.J(r,r,[-1,-1,0]),t.K(r,r,[2/this.width,2/this.height,1]),this.glCoordMatrix=r;const a=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),o=Math.min(this.elevation,this.minElevationForCurrentTile),s=a-o*this._pixelPerMeter/Math.cos(this._pitch),l=o<0?s:a,u=Math.PI/2+this._pitch,c=this._fov*(.5+e.y/this.height),h=Math.sin(c)*l/Math.sin(t.ad(Math.PI-u-c,.01,Math.PI-.01)),d=this.getHorizon(),f=2*Math.atan(d/this.cameraToCenterDistance)*(.5+e.y/(2*d)),p=Math.sin(f)*l/Math.sin(t.ad(Math.PI-u-f,.01,Math.PI-.01)),g=Math.min(h,p),m=1.01*(Math.cos(Math.PI/2-this._pitch)*g+l),y=this.height/50;r=new Float64Array(16),t.b6(r,this._fov,this.width/this.height,y,m),r[8]=2*-e.x/this.width,r[9]=2*e.y/this.height,t.K(r,r,[1,-1,1]),t.J(r,r,[0,0,-this.cameraToCenterDistance]),t.b7(r,r,this._pitch),t.ae(r,r,this.angle),t.J(r,r,[-n,-i,0]),this.mercatorMatrix=t.K([],r,[this.worldSize,this.worldSize,this.worldSize]),t.K(r,r,[1,1,this._pixelPerMeter]),this.pixelMatrix=t.L(new Float64Array(16),this.labelPlaneMatrix,r),t.J(r,r,[0,0,-this.elevation]),this.modelViewProjectionMatrix=r,this.invModelViewProjectionMatrix=t.at([],r),this.fogMatrix=new Float64Array(16),t.b6(this.fogMatrix,this._fov,this.width/this.height,a,m),this.fogMatrix[8]=2*-e.x/this.width,this.fogMatrix[9]=2*e.y/this.height,t.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),t.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),t.b7(this.fogMatrix,this.fogMatrix,this._pitch),t.ae(this.fogMatrix,this.fogMatrix,this.angle),t.J(this.fogMatrix,this.fogMatrix,[-n,-i,0]),t.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),t.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=t.L(new Float64Array(16),this.labelPlaneMatrix,r);const v=this.width%2/2,A=this.height%2/2,_=Math.cos(this.angle),x=Math.sin(this.angle),b=n-Math.round(n)+_*v+x*A,w=i-Math.round(i)+_*A+x*v,E=new Float64Array(r);if(t.J(E,E,[b>.5?b-1:b,w>.5?w-1:w,0]),this.alignedModelViewProjectionMatrix=E,r=t.at(new Float64Array(16),this.pixelMatrix),!r)throw new Error("failed to invert matrix");this.pixelMatrixInverse=r,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const e=this.pointCoordinate(new t.P(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.ag(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.P(0,e))}getCameraQueryGeometry(e){const n=this.getCameraPoint();if(1===e.length)return[e[0],n];{let i=n.x,r=n.y,a=n.x,o=n.y;for(const t of e)i=Math.min(i,t.x),r=Math.min(r,t.y),a=Math.max(a,t.x),o=Math.max(o,t.y);return[new t.P(i,r),new t.P(a,r),new t.P(a,o),new t.P(i,o),new t.P(i,r)]}}lngLatToCameraDepth(e,n){const i=this.locationCoordinate(e),r=[i.x*this.worldSize,i.y*this.worldSize,n,1];return t.ag(r,r,this.modelViewProjectionMatrix),r[2]/r[3]}}function Ai(e,t){var n=this;let i,r=!1,a=null,o=null;const s=()=>{a=null,r&&(e.apply(o,i),a=setTimeout(s,t),r=!1)};return function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return r=!0,o=n,i=t,a||s(),a}}class _i{constructor(e){this._getCurrentHash=()=>{const e=window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map((e=>e.split("="))).forEach((e=>{e[0]===this._hashName&&(t=e)})),(t&&t[1]||"").split("/")}return e.split("/")},this._onHashChange=()=>{const e=this._getCurrentHash();if(e.length>=3&&!e.some((e=>isNaN(e)))){const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const e=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,e)}catch(e){}},this._updateHash=Ai(this._updateHashUnthrottled,300),this._hashName=e&&encodeURIComponent(e)}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){const t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),r=Math.pow(10,i),a=Math.round(t.lng*r)/r,o=Math.round(t.lat*r)/r,s=this._map.getBearing(),l=this._map.getPitch();let u="";if(u+=e?"/".concat(a,"/").concat(o,"/").concat(n):"".concat(n,"/").concat(o,"/").concat(a),(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/".concat(Math.round(l))),this._hashName){const e=this._hashName;let t=!1;const n=window.location.hash.slice(1).split("&").map((n=>{const i=n.split("=")[0];return i===e?(t=!0,"".concat(i,"=").concat(u)):n})).filter((e=>e));return t||n.push("".concat(e,"=").concat(u)),"#".concat(n.join("&"))}return"#".concat(u)}}const xi={linearity:.3,easing:t.b8(0,0,.3,1)},bi=t.e({deceleration:2500,maxSpeed:1400},xi),wi=t.e({deceleration:20,maxSpeed:1400},xi),Ei=t.e({deceleration:1e3,maxSpeed:360},xi),Ii=t.e({deceleration:1e3,maxSpeed:90},xi);class Ci{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,t=a.now();for(;e.length>0&&t-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new t.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:t}of this._inertiaBuffer)n.zoom+=t.zoomDelta||0,n.bearing+=t.bearingDelta||0,n.pitch+=t.pitchDelta||0,t.panDelta&&n.pan._add(t.panDelta),t.around&&(n.around=t.around),t.pinchAround&&(n.pinchAround=t.pinchAround);const i=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(n.pan.mag()){const a=Si(n.pan.mag(),i,t.e({},bi,e||{}));r.offset=n.pan.mult(a.amount/n.pan.mag()),r.center=this._map.transform.center,ki(r,a)}if(n.zoom){const e=Si(n.zoom,i,wi);r.zoom=this._map.transform.zoom+e.amount,ki(r,e)}if(n.bearing){const e=Si(n.bearing,i,Ei);r.bearing=this._map.transform.bearing+t.ad(e.amount,-179,179),ki(r,e)}if(n.pitch){const e=Si(n.pitch,i,Ii);r.pitch=this._map.transform.pitch+e.amount,ki(r,e)}if(r.zoom||r.bearing){const e=void 0===n.pinchAround?n.around:n.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),t.e(r,{noMoveStart:!0})}}function ki(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Si(e,n,i){const{maxSpeed:r,linearity:a,deceleration:o}=i,s=t.ad(e*a/(n/1e3),-r,r),l=Math.abs(s)/(o*a);return{easing:i.easing,duration:1e3*l,amount:s*(l/2)}}class Ti extends t.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=o.mousePos(n.getCanvas(),i),s=n.unproject(a);super(e,t.e({point:a,lngLat:s,originalEvent:i},r)),this._defaultPrevented=!1,this.target=n}}class Pi extends t.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,i){const r="touchend"===e?i.changedTouches:i.touches,a=o.touchPos(n.getCanvasContainer(),r),s=a.map((e=>n.unproject(e))),l=a.reduce(((e,t,n,i)=>e.add(t.div(i.length))),new t.P(0,0));super(e,{points:a,point:l,lngLats:s,lngLat:n.unproject(l),originalEvent:i}),this._defaultPrevented=!1}}class Ni extends t.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}}class Mi{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new Ni(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new Ti(e.type,this._map,e))}mouseup(e){this._map.fire(new Ti(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Ti(e.type,this._map,e))}dblclick(e){return this._firePreventable(new Ti(e.type,this._map,e))}mouseover(e){this._map.fire(new Ti(e.type,this._map,e))}mouseout(e){this._map.fire(new Ti(e.type,this._map,e))}touchstart(e){return this._firePreventable(new Pi(e.type,this._map,e))}touchmove(e){this._map.fire(new Pi(e.type,this._map,e))}touchend(e){this._map.fire(new Pi(e.type,this._map,e))}touchcancel(e){this._map.fire(new Pi(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Bi{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new Ti(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ti("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new Ti(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Li{constructor(e){this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.pointLocation(t.P.convert(e),this._map.terrain)}}class Ri{constructor(e,t){this._map=e,this._tr=new Li(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(o.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const n=t;if(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)return;const i=this._startPos;this._lastPos=n,this._box||(this._box=o.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e));const r=Math.min(i.x,n.x),a=Math.max(i.x,n.x),s=Math.min(i.y,n.y),l=Math.max(i.y,n.y);o.setTransform(this._box,"translate(".concat(r,"px,").concat(s,"px)")),this._box.style.width=a-r+"px",this._box.style.height=l-s+"px"}mouseupWindow(e,n){if(!this._active)return;if(0!==e.button)return;const i=this._startPos,r=n;if(this.reset(),o.suppressClick(),i.x!==r.x||i.y!==r.y)return this._map.fire(new t.k("boxzoomend",{originalEvent:e})),{cameraAnimation:e=>e.fitScreenCoordinates(i,r,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",e)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(o.remove(this._box),this._box=null),o.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,n){return this._map.fire(new t.k(e,{originalEvent:n}))}}function zi(e,t){if(e.length!==t.length)throw new Error("The number of touches and points are not equal - touches ".concat(e.length,", points ").concat(t.length));const n={};for(let i=0;i<e.length;i++)n[e[i].identifier]=t[i];return n}class Oi{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,n,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),i.length===this.numTouches&&(this.centroid=function(e){const n=new t.P(0,0);for(const t of e)n._add(t);return n.div(e.length)}(n),this.touches=zi(i,n)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const i=zi(n,t);for(const r in this.touches){const e=i[r];(!e||e.dist(this.touches[r])>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class Di{constructor(e){this.singleTap=new Oi(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const i=this.singleTap.touchend(e,t,n);if(i){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(i)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=i,this.count===this.numTaps)return this.reset(),i}}}class Fi{constructor(e){this._tr=new Li(e),this._zoomIn=new Di({numTouches:1,numTaps:2}),this._zoomOut=new Di({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const i=this._zoomIn.touchend(e,t,n),r=this._zoomOut.touchend(e,t,n),a=this._tr;return i?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:a.zoom+1,around:a.unproject(i)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:a.zoom-1,around:a.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ji{constructor(e){this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(){const e=this._moveFunction(...arguments);if(e.bearingDelta||e.pitchDelta||e.around||e.panDelta)return this._active=!0,e}dragStart(e,t){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=t.length?t[0]:t,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e,t){if(!this.isEnabled())return;const n=this._lastPoint;if(!n)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e))return void this.reset(e);const i=t.length?t[0]:t;return!this._moved&&i.dist(n)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=i,this._move(n,i))}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&o.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Qi={0:1,2:2};class Ui{constructor(e){this._correctEvent=e.checkCorrectEvent}startMove(e){const t=o.mouseButton(e);this._eventButton=t}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!function(e,t){const n=Qi[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton)}isValidEndEvent(e){return o.mouseButton(e)===this._eventButton}}class Vi{constructor(){this._firstTouch=void 0}_isOneFingerTouch(e){return 1===e.targetTouches.length}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){this._firstTouch=e.targetTouches[0].identifier}endMove(e){delete this._firstTouch}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}const qi=e=>{e.mousedown=e.dragStart,e.mousemoveWindow=e.dragMove,e.mouseup=e.dragEnd,e.contextmenu=e=>{e.preventDefault()}},Gi=e=>{let{enable:t,clickTolerance:n,bearingDegreesPerPixelMoved:i=.8}=e;const r=new Ui({checkCorrectEvent:e=>0===o.mouseButton(e)&&e.ctrlKey||2===o.mouseButton(e)});return new ji({clickTolerance:n,move:(e,t)=>({bearingDelta:(t.x-e.x)*i}),moveStateManager:r,enable:t,assignEvents:qi})},Hi=e=>{let{enable:t,clickTolerance:n,pitchDegreesPerPixelMoved:i=-.5}=e;const r=new Ui({checkCorrectEvent:e=>0===o.mouseButton(e)&&e.ctrlKey||2===o.mouseButton(e)});return new ji({clickTolerance:n,move:(e,t)=>({pitchDelta:(t.y-e.y)*i}),moveStateManager:r,enable:t,assignEvents:qi})};class Xi{constructor(e,t){this._clickTolerance=e.clickTolerance||1,this._map=t,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new t.P(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(e,t,n){if(this._active&&!(n.length<this.minTouchs()))return e.preventDefault(),this._calculateTransform(e,t,n)}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,n,i){i.length>0&&(this._active=!0);const r=zi(i,n),a=new t.P(0,0),o=new t.P(0,0);let s=0;for(const t in r){const e=r[t],n=this._touches[t];n&&(a._add(e),o._add(e.sub(n)),s++,r[t]=e)}if(this._touches=r,s<this.minTouchs()||!o.mag())return;const l=o.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:a.div(s),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Wi{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){if(!this._firstTwoTouches)return;e.preventDefault();const[i,r]=this._firstTwoTouches,a=Yi(n,t,i),o=Yi(n,t,r);if(!a||!o)return;const s=this._aroundCenter?null:a.add(o).div(2);return this._move([a,o],s,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;const[i,r]=this._firstTwoTouches,a=Yi(n,t,i),s=Yi(n,t,r);a&&s||(this._active&&o.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Yi(e,t,n){for(let i=0;i<e.length;i++)if(e[i].identifier===n)return t[i]}function Zi(e,t){return Math.log(e/t)/Math.LN2}class Ki extends Wi{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Zi(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Zi(this._distance,n),pinchAround:t}}}function Ji(e,t){return 180*e.angleWith(t)/Math.PI}class $i extends Wi{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t,n){const i=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ji(this._vector,i),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=Ji(e,this._startVector);return Math.abs(n)<t}}function er(e){return Math.abs(e.y)>Math.abs(e.x)}class tr extends Wi{constructor(e){super(),this._currentTouchCount=0,this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,t,n){super.touchstart(e,t,n),this._currentTouchCount=n.length}_start(e){this._lastPoints=e,er(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,n){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const i=e[0].sub(this._lastPoints[0]),r=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(i,r,n.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(i.y+r.y)/2*-.5}):void 0}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const i=e.mag()>=2,r=t.mag()>=2;if(!i&&!r)return;if(!i||!r)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const a=e.y>0==t.y>0;return er(e)&&er(t)&&a}}const nr={panStep:100,bearingStep:15,pitchStep:10};class ir{constructor(e){this._tr=new Li(e);const t=nr;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,i=0,r=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(n=0,i=0),{cameraAnimation:o=>{const s=this._tr;o.easeTo({duration:300,easeId:"keyboardHandler",easing:rr,zoom:t?Math.round(s.zoom)+t*(e.shiftKey?2:1):s.zoom,bearing:s.bearing+n*this._bearingStep,pitch:s.pitch+i*this._pitchStep,offset:[-r*this._panStep,-a*this._panStep],center:s.center},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function rr(e){return e*(2-e)}const ar=4.000244140625;class or{constructor(e,t){this._onTimeout=e=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},this._map=e,this._tr=new Li(e),this._triggerRenderFrame=t,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(e){if(!this.isEnabled())return;if(this._map.cooperativeGestures.isEnabled()&&!e[this._map.cooperativeGestures._bypassKey])return;let t=e.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const n=a.now(),i=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==t&&t%ar==0?this._type="wheel":0!==t&&Math.abs(t)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*t)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&(this._lastWheelEvent=e,this._delta-=t,this._active||this._start(e)),e.preventDefault()}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const n=o.mousePos(this._map.getCanvas(),e),i=this._tr;this._around=n.y>i.transform.height/2-i.transform.getHorizon()?t.N.convert(this._aroundCenter?i.center:i.unproject(n)):t.N.convert(i.center),this._aroundPoint=i.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const e=this._tr.transform;if(0!==this._delta){const t="wheel"===this._type&&Math.abs(this._delta)>ar?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*t)));this._delta<0&&0!==n&&(n=1/n);const i="number"==typeof this._targetZoom?e.zoomScale(this._targetZoom):e.scale;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(i*n))),"wheel"===this._type&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:e.zoom,i=this._startZoom,r=this._easing;let o,s=!1;if("wheel"===this._type&&i&&r){const e=Math.min((a.now()-this._lastWheelEventTime)/200,1),l=r(e);o=t.z.number(i,n,l),e<1?this._frameId||(this._frameId=!0):s=!0}else o=n,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:o-e.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let n=t.b9;if(this._prevEase){const e=this._prevEase,i=(a.now()-e.start)/e.duration,r=e.easing(i+.01)-e.easing(i),o=.27/Math.sqrt(r*r+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=t.b8(o,s,.25,1)}return this._prevEase={start:a.now(),duration:e,easing:n},n}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class sr{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class lr{constructor(e){this._tr=new Li(e),this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ur{constructor(){this._tap=new Di({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,t,n){if(!this._swipePoint)if(this._tapTime){const i=t[0],r=e.timeStamp-this._tapTime<500,a=this._tapPoint.dist(i)<30;r&&a?n.length>0&&(this._swipePoint=i,this._swipeTouch=n[0].identifier):this.reset()}else this._tap.touchstart(e,t,n)}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const i=t[0],r=i.y-this._swipePoint.y;return this._swipePoint=i,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){if(this._tapTime)this._swipePoint&&0===n.length&&this.reset();else{const i=this._tap.touchend(e,t,n);i&&(this._tapTime=e.timeStamp,this._tapPoint=i)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class cr{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class hr{constructor(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class dr{constructor(e,t,n,i){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class fr{constructor(e,t){this._bypassKey=-1!==navigator.userAgent.indexOf("Mac")?"metaKey":"ctrlKey",this._map=e,this._options=t,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const e=this._map.getCanvasContainer();e.classList.add("maplibregl-cooperative-gestures"),this._container=o.create("div","maplibregl-cooperative-gesture-screen",e);let t=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");"metaKey"===this._bypassKey&&(t=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const n=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),i=document.createElement("div");i.className="maplibregl-desktop-message",i.textContent=t,this._container.appendChild(i);const r=document.createElement("div");r.className="maplibregl-mobile-message",r.textContent=n,this._container.appendChild(r),this._container.setAttribute("aria-hidden","true")}_destoryUI(){this._container&&(o.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(e){this._onCooperativeGesture(1===e.touches.length)}wheel(e){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!e[this._bypassKey])}_onCooperativeGesture(e){this._enabled&&e&&(this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const pr=e=>e.zoom||e.drag||e.pitch||e.rotate;class gr extends t.k{}function mr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class yr{constructor(e,t){this.handleWindowEvent=e=>{this.handleEvent(e,"".concat(e.type,"Window"))},this.handleEvent=(e,t)=>{if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const n="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},r={},a={},s=e.touches,l=s?this._getMapTouches(s):void 0,u=l?o.touchPos(this._map.getCanvas(),l):o.mousePos(this._map.getCanvas(),e);for(const{handlerName:o,handler:d,allowed:f}of this._handlers){if(!d.isEnabled())continue;let s;this._blockedByActive(a,f,o)?d.reset():d[t||e.type]&&(s=d[t||e.type](e,u,l),this.mergeHandlerResult(i,r,s,o,n),s&&s.needsRenderFrame&&this._triggerRenderFrame()),(s||d.isActive())&&(a[o]=d)}const c={};for(const o in this._previousActiveHandlers)a[o]||(c[o]=n);this._previousActiveHandlers=a,(Object.keys(c).length||mr(i))&&(this._changes.push([i,r,c]),this._triggerRenderFrame()),(Object.keys(a).length||mr(i))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=i;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map))},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ci(e),this._bearingSnap=t.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(t);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[window,"blur",void 0]];for(const[i,r,a]of this._listeners)o.addEventListener(i,r,i===document?this.handleWindowEvent:this.handleEvent,a)}destroy(){for(const[e,t,n]of this._listeners)o.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){const t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new Mi(t,e));const i=t.boxZoom=new Ri(t,e);this._add("boxZoom",i),e.interactive&&e.boxZoom&&i.enable();const r=t.cooperativeGestures=new fr(t,e.cooperativeGestures);this._add("cooperativeGestures",r),e.cooperativeGestures&&r.enable();const a=new Fi(t),s=new lr(t);t.doubleClickZoom=new sr(s,a),this._add("tapZoom",a),this._add("clickZoom",s),e.interactive&&e.doubleClickZoom&&t.doubleClickZoom.enable();const l=new ur;this._add("tapDragZoom",l);const u=t.touchPitch=new tr(t);this._add("touchPitch",u),e.interactive&&e.touchPitch&&t.touchPitch.enable(e.touchPitch);const c=Gi(e),h=Hi(e);t.dragRotate=new hr(e,c,h),this._add("mouseRotate",c,["mousePitch"]),this._add("mousePitch",h,["mouseRotate"]),e.interactive&&e.dragRotate&&t.dragRotate.enable();const d=(e=>{let{enable:t,clickTolerance:n}=e;const i=new Ui({checkCorrectEvent:e=>0===o.mouseButton(e)&&!e.ctrlKey});return new ji({clickTolerance:n,move:(e,t)=>({around:t,panDelta:t.sub(e)}),activateOnStart:!0,moveStateManager:i,enable:t,assignEvents:qi})})(e),f=new Xi(e,t);t.dragPan=new cr(n,d,f),this._add("mousePan",d),this._add("touchPan",f,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&t.dragPan.enable(e.dragPan);const p=new $i,g=new Ki;t.touchZoomRotate=new dr(n,g,p,l),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",g,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&t.touchZoomRotate.enable(e.touchZoomRotate);const m=t.scrollZoom=new or(t,(()=>this._triggerRenderFrame()));this._add("scrollZoom",m,["mousePan"]),e.interactive&&e.scrollZoom&&t.scrollZoom.enable(e.scrollZoom);const y=t.keyboard=new ir(t);this._add("keyboard",y),e.interactive&&e.keyboard&&t.keyboard.enable(),this._add("blockableMapEvent",new Bi(t))}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(pr(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,n){for(const i in e)if(i!==n&&(!t||t.indexOf(i)<0))return!0;return!1}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}mergeHandlerResult(e,n,i,r,a){if(!i)return;t.e(e,i);const o={handlerName:r,originalEvent:i.originalEvent||a};void 0!==i.zoomDelta&&(n.zoom=o),void 0!==i.panDelta&&(n.drag=o),void 0!==i.pitchDelta&&(n.pitch=o),void 0!==i.bearingDelta&&(n.rotate=o)}_applyChanges(){const e={},n={},i={};for(const[r,a,o]of this._changes)r.panDelta&&(e.panDelta=(e.panDelta||new t.P(0,0))._add(r.panDelta)),r.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(e.around=r.around),void 0!==r.pinchAround&&(e.pinchAround=r.pinchAround),r.noInertia&&(e.noInertia=r.noInertia),t.e(n,a),t.e(i,o);this._updateMapTransform(e,n,i),this._changes=[]}_updateMapTransform(e,t,n){const i=this._map,r=i._getTransformForUpdate(),a=i.terrain;if(!(mr(e)||a&&this._terrainMovement))return this._fireEvents(t,n,!0);let{panDelta:o,zoomDelta:s,bearingDelta:l,pitchDelta:u,around:c,pinchAround:h}=e;void 0!==h&&(c=h),i._stop(!0),c=c||i.transform.centerPoint;const d=r.pointLocation(o?c.sub(o):c);l&&(r.bearing+=l),u&&(r.pitch+=u),s&&(r.zoom+=s),a?this._terrainMovement||!t.drag&&!t.zoom?t.drag&&this._terrainMovement?r.center=r.pointLocation(r.centerPoint.sub(o)):r.setLocationAtPoint(d,c):(this._terrainMovement=!0,this._map._elevationFreeze=!0,r.setLocationAtPoint(d,c)):r.setLocationAtPoint(d,c),i._applyUpdatedTransform(r),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)}_fireEvents(e,n,i){const r=pr(this._eventsInProgress),o=pr(e),s={};for(const t in e){const{originalEvent:n}=e[t];this._eventsInProgress[t]||(s["".concat(t,"start")]=n),this._eventsInProgress[t]=e[t]}!r&&o&&this._fireEvent("movestart",o.originalEvent);for(const t in s)this._fireEvent(t,s[t]);o&&this._fireEvent("move",o.originalEvent);for(const t in e){const{originalEvent:n}=e[t];this._fireEvent(t,n)}const l={};let u;for(const t in this._eventsInProgress){const{handlerName:e,originalEvent:i}=this._eventsInProgress[t];this._handlersById[e].isActive()||(delete this._eventsInProgress[t],u=n[e]||i,l["".concat(t,"end")]=u)}for(const t in l)this._fireEvent(t,l[t]);const c=pr(this._eventsInProgress),h=(r||o)&&!c;if(h&&this._terrainMovement&&(this._map._elevationFreeze=!1,this._terrainMovement=!1,this._map.transform.recalculateZoom(this._map.terrain)),i&&h){this._updatingCamera=!0;const e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;!e||!e.essential&&a.prefersReducedMotion?(this._map.fire(new t.k("moveend",{originalEvent:u})),n(this._map.getBearing())&&this._map.resetNorth()):(n(e.bearing||this._map.getBearing())&&(e.bearing=0),e.freezeElevation=!0,this._map.easeTo(e,{originalEvent:u})),this._updatingCamera=!1}}_fireEvent(e,n){this._map.fire(new t.k(e,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{delete this._frameId,this.handleEvent(new gr("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class vr extends t.E{constructor(e,t){super(),this._renderFrameCallback=()=>{const e=Math.min((a.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=t.bearingSnap,this.on("moveend",(()=>{delete this._requestedCameraState}))}getCenter(){return new t.N(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(e,n,i){return e=t.P.convert(e).mult(-1),this.panTo(this.transform.center,t.e({offset:e},n),i)}panTo(e,n,i){return this.easeTo(t.e({center:e},n),i)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(e,n,i){return this.easeTo(t.e({zoom:e},n),i)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(e,n,i){return this.easeTo(t.e({bearing:e},n),i)}resetNorth(e,n){return this.rotateTo(0,t.e({duration:1e3},e),n),this}resetNorthPitch(e,n){return this.easeTo(t.e({bearing:0,pitch:0,duration:1e3},e),n),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(e,t){e=H.convert(e);const n=t&&t.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),n,t)}_cameraForBoxAndBearing(e,n,i,r){const a={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=t.e({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){const e=r.padding;r.padding={top:e,bottom:e,right:e,left:e}}r.padding=t.e(a,r.padding);const o=this.transform,s=o.padding,l=new H(e,n),u=o.project(l.getNorthWest()),c=o.project(l.getNorthEast()),h=o.project(l.getSouthEast()),d=o.project(l.getSouthWest()),f=t.ba(-i),p=u.rotate(f),g=c.rotate(f),m=h.rotate(f),y=d.rotate(f),v=new t.P(Math.max(p.x,g.x,y.x,m.x),Math.max(p.y,g.y,y.y,m.y)),A=new t.P(Math.min(p.x,g.x,y.x,m.x),Math.min(p.y,g.y,y.y,m.y)),_=v.sub(A),x=(o.width-(s.left+s.right+r.padding.left+r.padding.right))/_.x,b=(o.height-(s.top+s.bottom+r.padding.top+r.padding.bottom))/_.y;if(b<0||x<0)return void t.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const w=Math.min(o.scaleZoom(o.scale*Math.min(x,b)),r.maxZoom),E=t.P.convert(r.offset),I=new t.P((r.padding.left-r.padding.right)/2,(r.padding.top-r.padding.bottom)/2).rotate(t.ba(i)),C=E.add(I).mult(o.scale/o.zoomScale(w));return{center:o.unproject(u.add(h).div(2).sub(C)),zoom:w,bearing:i}}fitBounds(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)}fitScreenCoordinates(e,n,i,r,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.P.convert(e)),this.transform.pointLocation(t.P.convert(n)),i,r),r,a)}_fitInternal(e,n,i){return e?(delete(n=t.e(e,n)).padding,n.linear?this.easeTo(n,i):this.flyTo(n,i)):this}jumpTo(e,n){this.stop();const i=this._getTransformForUpdate();let r=!1,a=!1,o=!1;return"zoom"in e&&i.zoom!==+e.zoom&&(r=!0,i.zoom=+e.zoom),void 0!==e.center&&(i.center=t.N.convert(e.center)),"bearing"in e&&i.bearing!==+e.bearing&&(a=!0,i.bearing=+e.bearing),"pitch"in e&&i.pitch!==+e.pitch&&(o=!0,i.pitch=+e.pitch),null==e.padding||i.isPaddingEqual(e.padding)||(i.padding=e.padding),this._applyUpdatedTransform(i),this.fire(new t.k("movestart",n)).fire(new t.k("move",n)),r&&this.fire(new t.k("zoomstart",n)).fire(new t.k("zoom",n)).fire(new t.k("zoomend",n)),a&&this.fire(new t.k("rotatestart",n)).fire(new t.k("rotate",n)).fire(new t.k("rotateend",n)),o&&this.fire(new t.k("pitchstart",n)).fire(new t.k("pitch",n)).fire(new t.k("pitchend",n)),this.fire(new t.k("moveend",n))}calculateCameraOptionsFromTo(e,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a=t.Z.fromLngLat(e,n),o=t.Z.fromLngLat(i,r),s=o.x-a.x,l=o.y-a.y,u=o.z-a.z,c=Math.hypot(s,l,u);if(0===c)throw new Error("Can't calculate camera options with same From and To");const h=Math.hypot(s,l),d=this.transform.scaleZoom(this.transform.cameraToCenterDistance/c/this.transform.tileSize),f=180*Math.atan2(s,-l)/Math.PI;let p=180*Math.acos(h/c)/Math.PI;return p=u<0?90-p:90+p,{center:o.toLngLat(),zoom:d,pitch:p,bearing:f}}easeTo(e,n){var i;this._stop(!1,e.easeId),(!1===(e=t.e({offset:[0,0],duration:500,easing:t.b9},e)).animate||!e.essential&&a.prefersReducedMotion)&&(e.duration=0);const r=this._getTransformForUpdate(),o=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="bearing"in e?this._normalizeBearing(e.bearing,s):s,h="pitch"in e?+e.pitch:l,d="padding"in e?e.padding:r.padding,f=t.P.convert(e.offset);let p=r.centerPoint.add(f);const g=r.pointLocation(p),{center:m,zoom:y}=r.getConstrained(t.N.convert(e.center||g),null!==(i=e.zoom)&&void 0!==i?i:o);this._normalizeCenter(m);const v=r.project(g),A=r.project(m).sub(v),_=r.zoomScale(y-o);let x,b;e.around&&(x=t.N.convert(e.around),b=r.locationPoint(x));const w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||y!==o,this._rotating=this._rotating||s!==c,this._pitching=this._pitching||h!==l,this._padding=!r.isPaddingEqual(d),this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,w),this.terrain&&this._prepareElevation(m),this._ease((i=>{if(this._zooming&&(r.zoom=t.z.number(o,y,i)),this._rotating&&(r.bearing=t.z.number(s,c,i)),this._pitching&&(r.pitch=t.z.number(l,h,i)),this._padding&&(r.interpolatePadding(u,d,i),p=r.centerPoint.add(f)),this.terrain&&!e.freezeElevation&&this._updateElevation(i),x)r.setLocationAtPoint(x,b);else{const e=r.zoomScale(r.zoom-o),t=y>o?Math.min(2,_):Math.max(.5,_),n=Math.pow(t,1-i),a=r.unproject(v.add(A.mult(i*n)).mult(e));r.setLocationAtPoint(r.renderWorldCopies?a.wrap():a,p)}this._applyUpdatedTransform(r),this._fireMoveEvents(n)}),(t=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(n,t)}),e),this}_prepareEase(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,n||i.moving||this.fire(new t.k("movestart",e)),this._zooming&&!i.zooming&&this.fire(new t.k("zoomstart",e)),this._rotating&&!i.rotating&&this.fire(new t.k("rotatestart",e)),this._pitching&&!i.pitching&&this.fire(new t.k("pitchstart",e))}_prepareElevation(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(e){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const n=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(e<1&&n!==this._elevationTarget){const t=this._elevationTarget-this._elevationStart;this._elevationStart+=e*(t-(n-(t*e+this._elevationStart))/(1-e)),this._elevationTarget=n}this.transform.elevation=t.z.number(this._elevationStart,this._elevationTarget,e)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(e){if(!this.transformCameraUpdate)return;const t=e.clone(),{center:n,zoom:i,pitch:r,bearing:a,elevation:o}=this.transformCameraUpdate(t);n&&(t.center=n),void 0!==i&&(t.zoom=i),void 0!==r&&(t.pitch=r),void 0!==a&&(t.bearing=a),void 0!==o&&(t.elevation=o),this.transform.apply(t)}_fireMoveEvents(e){this.fire(new t.k("move",e)),this._zooming&&this.fire(new t.k("zoom",e)),this._rotating&&this.fire(new t.k("rotate",e)),this._pitching&&this.fire(new t.k("pitch",e))}_afterEase(e,n){if(this._easeId&&n&&this._easeId===n)return;delete this._easeId;const i=this._zooming,r=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new t.k("zoomend",e)),r&&this.fire(new t.k("rotateend",e)),a&&this.fire(new t.k("pitchend",e)),this.fire(new t.k("moveend",e))}flyTo(e,n){var i;if(!e.essential&&a.prefersReducedMotion){const i=t.M(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),e=t.e({offset:[0,0],speed:1.2,curve:1.42,easing:t.b9},e);const r=this._getTransformForUpdate(),o=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="bearing"in e?this._normalizeBearing(e.bearing,s):s,h="pitch"in e?+e.pitch:l,d="padding"in e?e.padding:r.padding,f=t.P.convert(e.offset);let p=r.centerPoint.add(f);const g=r.pointLocation(p),{center:m,zoom:y}=r.getConstrained(t.N.convert(e.center||g),null!==(i=e.zoom)&&void 0!==i?i:o);this._normalizeCenter(m);const v=r.zoomScale(y-o),A=r.project(g),_=r.project(m).sub(A);let x=e.curve;const b=Math.max(r.width,r.height),w=b/v,E=_.mag();if("minZoom"in e){const n=t.ad(Math.min(e.minZoom,o,y),r.minZoom,r.maxZoom),i=b/r.zoomScale(n-o);x=Math.sqrt(i/E*2)}const I=x*x;function C(e){const t=(w*w-b*b+(e?-1:1)*I*I*E*E)/(2*(e?w:b)*I*E);return Math.log(Math.sqrt(t*t+1)-t)}function k(e){return(Math.exp(e)-Math.exp(-e))/2}function S(e){return(Math.exp(e)+Math.exp(-e))/2}const T=C(!1);let P=function(e){return S(T)/S(T+x*e)},N=function(e){return b*((S(T)*(k(t=T+x*e)/S(t))-k(T))/I)/E;var t},M=(C(!0)-T)/x;if(Math.abs(E)<1e-6||!isFinite(M)){if(Math.abs(b-w)<1e-6)return this.easeTo(e,n);const t=w<b?-1:1;M=Math.abs(Math.log(w/b))/x,N=()=>0,P=e=>Math.exp(t*x*e)}return e.duration="duration"in e?+e.duration:1e3*M/("screenSpeed"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==c,this._pitching=h!==l,this._padding=!r.isPaddingEqual(d),this._prepareEase(n,!1),this.terrain&&this._prepareElevation(m),this._ease((i=>{const a=i*M,g=1/P(a);r.zoom=1===i?y:o+r.scaleZoom(g),this._rotating&&(r.bearing=t.z.number(s,c,i)),this._pitching&&(r.pitch=t.z.number(l,h,i)),this._padding&&(r.interpolatePadding(u,d,i),p=r.centerPoint.add(f)),this.terrain&&!e.freezeElevation&&this._updateElevation(i);const v=1===i?m:r.unproject(A.add(_.mult(N(a))).mult(g));r.setLocationAtPoint(r.renderWorldCopies?v.wrap():v,p),this._applyUpdatedTransform(r),this._fireMoveEvents(n)}),(()=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(n)}),e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){var n;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}return e||null===(n=this.handlers)||void 0===n||n.stop(!1),this}_ease(e,t,n){!1===n.animate||0===n.duration?(e(1),t()):(this._easeStart=a.now(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=t,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e,n){e=t.b3(e,-180,180);const i=Math.abs(e-n);return Math.abs(e-360-n)<i&&(e-=360),Math.abs(e+360-n)<i&&(e+=360),e}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.lngRange)return;const n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}queryTerrainElevation(e){return this.terrain?this.terrain.getElevationForLngLatZoom(t.N.convert(e),this.transform.tileZoom)-this.transform.elevation:null}}const Ar={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class _r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar;this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=e=>{!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType&&"terrain"!==e.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=e}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options.compact,this._container=o.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=o.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){o.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString("AttributionControl.".concat(t));e.title=n,e.setAttribute("aria-label",n)}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((e=>"string"!=typeof e?"":e))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style.sourceCaches;for(const i in t){const n=t[i];if(n.used||n.usedForTerrain){const t=n.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e=e.filter((e=>String(e).trim())),e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,n)=>{for(let i=n+1;i<e.length;i++)if(e[i].indexOf(t)>=0)return!1;return!0}));const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class xr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._updateCompact=()=>{const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&t.classList.add("maplibregl-compact"):t.classList.remove("maplibregl-compact")}},this.options=e}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=o.create("div","maplibregl-ctrl");const t=o.create("a","maplibregl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){o.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class br{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const i of n)if(i.id===e)return void(i.cancelled=!0)}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var wr=t.Y([{name:"a_pos3d",type:"Int16",components:3}]);class Er extends t.E{constructor(e){super(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,e.usedForTerrain=!0,e.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(e,n){this.sourceCache.update(e,n),this._renderableTilesKeys=[];const i={};for(const r of e.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:n}))i[r.key]=!0,this._renderableTilesKeys.push(r.key),this._tiles[r.key]||(r.posMatrix=new Float64Array(16),t.aQ(r.posMatrix,0,t.X,0,t.X,0,1),this._tiles[r.key]=new le(r,this.tileSize));for(const t in this._tiles)i[t]||delete this._tiles[t]}freeRtt(e){for(const t in this._tiles){const n=this._tiles[t];(!e||n.tileID.equals(e)||n.tileID.isChildOf(e)||e.isChildOf(n.tileID))&&(n.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((e=>this.getTileByID(e)))}getTileByID(e){return this._tiles[e]}getTerrainCoords(e){const n={};for(const i of this._renderableTilesKeys){const r=this._tiles[i].tileID;if(r.canonical.equals(e.canonical)){const r=e.clone();r.posMatrix=new Float64Array(16),t.aQ(r.posMatrix,0,t.X,0,t.X,0,1),n[i]=r}else if(r.canonical.isChildOf(e.canonical)){const a=e.clone();a.posMatrix=new Float64Array(16);const o=r.canonical.z-e.canonical.z,s=r.canonical.x-(r.canonical.x>>o<<o),l=r.canonical.y-(r.canonical.y>>o<<o),u=t.X>>o;t.aQ(a.posMatrix,0,u,0,u,0,1),t.J(a.posMatrix,a.posMatrix,[-s*u,-l*u,0]),n[i]=a}else if(e.canonical.isChildOf(r.canonical)){const a=e.clone();a.posMatrix=new Float64Array(16);const o=e.canonical.z-r.canonical.z,s=e.canonical.x-(e.canonical.x>>o<<o),l=e.canonical.y-(e.canonical.y>>o<<o),u=t.X>>o;t.aQ(a.posMatrix,0,t.X,0,t.X,0,1),t.J(a.posMatrix,a.posMatrix,[s*u,l*u,0]),t.K(a.posMatrix,a.posMatrix,[1/2**o,1/2**o,0]),n[i]=a}}return n}getSourceTile(e,t){const n=this.sourceCache._source;let i=e.overscaledZ-this.deltaZoom;if(i>n.maxzoom&&(i=n.maxzoom),i<n.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(i).key);let r=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!r||!r.dem)&&t)for(;i>=n.minzoom&&(!r||!r.dem);)r=this.sourceCache.getTileByID(e.scaledTo(i--).key);return r}tilesAfterTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return Object.values(this._tiles).filter((t=>t.timeAdded>=e))}}class Ir{constructor(e,t,n){this.painter=e,this.sourceCache=new Er(t),this.options=n,this.exaggeration="number"==typeof n.exaggeration?n.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(e,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.X;var a;if(!(n>=0&&n<r&&i>=0&&i<r))return 0;const o=this.getTerrainData(e),s=null===(a=o.tile)||void 0===a?void 0:a.dem;if(!s)return 0;const l=function(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e}([],[n/r*t.X,i/r*t.X],o.u_terrain_matrix),u=[l[0]*s.dim,l[1]*s.dim],c=Math.floor(u[0]),h=Math.floor(u[1]),d=u[0]-c,f=u[1]-h;return s.get(c,h)*(1-d)*(1-f)+s.get(c+1,h)*d*(1-f)+s.get(c,h+1)*(1-d)*f+s.get(c+1,h+1)*d*f}getElevationForLngLatZoom(e,n){const{tileID:i,mercatorX:r,mercatorY:a}=this._getOverscaledTileIDFromLngLatZoom(e,n);return this.getElevation(i,r%t.X,a%t.X,t.X)}getElevation(e,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.X;return this.getDEMElevation(e,n,i,r)*this.exaggeration}getTerrainData(e){if(!this._emptyDemTexture){const e=this.painter.context,n=new t.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new x(e,n,e.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new x(e,new t.R({width:1,height:1}),e.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=t.ao([])}const n=this.sourceCache.getSourceTile(e,!0);if(n&&n.dem&&(!n.demTexture||n.needsTerrainPrepare)){const e=this.painter.context;n.demTexture=this.painter.getTileTexture(n.dem.stride),n.demTexture?n.demTexture.update(n.dem.getPixels(),{premultiply:!1}):n.demTexture=new x(e,n.dem.getPixels(),e.gl.RGBA,{premultiply:!1}),n.demTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),n.needsTerrainPrepare=!1}const i=n&&n+n.tileID.key+e.key;if(i&&!this._demMatrixCache[i]){const i=this.sourceCache.sourceCache._source.maxzoom;let r=e.canonical.z-n.tileID.canonical.z;e.overscaledZ>e.canonical.z&&(e.canonical.z>=i?r=e.canonical.z-i:t.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const a=e.canonical.x-(e.canonical.x>>r<<r),o=e.canonical.y-(e.canonical.y>>r<<r),s=t.bb(new Float64Array(16),[1/(t.X<<r),1/(t.X<<r),0]);t.J(s,s,[a*t.X,o*t.X,0]),this._demMatrixCache[e.key]={matrix:s,coord:e}}return{u_depth:2,u_terrain:3,u_terrain_dim:n&&n.dem&&n.dem.dim||1,u_terrain_matrix:i?this._demMatrixCache[e.key].matrix:this._emptyDemMatrix,u_terrain_unpack:n&&n.dem&&n.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(n&&n.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:n}}getFramebuffer(e){const t=this.painter,n=t.width/devicePixelRatio,i=t.height/devicePixelRatio;return!this._fbo||this._fbo.width===n&&this._fbo.height===i||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new x(t.context,{width:n,height:i,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new x(t.context,{width:n,height:i,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=t.context.createFramebuffer(n,i,!0,!1),this._fbo.depthAttachment.set(t.context.createRenderbuffer(t.context.gl.DEPTH_COMPONENT16,n,i))),this._fbo.colorAttachment.set("coords"===e?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const e=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const n=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let t=0,a=0;t<this._coordsTextureSize;t++)for(let e=0;e<this._coordsTextureSize;e++,a+=4)n[a+0]=255&e,n[a+1]=255&t,n[a+2]=e>>8<<4|t>>8,n[a+3]=0;const i=new t.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(n.buffer)),r=new x(e,i,e.gl.RGBA,{premultiply:!1});return r.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._coordsTexture=r,r}pointCoordinate(e){this.painter.maybeDrawDepthAndCoords(!0);const n=new Uint8Array(4),i=this.painter.context,r=i.gl,a=Math.round(e.x*this.painter.pixelRatio/devicePixelRatio),o=Math.round(e.y*this.painter.pixelRatio/devicePixelRatio),s=Math.round(this.painter.height/devicePixelRatio);i.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),r.readPixels(a,s-o-1,1,1,r.RGBA,r.UNSIGNED_BYTE,n),i.bindFramebuffer.set(null);const l=n[0]+(n[2]>>4<<8),u=n[1]+((15&n[2])<<8),c=this.coordsIndex[255-n[3]],h=c&&this.sourceCache.getTileByID(c);if(!h)return null;const d=this._coordsTextureSize,f=(1<<h.tileID.canonical.z)*d;return new t.Z((h.tileID.canonical.x*d+l)/f+h.tileID.wrap,(h.tileID.canonical.y*d+u)/f,this.getElevation(h.tileID,l,u,d))}depthAtPoint(e){const t=new Uint8Array(4),n=this.painter.context,i=n.gl;return n.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),i.readPixels(e.x,this.painter.height/devicePixelRatio-e.y-1,1,1,i.RGBA,i.UNSIGNED_BYTE,t),n.bindFramebuffer.set(null),(t[0]/16777216+t[1]/65536+t[2]/256+t[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const e=this.painter.context,n=new t.bc,i=new t.aY,r=this.meshSize,a=t.X/r,o=r*r;for(let t=0;t<=r;t++)for(let e=0;e<=r;e++)n.emplaceBack(e*a,t*a,0);for(let t=0;t<o;t+=r+1)for(let e=0;e<r;e++)i.emplaceBack(e+t,r+e+t+1,r+e+t+2),i.emplaceBack(e+t,r+e+t+2,e+t+1);const s=n.length,l=s+2*(r+1);for(const h of[0,1])for(let e=0;e<=r;e++)for(const i of[0,1])n.emplaceBack(e*a,h*t.X,i);for(let t=0;t<2*r;t+=2)i.emplaceBack(l+t,l+t+1,l+t+3),i.emplaceBack(l+t,l+t+3,l+t+2),i.emplaceBack(s+t,s+t+3,s+t+1),i.emplaceBack(s+t,s+t+2,s+t+3);const u=n.length,c=u+2*(r+1);for(const h of[0,1])for(let e=0;e<=r;e++)for(const i of[0,1])n.emplaceBack(h*t.X,e*a,i);for(let t=0;t<2*r;t+=2)i.emplaceBack(u+t,u+t+1,u+t+3),i.emplaceBack(u+t,u+t+3,u+t+2),i.emplaceBack(c+t,c+t+3,c+t+1),i.emplaceBack(c+t,c+t+2,c+t+3);return this._mesh=new di(e.createVertexBuffer(n,wr.members),e.createIndexBuffer(i),t.a0.simpleSegment(0,0,n.length,i.length)),this._mesh}getMeshFrameDelta(e){return 2*Math.PI*t.bd/Math.pow(2,e)/5}getMinTileElevationForLngLatZoom(e,t){var n;const{tileID:i}=this._getOverscaledTileIDFromLngLatZoom(e,t);return null!==(n=this.getMinMaxElevation(i).minElevation)&&void 0!==n?n:0}getMinMaxElevation(e){const t=this.getTerrainData(e).tile,n={minElevation:null,maxElevation:null};return t&&t.dem&&(n.minElevation=t.dem.min*this.exaggeration,n.maxElevation=t.dem.max*this.exaggeration),n}_getOverscaledTileIDFromLngLatZoom(e,n){const i=t.Z.fromLngLat(e.wrap()),r=(1<<n)*t.X,a=i.x*r,o=i.y*r,s=Math.floor(a/t.X),l=Math.floor(o/t.X);return{tileID:new t.S(n,0,n,s,l),mercatorX:a,mercatorY:o}}}class Cr{constructor(e,t,n){this._context=e,this._size=t,this._tileSize=n,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const e of this._objects)e.texture.destroy(),e.fbo.destroy()}_createObject(e){const t=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),n=new x(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return n.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),t.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),t.colorAttachment.set(n.texture),{id:e,fbo:t,texture:n,stamp:-1,inUse:!1}}getObjectForId(e){return this._objects[e]}useObject(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((t=>e.id!==t)),this._recentlyUsed.push(e.id)}stampObject(e){e.stamp=++this._stamp}getOrCreateFreeObject(){for(const t of this._recentlyUsed)if(!this._objects[t].inUse)return this._objects[t];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const e=this._createObject(this._objects.length);return this._objects.push(e),e}freeObject(e){e.inUse=!1}freeAllObjects(){for(const e of this._objects)this.freeObject(e)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some((e=>!e.inUse))}}const kr={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Sr{constructor(e,t){this.painter=e,this.terrain=t,this.pool=new Cr(e.context,30,t.sourceCache.tileSize*t.qualityFactor)}destruct(){this.pool.destruct()}getTexture(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}prepareForRender(e,t){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e._order.filter((n=>!e._layers[n].isHidden(t))),this._coordsDescendingInv={};for(const n in e.sourceCaches){this._coordsDescendingInv[n]={};const t=e.sourceCaches[n].getVisibleCoordinates();for(const e of t){const t=this.terrain.sourceCache.getTerrainCoords(e);for(const e in t)this._coordsDescendingInv[n][e]||(this._coordsDescendingInv[n][e]=[]),this._coordsDescendingInv[n][e].push(t[e])}}this._coordsDescendingInvStr={};for(const n of e._order){const t=e._layers[n],i=t.source;if(kr[t.type]&&!this._coordsDescendingInvStr[i]){this._coordsDescendingInvStr[i]={};for(const e in this._coordsDescendingInv[i])this._coordsDescendingInvStr[i][e]=this._coordsDescendingInv[i][e].map((e=>e.key)).sort().join()}}for(const n of this._renderableTiles)for(const e in this._coordsDescendingInvStr){const t=this._coordsDescendingInvStr[e][n.tileID.key];t&&t!==n.rttCoords[e]&&(n.rtt=[])}}renderLayer(e){if(e.isHidden(this.painter.transform.zoom))return!1;const n=e.type,i=this.painter,r=this._renderableLayerIds[this._renderableLayerIds.length-1]===e.id;if(kr[n]&&(this._prevType&&kr[this._prevType]||this._stacks.push([]),this._prevType=n,this._stacks[this._stacks.length-1].push(e.id),!r))return!0;if(kr[this._prevType]||kr[n]&&r){this._prevType=n;const e=this._stacks.length-1,r=this._stacks[e]||[];for(const n of this._renderableTiles){if(this.pool.isFull()&&(hi(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(n),n.rtt[e]){const t=this.pool.getObjectForId(n.rtt[e].id);if(t.stamp===n.rtt[e].stamp){this.pool.useObject(t);continue}}const a=this.pool.getOrCreateFreeObject();this.pool.useObject(a),this.pool.stampObject(a),n.rtt[e]={id:a.id,stamp:a.stamp},i.context.bindFramebuffer.set(a.fbo.framebuffer),i.context.clear({color:t.aN.transparent,stencil:0}),i.currentStencilSource=void 0;for(let e=0;e<r.length;e++){const t=i.style._layers[r[e]],o=t.source?this._coordsDescendingInv[t.source][n.tileID.key]:[n.tileID];i.context.viewport.set([0,0,a.fbo.width,a.fbo.height]),i._renderTileClippingMasks(t,o),i.renderLayer(i,i.style.sourceCaches[t.source],t,o),t.source&&(n.rttCoords[t.source]=this._coordsDescendingInvStr[t.source][n.tileID.key])}}return hi(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),kr[n]}return!1}}const Tr={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Pr=n,Nr={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Ar,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:t.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},Mr=e=>{e.touchstart=e.dragStart,e.touchmoveWindow=e.dragMove,e.touchend=e.dragEnd},Br={showCompass:!0,showZoom:!0,visualizePitch:!1};class Lr{constructor(e,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.mousedown=e=>{this.startMouse(t.e({},e,{ctrlKey:!0,preventDefault:()=>e.preventDefault()}),o.mousePos(this.element,e)),o.addEventListener(window,"mousemove",this.mousemove),o.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=e=>{this.moveMouse(e,o.mousePos(this.element,e))},this.mouseup=e=>{this.mouseRotate.dragEnd(e),this.mousePitch&&this.mousePitch.dragEnd(e),this.offTemp()},this.touchstart=e=>{1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=o.touchPos(this.element,e.targetTouches)[0],this.startTouch(e,this._startPos),o.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),o.addEventListener(window,"touchend",this.touchend))},this.touchmove=e=>{1!==e.targetTouches.length?this.reset():(this._lastPos=o.touchPos(this.element,e.targetTouches)[0],this.moveTouch(e,this._lastPos))},this.touchend=e=>{0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const r=e.dragRotate._mouseRotate.getClickTolerance(),a=e.dragRotate._mousePitch.getClickTolerance();this.element=n,this.mouseRotate=Gi({clickTolerance:r,enable:!0}),this.touchRotate=(e=>{let{enable:t,clickTolerance:n,bearingDegreesPerPixelMoved:i=.8}=e;const r=new Vi;return new ji({clickTolerance:n,move:(e,t)=>({bearingDelta:(t.x-e.x)*i}),moveStateManager:r,enable:t,assignEvents:Mr})})({clickTolerance:r,enable:!0}),this.map=e,i&&(this.mousePitch=Hi({clickTolerance:a,enable:!0}),this.touchPitch=(e=>{let{enable:t,clickTolerance:n,pitchDegreesPerPixelMoved:i=-.5}=e;const r=new Vi;return new ji({clickTolerance:n,move:(e,t)=>({pitchDelta:(t.y-e.y)*i}),moveStateManager:r,enable:t,assignEvents:Mr})})({clickTolerance:a,enable:!0})),o.addEventListener(n,"mousedown",this.mousedown),o.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),o.addEventListener(n,"touchcancel",this.reset)}startMouse(e,t){this.mouseRotate.dragStart(e,t),this.mousePitch&&this.mousePitch.dragStart(e,t),o.disableDrag()}startTouch(e,t){this.touchRotate.dragStart(e,t),this.touchPitch&&this.touchPitch.dragStart(e,t),o.disableDrag()}moveMouse(e,t){const n=this.map,{bearingDelta:i}=this.mouseRotate.dragMove(e,t)||{};if(i&&n.setBearing(n.getBearing()+i),this.mousePitch){const{pitchDelta:i}=this.mousePitch.dragMove(e,t)||{};i&&n.setPitch(n.getPitch()+i)}}moveTouch(e,t){const n=this.map,{bearingDelta:i}=this.touchRotate.dragMove(e,t)||{};if(i&&n.setBearing(n.getBearing()+i),this.touchPitch){const{pitchDelta:i}=this.touchPitch.dragMove(e,t)||{};i&&n.setPitch(n.getPitch()+i)}}off(){const e=this.element;o.removeEventListener(e,"mousedown",this.mousedown),o.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),o.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),o.removeEventListener(window,"touchend",this.touchend),o.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){o.enableDrag(),o.removeEventListener(window,"mousemove",this.mousemove),o.removeEventListener(window,"mouseup",this.mouseup),o.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),o.removeEventListener(window,"touchend",this.touchend)}}let Rr;function zr(e,n,i){const r=new t.N(e.lng,e.lat);if(e=new t.N(e.lng,e.lat),n){const r=new t.N(e.lng-360,e.lat),a=new t.N(e.lng+360,e.lat),o=i.locationPoint(e).distSqr(n);i.locationPoint(r).distSqr(n)<o?e=r:i.locationPoint(a).distSqr(n)<o&&(e=a)}for(;Math.abs(e.lng-i.center.lng)>180;){const t=i.locationPoint(e);if(t.x>=0&&t.y>=0&&t.x<=i.width&&t.y<=i.height)break;e.lng>i.center.lng?e.lng-=360:e.lng+=360}return e.lng!==r.lng&&i.locationPoint(e).y>i.height/2-i.getHorizon()?e:r}const Or={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Dr(e,t,n){const i=e.classList;for(const r in Or)i.remove("maplibregl-".concat(n,"-anchor-").concat(r));i.add("maplibregl-".concat(n,"-anchor-").concat(t))}class Fr extends t.E{constructor(e){if(super(),this._onKeyPress=e=>{const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()},this._onMapClick=e=>{const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},this._update=e=>{var t;if(!this._map)return;const n=this._map.loaded()&&!this._map.isMoving();("terrain"===(null==e?void 0:e.type)||"render"===(null==e?void 0:e.type)&&!n)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?zr(this._lngLat,this._flatPos,this._map.transform):null===(t=this._lngLat)||void 0===t?void 0:t.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let i="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?i="rotateZ(".concat(this._rotation,"deg)"):"map"===this._rotationAlignment&&(i="rotateZ(".concat(this._rotation-this._map.getBearing(),"deg)"));let r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX(".concat(this._map.getPitch(),"deg)")),e&&"moveend"!==e.type||(this._pos=this._pos.round()),o.setTransform(this._element,"".concat(Or[this._anchor]," translate(").concat(this._pos.x,"px, ").concat(this._pos.y,"px) ").concat(r," ").concat(i)),a.frameAsync(new AbortController).then((()=>{this._updateOpacity(e&&"moveend"===e.type)})).catch((()=>{}))},this._onMove=e=>{if(!this._isDragging){const t=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=t}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.k("dragstart"))),this.fire(new t.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.k("dragend")),this._state="inactive"},this._addDragHandler=e=>{this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(null==e?void 0:e.opacity,null==e?void 0:e.opacityWhenCovered),e&&e.element)this._element=e.element,this._offset=t.P.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=o.create("div");const n=o.createNS("http://www.w3.org/2000/svg","svg"),i=41,r=27;n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height","".concat(i,"px")),n.setAttributeNS(null,"width","".concat(r,"px")),n.setAttributeNS(null,"viewBox","0 0 ".concat(r," ").concat(i));const a=o.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");const s=o.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");const l=o.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of u){const t=o.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),l.appendChild(t)}const c=o.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"fill",this._color);const h=o.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),c.appendChild(h);const d=o.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");const f=o.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(f);const p=o.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"transform","translate(6.0, 7.0)"),p.setAttributeNS(null,"fill","#FFFFFF");const g=o.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(8.0, 8.0)");const m=o.createNS("http://www.w3.org/2000/svg","circle");m.setAttributeNS(null,"fill","#000000"),m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"cx","5.5"),m.setAttributeNS(null,"cy","5.5"),m.setAttributeNS(null,"r","5.4999962");const y=o.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),g.appendChild(m),g.appendChild(y),s.appendChild(l),s.appendChild(c),s.appendChild(d),s.appendChild(p),s.appendChild(g),n.appendChild(s),n.setAttributeNS(null,"height",i*this._scale+"px"),n.setAttributeNS(null,"width",r*this._scale+"px"),this._element.appendChild(n),this._offset=t.P.convert(e&&e.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()})),Dr(this._element,this._anchor,"marker"),e&&e.className)for(const t of e.className.split(" "))this._element.classList.add(t);this._popup=null}addTo(e){return this.remove(),this._map=e,this._element.setAttribute("aria-label",e._getUIString("Marker.Title")),e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),o.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.N.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,i=Math.abs(n)/Math.SQRT2;e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[i,-1*(t-n+i)],"bottom-right":[-i,-1*(t-n+i)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const e=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:e?(e.isOpen()?e.remove():(e.setLngLat(this._lngLat),e.addTo(this._map)),this):this}_updateOpacity(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n,i;if(!(null===(n=this._map)||void 0===n?void 0:n.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(e)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const r=this._map,a=r.terrain.depthAtPoint(this._pos),o=r.terrain.getElevationForLngLatZoom(this._lngLat,r.transform.tileZoom);if(r.transform.lngLatToCameraDepth(this._lngLat,o)-a<.006)return void(this._element.style.opacity=this._opacity);const s=-this._offset.y/r.transform._pixelPerMeter,l=Math.sin(r.getPitch()*Math.PI/180)*s,u=r.terrain.depthAtPoint(new t.P(this._pos.x,this._pos.y-this._offset.y)),c=r.transform.lngLatToCameraDepth(this._lngLat,o+l)-u>.006;(null===(i=this._popup)||void 0===i?void 0:i.isOpen())&&c&&this._popup.remove(),this._element.style.opacity=c?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(e){return this._offset=t.P.convert(e),this._update(),this}addClassName(e){this._element.classList.add(e)}removeClassName(e){this._element.classList.remove(e)}toggleClassName(e){return this._element.classList.toggle(e)}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(e,t){return void 0===e&&void 0===t&&(this._opacity="1",this._opacityWhenCovered="0.2"),void 0!==e&&(this._opacity=e),void 0!==t&&(this._opacityWhenCovered=t),this._map&&this._updateOpacity(!0),this}}const jr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Qr=0,Ur=!1;const Vr={maxWidth:100,unit:"metric"};function qr(e,t,n){const i=n&&n.maxWidth||100,r=e._container.clientHeight/2,a=e.unproject([0,r]),o=e.unproject([i,r]),s=a.distanceTo(o);if(n&&"imperial"===n.unit){const n=3.2808*s;n>5280?Gr(t,i,n/5280,e._getUIString("ScaleControl.Miles")):Gr(t,i,n,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Gr(t,i,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Gr(t,i,s/1e3,e._getUIString("ScaleControl.Kilometers")):Gr(t,i,s,e._getUIString("ScaleControl.Meters"))}function Gr(e,t,n,i){const r=function(e){const t=Math.pow(10,"".concat(Math.floor(e)).length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}(n);e.style.width=t*(r/n)+"px",e.innerHTML="".concat(r,"&nbsp;").concat(i)}const Hr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},Xr=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Wr(e){if(e){if("number"==typeof e){const n=Math.round(Math.abs(e)/Math.SQRT2);return{center:new t.P(0,0),top:new t.P(0,e),"top-left":new t.P(n,n),"top-right":new t.P(-n,n),bottom:new t.P(0,-e),"bottom-left":new t.P(n,-n),"bottom-right":new t.P(-n,-n),left:new t.P(e,0),right:new t.P(-e,0)}}if(e instanceof t.P||Array.isArray(e)){const n=t.P.convert(e);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:t.P.convert(e.center||[0,0]),top:t.P.convert(e.top||[0,0]),"top-left":t.P.convert(e["top-left"]||[0,0]),"top-right":t.P.convert(e["top-right"]||[0,0]),bottom:t.P.convert(e.bottom||[0,0]),"bottom-left":t.P.convert(e["bottom-left"]||[0,0]),"bottom-right":t.P.convert(e["bottom-right"]||[0,0]),left:t.P.convert(e.left||[0,0]),right:t.P.convert(e.right||[0,0])}}return Wr(new t.P(0,0))}const Yr=n;e.AJAXError=t.bg,e.Evented=t.E,e.LngLat=t.N,e.MercatorCoordinate=t.Z,e.Point=t.P,e.addProtocol=t.bh,e.config=t.a,e.removeProtocol=t.bi,e.AttributionControl=_r,e.BoxZoomHandler=Ri,e.CanvasSource=te,e.CooperativeGesturesHandler=fr,e.DoubleClickZoomHandler=sr,e.DragPanHandler=cr,e.DragRotateHandler=hr,e.EdgeInsets=mi,e.FullscreenControl=class extends t.E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._onFullscreenChange=()=>{var e;let t=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.fullscreenElement;)t=t.shadowRoot.fullscreenElement;t===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,e&&e.container&&(e.container instanceof HTMLElement?this._container=e.container:t.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=o.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){o.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const e=this._fullscreenButton=o.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);o.create("span","maplibregl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new t.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new t.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},e.GeoJSONSource=K,e.GeolocateControl=class extends t.E{constructor(e){super(),this._onSuccess=e=>{if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.k("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new t.k("geolocate",e)),this._finish()}},this._updateCamera=e=>{const n=new t.N(e.coords.longitude,e.coords.latitude),i=e.coords.accuracy,r=this._map.getBearing(),a=t.e({bearing:r},this.options.fitBoundsOptions),o=H.fromLngLat(n,i);this._map.fitBounds(o,a,{geolocateSource:!0})},this._updateMarker=e=>{if(e){const n=new t.N(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=e=>{if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Ur)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new t.k("error",e)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=e=>{if(this._map){if(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=o.create("button","maplibregl-ctrl-geolocate",this._container),o.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===e){t.w("Geolocation support is not available so the GeolocateControl will be disabled.");const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Fr({element:this._dotElement}),this._circleElement=o.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Fr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(e=>{e.geolocateSource||"ACTIVE_LOCK"!==this._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new t.k("trackuserlocationend")),this.fire(new t.k("userlocationlostfocus")))}))}},this.options=t.e({},jr,e)}onAdd(e){return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(){return t._(this,arguments,void 0,(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function*(){if(void 0!==Rr&&!e)return Rr;if(void 0===window.navigator.permissions)return Rr=!!window.navigator.geolocation,Rr;try{const e=yield window.navigator.permissions.query({name:"geolocation"});Rr="denied"!==e.state}catch(e){Rr=!!window.navigator.geolocation}return Rr}()}))}().then((e=>this._setupUI(e))),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),o.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Qr=0,Ur=!1}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}}_updateCircleRadius(){const e=this._map.getBounds(),t=e.getSouthEast(),n=e.getNorthEast(),i=t.distanceTo(n),r=Math.ceil(this._accuracy/(i/this._map._container.clientHeight)*2);this._circleElement.style.width="".concat(r,"px"),this._circleElement.style.height="".concat(r,"px")}trigger(){if(!this._setup)return t.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Qr--,Ur=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new t.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.k("trackuserlocationstart")),this.fire(new t.k("userlocationfocus"));break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Qr++,Qr>1?(e={maximumAge:6e5,timeout:0},Ur=!0):(e=this.options.positionOptions,Ur=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},e.Hash=_i,e.ImageSource=$,e.KeyboardHandler=ir,e.LngLatBounds=H,e.LogoControl=xr,e.Map=class extends vr{constructor(e){t.be.mark(t.bf.create);const n=Object.assign(Object.assign({},Nr),e);if(null!=n.minZoom&&null!=n.maxZoom&&n.minZoom>n.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=n.minPitch&&null!=n.maxPitch&&n.minPitch>n.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=n.minPitch&&n.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=n.maxPitch&&n.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new vi(n.minZoom,n.maxZoom,n.minPitch,n.maxPitch,n.renderWorldCopies),{bearingSnap:n.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new br,this._controls=[],this._mapId=t.a4(),this._contextLost=e=>{e.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new t.k("webglcontextlost",{originalEvent:e}))},this._contextRestored=e=>{this._setupPainter(),this.resize(),this._update(),this.fire(new t.k("webglcontextrestored",{originalEvent:e}))},this._onMapScroll=e=>{if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=n.interactive,this._maxTileCacheSize=n.maxTileCacheSize,this._maxTileCacheZoomLevels=n.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=!0===n.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=!0===n.preserveDrawingBuffer,this._antialias=!0===n.antialias,this._trackResize=!0===n.trackResize,this._bearingSnap=n.bearingSnap,this._refreshExpiredTiles=!0===n.refreshExpiredTiles,this._fadeDuration=n.fadeDuration,this._crossSourceCollisions=!0===n.crossSourceCollisions,this._collectResourceTiming=!0===n.collectResourceTiming,this._locale=Object.assign(Object.assign({},Tr),n.locale),this._clickTolerance=n.clickTolerance,this._overridePixelRatio=n.pixelRatio,this._maxCanvasSize=n.maxCanvasSize,this.transformCameraUpdate=n.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=!0===n.cancelPendingTileRequestsWhileZooming,this._imageQueueHandle=f.addThrottleControl((()=>this.isMoving())),this._requestManager=new p(n.transformRequest),"string"==typeof n.container){if(this._container=document.getElementById(n.container),!this._container)throw new Error("Container '".concat(n.container,"' not found."))}else{if(!(n.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=n.container}if(n.maxBounds&&this.setMaxBounds(n.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))).on("moveend",(()=>this._update(!1))).on("zoom",(()=>this._update(!0))).on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})).once("idle",(()=>{this._idleTriggered=!0})),"undefined"!=typeof window){addEventListener("online",this._onWindowOnline,!1);let e=!1;const t=Ai((e=>{this._trackResize&&!this._removed&&this.resize(e)._update()}),50);this._resizeObserver=new ResizeObserver((n=>{e?t(n):e=!0})),this._resizeObserver.observe(this._container)}this.handlers=new yr(this,n),this._hash=n.hash&&new _i("string"==typeof n.hash&&n.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:n.center,zoom:n.zoom,bearing:n.bearing,pitch:n.pitch}),n.bounds&&(this.resize(),this.fitBounds(n.bounds,t.e({},n.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=n.localIdeographFontFamily,this._validateStyle=n.validateStyle,n.style&&this.setStyle(n.style,{localIdeographFontFamily:n.localIdeographFontFamily}),n.attributionControl&&this.addControl(new _r("boolean"==typeof n.attributionControl?void 0:n.attributionControl)),n.maplibreLogo&&this.addControl(new xr,n.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(e=>{this._update("style"===e.dataType),this.fire(new t.k("".concat(e.dataType,"data"),e))})),this.on("dataloading",(e=>{this.fire(new t.k("".concat(e.dataType,"dataloading"),e))})),this.on("dataabort",(e=>{this.fire(new t.k("sourcedataabort",e))}))}_getMapId(){return this._mapId}addControl(e,n){if(void 0===n&&(n=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const i=e.onAdd(this);this._controls.push(e);const r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new t.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}calculateCameraOptionsFromTo(e,t,n,i){return null==i&&this.terrain&&(i=this.terrain.getElevationForLngLatZoom(n,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(e,t,n,i)}resize(e){var n;const i=this._containerDimensions(),r=i[0],a=i[1],o=this._getClampedPixelRatio(r,a);if(this._resizeCanvas(r,a,o),this.painter.resize(r,a,o),this.painter.overLimit()){const e=this.painter.context.gl;this._maxCanvasSize=[e.drawingBufferWidth,e.drawingBufferHeight];const t=this._getClampedPixelRatio(r,a);this._resizeCanvas(r,a,t),this.painter.resize(r,a,t)}this.transform.resize(r,a),null===(n=this._requestedCameraState)||void 0===n||n.resize(r,a);const s=!this._moving;return s&&(this.stop(),this.fire(new t.k("movestart",e)).fire(new t.k("move",e))),this.fire(new t.k("resize",e)),s&&this.fire(new t.k("moveend",e)),this}_getClampedPixelRatio(e,t){const{0:n,1:i}=this._maxCanvasSize,r=this.getPixelRatio(),a=e*r,o=t*r;return Math.min(a>n?n/a:1,o>i?i/o:1)*r}getPixelRatio(){var e;return null!==(e=this._overridePixelRatio)&&void 0!==e?e:devicePixelRatio}setPixelRatio(e){this._overridePixelRatio=e,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds(H.convert(e)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?60:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}project(e){return this.transform.locationPoint(t.N.convert(e),this.style&&this.terrain)}unproject(e){return this.transform.pointLocation(t.P.convert(e),this.terrain)}isMoving(){var e;return this._moving||(null===(e=this.handlers)||void 0===e?void 0:e.isMoving())}isZooming(){var e;return this._zooming||(null===(e=this.handlers)||void 0===e?void 0:e.isZooming())}isRotating(){var e;return this._rotating||(null===(e=this.handlers)||void 0===e?void 0:e.isRotating())}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let i=!1;const r=r=>{const a=this.getLayer(t)?this.queryRenderedFeatures(r.point,{layers:[t]}):[];a.length?i||(i=!0,n.call(this,new Ti(e,this,r.originalEvent,{features:a}))):i=!1};return{layer:t,listener:n,delegates:{mousemove:r,mouseout:()=>{i=!1}}}}if("mouseleave"===e||"mouseout"===e){let i=!1;const r=r=>{(this.getLayer(t)?this.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?i=!0:i&&(i=!1,n.call(this,new Ti(e,this,r.originalEvent)))},a=t=>{i&&(i=!1,n.call(this,new Ti(e,this,t.originalEvent)))};return{layer:t,listener:n,delegates:{mousemove:r,mouseout:a}}}{const i=e=>{const i=this.getLayer(t)?this.queryRenderedFeatures(e.point,{layers:[t]}):[];i.length&&(e.features=i,n.call(this,e),delete e.features)};return{layer:t,listener:n,delegates:{[e]:i}}}}on(e,t,n){if(void 0===n)return super.on(e,t);const i=this._createDelegatedListener(e,t,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i);for(const r in i.delegates)this.on(r,i.delegates[r]);return this}once(e,t,n){if(void 0===n)return super.once(e,t);const i=this._createDelegatedListener(e,t,n);for(const r in i.delegates)this.once(r,i.delegates[r]);return this}off(e,t,n){return void 0===n?super.off(e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&(i=>{const r=this._delegatedListeners[e];for(let e=0;e<r.length;e++){const i=r[e];if(i.layer===t&&i.listener===n){for(const e in i.delegates)this.off(e,i.delegates[e]);return r.splice(e,1),this}}})(),this)}queryRenderedFeatures(e,n){if(!this.style)return[];let i;const r=e instanceof t.P||Array.isArray(e),a=r?e:[[0,0],[this.transform.width,this.transform.height]];if(n=n||(r?{}:e)||{},a instanceof t.P||"number"==typeof a[0])i=[t.P.convert(a)];else{const e=t.P.convert(a[0]),n=t.P.convert(a[1]);i=[e,new t.P(n.x,e.y),n,new t.P(e.x,n.y),e]}return this.style.queryRenderedFeatures(i,n,this.transform)}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(e,n){return!1!==(n=t.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))}setTransformRequest(e){return this._requestManager.setTransformRequest(e),this}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error("Missing UI string '".concat(e,"'"));return t}_updateStyle(e,t){if(t.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(e,t)));const n=this.style&&t.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!e)),e?(this.style=new ht(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e,t,n):this.style.loadJSON(e,t,n),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ht(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(e,n){if("string"==typeof e){const i=this._requestManager.transformRequest(e,"Style");t.h(i,new AbortController).then((e=>{this._updateDiff(e.data,n)})).catch((e=>{e&&this.fire(new t.j(e))}))}else"object"==typeof e&&this._updateDiff(e,n)}_updateDiff(e,n){try{this.style.setState(e,n)&&this._update(!0)}catch(i){t.w("Unable to perform style diff: ".concat(i.message||i.error||i,".  Rebuilding the style from scratch.")),this._updateStyle(e,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():t.w("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){const n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.j(new Error("There is no source with ID '".concat(e,"'"))))}setTerrain(e){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),e){const n=this.style.sourceCaches[e.source];if(!n)throw new Error("cannot load terrain, because there exists no source with ID: ".concat(e.source));null===this.terrain&&n.reload();for(const i in this.style._layers){const n=this.style._layers[i];"hillshade"===n.type&&n.source===e.source&&t.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ir(this.painter,n,e),this.painter.renderToTexture=new Sr(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=t=>{"style"===t.dataType?this.terrain.sourceCache.freeRtt():"source"===t.dataType&&t.tile&&(t.sourceId!==e.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(t.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new t.k("terrain",{terrain:e})),this}getTerrain(){var e,t;return null!==(t=null===(e=this.terrain)||void 0===e?void 0:e.options)&&void 0!==t?t:null}areTilesLoaded(){const e=this.style&&this.style.sourceCaches;for(const t in e){const n=e[t]._tiles;for(const e in n){const t=n[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}removeSource(e){return this.style.removeSource(e),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{pixelRatio:r=1,sdf:o=!1,stretchX:s,stretchY:l,content:u,textFitWidth:c,textFitHeight:h}=i;if(this._lazyInitEmptyStyle(),!(n instanceof HTMLImageElement||t.b(n))){if(void 0===n.width||void 0===n.height)return this.fire(new t.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:i,height:a,data:d}=n,f=n;return this.style.addImage(e,{data:new t.R({width:i,height:a},new Uint8Array(d)),pixelRatio:r,stretchX:s,stretchY:l,content:u,textFitWidth:c,textFitHeight:h,sdf:o,version:0,userImage:f}),f.onAdd&&f.onAdd(this,e),this}}{const{width:i,height:d,data:f}=a.getImageData(n);this.style.addImage(e,{data:new t.R({width:i,height:d},f),pixelRatio:r,stretchX:s,stretchY:l,content:u,textFitWidth:c,textFitHeight:h,sdf:o,version:0})}}updateImage(e,n){const i=this.style.getImage(e);if(!i)return this.fire(new t.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=n instanceof HTMLImageElement||t.b(n)?a.getImageData(n):n,{width:o,height:s,data:l}=r;if(void 0===o||void 0===s)return this.fire(new t.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(o!==i.data.width||s!==i.data.height)return this.fire(new t.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const u=!(n instanceof HTMLImageElement||t.b(n));return i.data.replace(l,u),this.style.updateImage(e,i),this}getImage(e){return this.style.getImage(e)}hasImage(e){return e?!!this.style.getImage(e):(this.fire(new t.j(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(e){return f.getImage(this._requestManager.transformRequest(e,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(e,t,n,i),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(e,t,n,i),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setGlyphs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setGlyphs(e,t),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._lazyInitEmptyStyle(),this.style.addSprite(e,t,n,(e=>{e||this._update(!0)})),this}removeSprite(e){return this._lazyInitEmptyStyle(),this.style.removeSprite(e),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setSprite(e,t,(e=>{e||this._update(!0)})),this}setLight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setSky(e){return this._lazyInitEmptyStyle(),this.style.setSky(e),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){const e=this._container;e.classList.add("maplibregl-map");const t=this._canvasContainer=o.create("div","maplibregl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive"),this._canvas=o.create("canvas","maplibregl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const n=this._containerDimensions(),i=this._getClampedPixelRatio(n[0],n[1]);this._resizeCanvas(n[0],n[1],i);const r=this._controlContainer=o.create("div","maplibregl-control-container",e),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{a[e]=o.create("div","maplibregl-ctrl-".concat(e," "),r)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(e,t,n){this._canvas.width=Math.floor(n*e),this._canvas.height=Math.floor(n*t),this._canvas.style.width="".concat(e,"px"),this._canvas.style.height="".concat(t,"px")}_setupPainter(){const e={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let t=null;this._canvas.addEventListener("webglcontextcreationerror",(n=>{t={requestedAttributes:e},n&&(t.statusMessage=n.statusMessage,t.type=n.type)}),{once:!0});const n=this._canvas.getContext("webgl2",e)||this._canvas.getContext("webgl",e);if(!n){const e="Failed to initialize WebGL";throw t?(t.message=e,new Error(JSON.stringify(t))):new Error(e)}this.painter=new fi(n,this.transform),s.testSupport(n)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(e){const n=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),this._removed)return;let i=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const e=this.transform.zoom,r=a.now();this.style.zoomHistory.update(e,r);const o=new t.a9(e,{now:r,fadeDuration:n,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),s=o.crossFadingFactor();1===s&&s===this._crossFadingFactor||(i=!0,this._crossFadingFactor=s),this.style.update(o)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,n,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:n,showPadding:this.showPadding}),this.fire(new t.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,t.be.mark(t.bf.load),this.fire(new t.k("load"))),this.style&&(this.style.hasTransitions()||i)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const r=this._sourcesDirty||this._styleDirty||this._placementDirty;return r||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.k("idle")),!this._loaded||this._fullyLoaded||r||(this._fullyLoaded=!0,t.be.mark(t.bf.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var e;this._hash&&this._hash.remove();for(const t of this._controls)t.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&removeEventListener("online",this._onWindowOnline,!1),f.removeThrottleControl(this._imageQueueHandle),null===(e=this._resizeObserver)||void 0===e||e.disconnect();const n=this.painter.context.gl.getExtension("WEBGL_lose_context");(null==n?void 0:n.loseContext)&&n.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),o.remove(this._canvasContainer),o.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),t.be.clearMetrics(),this._removed=!0,this.fire(new t.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,a.frameAsync(this._frameRequest).then((e=>{t.be.frame(e),this._frameRequest=null,this._render(e)})).catch((()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get version(){return Pr}getCameraTargetElevation(){return this.transform.elevation}},e.MapMouseEvent=Ti,e.MapTouchEvent=Pi,e.MapWheelEvent=Ni,e.Marker=Fr,e.NavigationControl=class{constructor(e){this._updateZoomButtons=()=>{const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},this._rotateCompassArrow=()=>{const e=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(this._map.transform.pitch,"deg) rotateZ(").concat(this._map.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(this._map.transform.angle*(180/Math.PI),"deg)");this._compassIcon.style.transform=e},this._setButtonTitle=(e,t)=>{const n=this._map._getUIString("NavigationControl.".concat(t));e.title=n,e.setAttribute("aria-label",n)},this.options=t.e({},Br,e),this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(e=>this._map.zoomIn({},{originalEvent:e}))),o.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(e=>this._map.zoomOut({},{originalEvent:e}))),o.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})})),this._compassIcon=o.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Lr(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){o.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){const n=o.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}},e.Popup=class extends t.E{constructor(e){super(),this.remove=()=>(this._content&&o.remove(this._content),this._container&&(o.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new t.k("close"))),this),this._onMouseUp=e=>{this._update(e.point)},this._onMouseMove=e=>{this._update(e.point)},this._onDrag=e=>{this._update(e.point)},this._update=e=>{var t;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=o.create("div","maplibregl-popup",this._map.getContainer()),this._tip=o.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const e of this.options.className.split(" "))this._container.classList.add(e);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?zr(this._lngLat,this._flatPos,this._map.transform):null===(t=this._lngLat)||void 0===t?void 0:t.wrap(),this._trackPointer&&!e)return;const n=this._flatPos=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&e?e:this._map.transform.locationPoint(this._lngLat));let i=this.options.anchor;const r=Wr(this.options.offset);if(!i){const e=this._container.offsetWidth,t=this._container.offsetHeight;let a;a=n.y+r.bottom.y<t?["top"]:n.y>this._map.transform.height-t?["bottom"]:[],n.x<e/2?a.push("left"):n.x>this._map.transform.width-e/2&&a.push("right"),i=0===a.length?"bottom":a.join("-")}let a=n.add(r[i]);this.options.subpixelPositioning||(a=a.round()),o.setTransform(this._container,"".concat(Or[i]," translate(").concat(a.x,"px,").concat(a.y,"px)")),Dr(this._container,i,"popup")},this._onClose=()=>{this.remove()},this.options=t.e(Object.create(Hr),e)}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new t.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.N.convert(e),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){const t=document.createDocumentFragment(),n=document.createElement("body");let i;for(n.innerHTML=e;i=n.firstChild,i;)t.appendChild(i);return this.setDOMContent(t)}getMaxWidth(){var e;return null===(e=this._container)||void 0===e?void 0:e.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=o.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){return this._container&&this._container.classList.add(e),this}removeClassName(e){return this._container&&this._container.classList.remove(e),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}setSubpixelPositioning(e){this.options.subpixelPositioning=e}_createCloseButton(){this.options.closeButton&&(this._closeButton=o.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(Xr);e&&e.focus()}},e.RasterDEMTileSource=Z,e.RasterTileSource=Y,e.ScaleControl=class{constructor(e){this._onMove=()=>{qr(this._map,this._container,this.options)},this.setUnit=e=>{this.options.unit=e,qr(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Vr),e)}getDefaultPosition(){return"bottom-left"}onAdd(e){return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){o.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},e.ScrollZoomHandler=or,e.Style=ht,e.TerrainControl=class{constructor(e){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=e}onAdd(e){return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=o.create("button","maplibregl-ctrl-terrain",this._container),o.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){o.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},e.TwoFingersTouchPitchHandler=tr,e.TwoFingersTouchRotateHandler=$i,e.TwoFingersTouchZoomHandler=Ki,e.TwoFingersTouchZoomRotateHandler=dr,e.VectorTileSource=W,e.VideoSource=ee,e.addSourceType=(e,n)=>t._(void 0,void 0,void 0,(function*(){if(ie(e))throw new Error('A source type called "'.concat(e,'" already exists.'));((e,t)=>{ne[e]=t})(e,n)})),e.clearPrewarmedResources=function(){const e=O;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(L),O=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},e.getMaxParallelImageRequests=function(){return t.a.MAX_PARALLEL_IMAGE_REQUESTS},e.getRTLTextPluginStatus=function(){return se().getRTLTextPluginStatus()},e.getVersion=function(){return Yr},e.getWorkerCount=function(){return R.workerCount},e.getWorkerUrl=function(){return t.a.WORKER_URL},e.importScriptInWorkers=function(e){return Q().broadcast("IS",e)},e.prewarm=function(){F().acquire(L)},e.setMaxParallelImageRequests=function(e){t.a.MAX_PARALLEL_IMAGE_REQUESTS=e},e.setRTLTextPlugin=function(e,t){return se().setRTLTextPlugin(e,t)},e.setWorkerCount=function(e){R.workerCount=e},e.setWorkerUrl=function(e){t.a.WORKER_URL=e}})),e}()}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>i[e]));return o.default=()=>i,n.d(a,o),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+e+".c53b2210.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="rent:";n.l=(i,r,a,o)=>{if(e[i])e[i].push(r);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=i),e[i]=[r];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var r=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise(((n,i)=>r=e[t]=[n,i]));i.push(r[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,a,o=i[0],s=i[1],l=i[2],u=0;if(o.some((t=>0!==e[t]))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(t&&t(i);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},i=self.webpackChunkrent=self.webpackChunkrent||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e,t=n(43),i=n.t(t,2),r=n(391),a=n(950),o=n.t(a,2);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,i){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function g(t,n,i,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,p=e.Pop,g=null,m=y();function y(){return(c.state||{idx:null}).idx}function v(){p=e.Pop;let t=y(),n=null==t?null:t-m;m=t,g&&g({action:p,location:_.location,delta:n})}function A(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,c.replaceState(s({},c.state,{idx:m}),""));let _={get action(){return p},get location(){return t(a,c)},listen(e){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(l,v),g=e,()=>{a.removeEventListener(l,v),g=null}},createHref:e=>n(a,e),createURL:A,encodeLocation(e){let t=A(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let r=d(_.location,t,n);i&&i(r,t),m=y()+1;let s=h(r,m),l=_.createHref(r);try{c.pushState(s,"",l)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;a.location.assign(l)}o&&g&&g({action:p,location:_.location,delta:1})},replace:function(t,n){p=e.Replace;let r=d(_.location,t,n);i&&i(r,t),m=y();let a=h(r,m),s=_.createHref(r);c.replaceState(a,"",s),o&&g&&g({action:p,location:_.location,delta:0})},go:e=>c.go(e)};return _}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,i){let r=M(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let a=A(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=N(r);o=T(a[s],e,i)}return o}function A(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let s=O([i,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),A(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:S(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of _(e.path))r(e,t,i);else r(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let o=_(i.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),r&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,b=3,w=2,E=1,I=10,C=-2,k=e=>"*"===e;function S(e,t){let n=e.split("/"),i=n.length;return n.some(k)&&(i+=C),t&&(i+=w),n.filter((e=>!k(e))).reduce(((e,t)=>e+(x.test(t)?b:""===t?E:I)),i)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,r={},a="/",o=[];for(let s=0;s<i.length;++s){let e=i[s],l=s===i.length-1,u="/"===a?t:t.slice(a.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!i[i.length-1].route.index&&(c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(r,c.params),o.push({params:r,pathname:O([a,c.pathname]),pathnameBase:D(O([a,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(a=O([a,c.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:o,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function B(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=L(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function z(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=p(e):(r=s({},e),u(!r.pathname||!r.pathname.includes("?"),B("?","pathname","search",r)),u(!r.pathname||!r.pathname.includes("#"),B("#","pathname","hash",r)),u(!r.search||!r.search.includes("#"),B("#","search","hash",r)));let a,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?p(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:F(i),hash:j(r)}}(r,a),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const O=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],V=(new Set(U),["get",...U]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},q.apply(this,arguments)}const G=t.createContext(null);const H=t.createContext(null);const X=t.createContext(null);const W=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=t.createContext(null);function K(){return null!=t.useContext(W)}function J(){return K()||u(!1),t.useContext(W).location}function $(e){t.useContext(X).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=ce(le.UseNavigateStable),n=de(ue.UseNavigateStable),i=t.useRef(!1);$((()=>{i.current=!0}));let r=t.useCallback((function(t,r){void 0===r&&(r={}),i.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:n},r)))}),[e,n]);return r}():function(){K()||u(!1);let e=t.useContext(G),{basename:n,future:i,navigator:r}=t.useContext(X),{matches:a}=t.useContext(Y),{pathname:o}=J(),s=JSON.stringify(R(a,i.v7_relativeSplatPath)),l=t.useRef(!1);$((()=>{l.current=!0}));let c=t.useCallback((function(t,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof t)return void r.go(t);let a=z(t,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:O([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[n,r,s,o,e]);return c}()}function te(e,n){let{relative:i}=void 0===n?{}:n,{future:r}=t.useContext(X),{matches:a}=t.useContext(Y),{pathname:o}=J(),s=JSON.stringify(R(a,r.v7_relativeSplatPath));return t.useMemo((()=>z(e,JSON.parse(s),o,"path"===i)),[e,s,o,i])}function ne(n,i,r,a){K()||u(!1);let{navigator:o}=t.useContext(X),{matches:s}=t.useContext(Y),l=s[s.length-1],c=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=J();if(i){var g;let e="string"===typeof i?p(i):i;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||u(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let A=y(n,{pathname:v});let _=se(A&&A.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:O([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:O([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,a);return i&&_?t.createElement(W.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},_):_}function ie(){let e=function(){var e;let n=t.useContext(Z),i=he(ue.UseRouteError),r=de(ue.UseRouteError);if(void 0!==n)return n;return null==(e=i.errors)?void 0:e[r]}(),n=Q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:a},i):null,null)}const re=t.createElement(ie,null);class ae extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:n,match:i,children:r}=e,a=t.useContext(G);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(Y.Provider,{value:n},r)}function se(e,n,i,r){var a;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===r&&(r=null),null==e){var o;if(null==(o=i)||!o.errors)return null;e=i.matches}let s=e,l=null==(a=i)?void 0:a.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||u(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,h=-1;if(i&&r&&r.v7_partialHydration)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=i,r=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){c=!0,s=h>=0?s.slice(0,h+1):[s[0]];break}}}return s.reduceRight(((e,r,a)=>{let o,u=!1,d=null,f=null;var p;i&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||re,c&&(h<0&&0===a?(p="route-fallback",!1||fe[p]||(fe[p]=!0),u=!0,f=null):h===a&&(u=!0,f=r.route.hydrateFallbackElement||null)));let g=n.concat(s.slice(0,a+1)),m=()=>{let n;return n=o?d:u?f:r.route.Component?t.createElement(r.route.Component,null):r.route.element?r.route.element:e,t.createElement(oe,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?t.createElement(ae,{location:i.location,revalidation:i.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function ce(e){let n=t.useContext(G);return n||u(!1),n}function he(e){let n=t.useContext(H);return n||u(!1),n}function de(e){let n=function(e){let n=t.useContext(Y);return n||u(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||u(!1),i.route.id}const fe={};i.startTransition;function pe(e){let{to:n,replace:i,state:r,relative:a}=e;K()||u(!1);let{future:o,static:s}=t.useContext(X),{matches:l}=t.useContext(Y),{pathname:c}=J(),h=ee(),d=z(n,R(l,o.v7_relativeSplatPath),c,"path"===a),f=JSON.stringify(d);return t.useEffect((()=>h(JSON.parse(f),{replace:i,state:r,relative:a})),[h,f,a,i,r]),null}function ge(e){u(!1)}function me(n){let{basename:i="/",children:r=null,location:a,navigationType:o=e.Pop,navigator:s,static:l=!1,future:c}=n;K()&&u(!1);let h=i.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:h,navigator:s,static:l,future:q({v7_relativeSplatPath:!1},c)})),[h,c,s,l]);"string"===typeof a&&(a=p(a));let{pathname:f="/",search:g="",hash:m="",state:y=null,key:v="default"}=a,A=t.useMemo((()=>{let e=M(f,h);return null==e?null:{location:{pathname:e,search:g,hash:m,state:y,key:v},navigationType:o}}),[h,f,g,m,y,v,o]);return null==A?null:t.createElement(X.Provider,{value:d},t.createElement(W.Provider,{children:r,value:A}))}function ye(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise((()=>{}));t.Component;function ve(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,((e,r)=>{if(!t.isValidElement(e))return;let a=[...n,r];if(e.type===t.Fragment)return void i.push.apply(i,ve(e.props.children,a));e.type!==ge&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,a)),i.push(o)})),i}function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ae.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const xe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],be=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Sg){}const we=t.createContext({isTransitioning:!1});new Map;const Ee=i.startTransition;o.flushSync,i.useId;function Ie(e){let{basename:n,children:i,future:r,window:a}=e,o=t.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),g((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return d("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,s)));let l=o.current,[u,c]=t.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},p=t.useCallback((e=>{h&&Ee?Ee((()=>c(e))):c(e)}),[c,h]);return t.useLayoutEffect((()=>l.listen(p)),[l,p]),t.createElement(me,{basename:n,children:i,location:u.location,navigationType:u.action,navigator:l,future:r})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=t.forwardRef((function(e,n){let i,{onClick:r,relative:a,reloadDocument:o,replace:s,state:l,target:c,to:h,preventScrollReset:d,unstable_viewTransition:p}=e,g=_e(e,xe),{basename:m}=t.useContext(X),y=!1;if("string"===typeof h&&ke.test(h)&&(i=h,Ce))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=M(t.pathname,m);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(Sg){}let v=function(e,n){let{relative:i}=void 0===n?{}:n;K()||u(!1);let{basename:r,navigator:a}=t.useContext(X),{hash:o,pathname:s,search:l}=te(e,{relative:i}),c=s;return"/"!==r&&(c="/"===s?r:O([r,s])),a.createHref({pathname:c,search:l,hash:o})}(h,{relative:a}),A=function(e,n){let{target:i,replace:r,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l}=void 0===n?{}:n,u=ee(),c=J(),h=te(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let n=void 0!==r?r:f(c)===f(h);u(e,{replace:n,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l})}}),[c,u,h,r,a,i,e,o,s,l])}(h,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,unstable_viewTransition:p});return t.createElement("a",Ae({},g,{href:i||v,onClick:y||o?r:function(e){r&&r(e),e.defaultPrevented||A(e)},ref:n,target:c}))}));const Te=t.forwardRef((function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:a="",end:o=!1,style:s,to:l,unstable_viewTransition:c,children:h}=e,d=_e(e,be),f=te(l,{relative:d.relative}),p=J(),g=t.useContext(H),{navigator:m,basename:y}=t.useContext(X),v=null!=g&&function(e,n){void 0===n&&(n={});let i=t.useContext(we);null==i&&u(!1);let{basename:r}=Me(Pe.useViewTransitionState),a=te(e,{relative:n.relative});if(!i.isTransitioning)return!1;let o=M(i.currentLocation.pathname,r)||i.currentLocation.pathname,s=M(i.nextLocation.pathname,r)||i.nextLocation.pathname;return null!=P(a.pathname,s)||null!=P(a.pathname,o)}(f)&&!0===c,A=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,_=p.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(_=_.toLowerCase(),x=x?x.toLowerCase():null,A=A.toLowerCase()),x&&y&&(x=M(x,y)||x);const b="/"!==A&&A.endsWith("/")?A.length-1:A.length;let w,E=_===A||!o&&_.startsWith(A)&&"/"===_.charAt(b),I=null!=x&&(x===A||!o&&x.startsWith(A)&&"/"===x.charAt(A.length)),C={isActive:E,isPending:I,isTransitioning:v},k=E?i:void 0;w="function"===typeof a?a(C):[a,E?"active":null,I?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let S="function"===typeof s?s(C):s;return t.createElement(Se,Ae({},d,{"aria-current":k,className:w,ref:n,style:S,to:l,unstable_viewTransition:c}),"function"===typeof h?h(C):h)}));var Pe,Ne;function Me(e){let n=t.useContext(G);return n||u(!1),n}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));var Be=n(579);const Le=()=>(0,Be.jsxs)("header",{className:"header",children:[(0,Be.jsx)("img",{src:"data:image/png;base64,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",alt:"Logo",className:"logo"}),(0,Be.jsx)("nav",{className:"nav",children:(0,Be.jsxs)("ul",{children:[(0,Be.jsx)("li",{children:(0,Be.jsx)(Te,{to:"/properties",activeClassName:"active",children:"PROPERTIES"})}),(0,Be.jsx)("li",{children:(0,Be.jsx)(Te,{to:"/activity",activeClassName:"active",children:"MY DASHBOARD/ACTIVITY"})}),(0,Be.jsx)("li",{children:(0,Be.jsx)(Te,{to:"/list-your-property",activeClassName:"active",children:"LIST YOUR PROPERTY"})}),(0,Be.jsx)("li",{children:(0,Be.jsx)(Te,{to:"/contact-us",activeClassName:"active",children:"CONTACT US"})}),(0,Be.jsx)("li",{children:(0,Be.jsx)(Te,{to:"/more",activeClassName:"active",children:"MORE"})}),(0,Be.jsx)("li",{children:(0,Be.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAAA4CAYAAAAMwEGIAAAAAXNSR0IArs4c6QAABMhJREFUeAHtm42R0zAQhVUCJVACJVACHUAJdAAdQAfQwdEBdAAdQAeUAHw32Ruxt5IlWYqTy9uZjBzZ+nv7/LRrJynJhIAQEAJCQAgIASEgBISAEBACQkAICAEhIASEgBAQAkJACAgBIXDNCLxOKf1OKf05fX6mlKiTCYGlCEA0I52VEFH2dBB4kVJ6m1L6lFL6evrcneqeH7XMXO2MeJBRdv0IvDyRzPxaKiEj5Dyrvfm3teaqBxGpk103Ah+CnaxEPKt/d91L1uyPRoAt1cjUW9JWJgS6EUC1IrJ9O8V0r1JKbMHEfNRF16KWw+az1WiAGXXKgoddNL0hcZr3Kf6BaCWjTR5qWftam1Jf9/VRZ9bp7FJZcNUVZztJkpD7Fg60ZK1c4/lCX0MWZav5pGYeM2nZsQhAHu/TnkwVhdvT/mH1Plv1nc76riz4AfJDD4jZcp8Sv/WaV0z6PMS4i7xyjizokMnf2KBfHPFGSOPJe1iG6+8ASNgSM9yYzy9iud5XI8kBGe9e1SyCYdkucVntnaxnPxMauYuKE9GJqQh44kGiXvNx3tTdzWcvEfmoy5nP8dRJ9CKi6zcR+Ox8NiISXmzYvqeZj9kgVU6+iHTaYqfBv6wjTxoUsNe8ao6Qtzgm2a5XMyNfRDrO6d1tEc6LORE9PO6J86L20+P5EvkiQop0F8OtzYl4xSKsaiEP1/gQbFlo1UI+kW7T1xd1gU8OEBIIVXuQTBtPOtrV2uxedI18It1ueA/p4GMhlEINidkgGhkvx14hbcd7v3rmpZiOCeQJx+p5qP+5CPgM1wjVUtJ2qdVIZxMcIR9tyIKR75H2Sxd9I52zW0VPL8yvtXLpTtdCOptcD3l8kMrin92Isy9hmeBf2j7Nny0lotGSlHStuUQ6mM4nmlgr+aIfIS6PF7pW/3QvxkdbKvfr9CKAjPVHwdfmf/pq9fsmqjXSWeNR8nm1yxcg1TN015Qlv0IeXvSTUJR8wLlaTLj7IXJpctGePkK+SO2MfFK9NYSjV/9i3zDn74s92yXXlgg48t73YcXRs5qIdNYgIh93UGQltTMQaFe646L+VNeGQAn3PSpFW/Oblfivh8T/zZ7G1hFljXTW0JMP8kbm1Y7r/HhSvQi5fXWRQrX4dWtU73f4QtIyZHRmhOiZ3Fa76K6DZHxyokv1htxWbERsluPL8cybO1I+xrwYi9QOMrK1SvXWuck/Nvm+YCg/xrDqzZ5bSe1sHKmeITG3BHevdiverUaqehGxekntDGapniExt/Qx2LJfkgQPpPckLlNQ2FI7G0SqZ0jMK2f8sad1Nj7WO+wPQDZhr3Ze+mvfZwbBNp9bKonncnxXBv3+B6KlJxtnwT9SuxyIrWNluPvc5JO2lXEXfef+ZOzDbI/a2SKkeuPuMwytHO+praWNY2Vbq8lX7VU7m7xUb9wx+VZ7jq3v3OOFyHi1Y+GQccuU4W4h1H4evEkw+LRg395zfOW5x3s0CyYA0Uy1KHu2TGW4jyBVRQsCo2pnfUv1DAmVzQjsVTsbSKpnSKhsQmCv2tkgUj1DQmUTAntiOz9ApHr+Gn0XAvcI5A8tWzPZEnRe9ehPJgRCBLZ+lxc2qlTO7q8ylE4JASEgBISAEJiFwF+3NGx4BMVdXgAAAABJRU5ErkJggg==",alt:"Huge Logo",className:"hugelogo"})})]})})]}),Re="data:image/png;base64,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",ze=e=>{let{submitHandler:t}=e;return(0,Be.jsx)("form",{className:"ending",onSubmit:t,children:(0,Be.jsxs)("div",{className:"home-form-actions",children:[(0,Be.jsx)("p",{className:"home-need-help",children:"Need Help?"}),(0,Be.jsx)("p",{className:"home-phoneno",children:"Call 999999999"}),(0,Be.jsx)("button",{type:"submit",className:"home-submit",children:"Next"})]})})},Oe=()=>(0,Be.jsx)("div",{className:"form-title",children:(0,Be.jsx)("p",{className:"get-started",children:"LET'S GET YOU STARTED!"})}),De="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAAAXNSR0IArs4c6QAAALVJREFUKBWtUNsNwjAMzCgdgTEQ1I8ROkI3ghHYgG6QEWCDjnDI7iNuWiQ+iBQlOd85d07pXwsX6mz/3A+tvEHy+irAWZtYPBKsHLtYN5DcFjAKvN7KEySjN3WAXQADcaUerWSwZJD2jpEAxEN0kUDaoQhNPG3H9HgA82/jhlzlK7aI74E4gqUIQ74E1dNKJB78bRlsEKpNtLlmAPHDAi5AnJJhHp4lL/XdWQt2hBqY/U9zD8UP6XGoU+iALFsAAAAASUVORK5CYII=",Fe=["Afghanistan","\xc5land Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia, Plurinational State of","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo, the Democratic Republic of the","Cook Islands","Costa Rica","C\xf4te d'Ivoire","Croatia","Cuba","Cura\xe7ao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran, Islamic Republic of","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Democratic People's Republic of","Korea, Republic of","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, the former Yugoslav Republic of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova, Republic of","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territory, Occupied","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","R\xe9union","Romania","Russian Federation","Rwanda","Saint Barth\xe9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan, Province of China","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela, Bolivarian Republic of","Viet Nam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"],je=e=>{let{formState:t,errors:n,onUserTypeChange:i,onNameChange:r,onPhoneNumberChange:a,onEmailChange:o,onSubmit:s}=e;return(0,Be.jsx)("div",{className:"whole-form",children:(0,Be.jsx)("form",{className:"form",onSubmit:s,children:(0,Be.jsxs)("div",{className:"information",children:[(0,Be.jsxs)("div",{className:"identity",children:[(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp"}),(0,Be.jsx)("p",{children:"I am:"})]}),(0,Be.jsxs)("div",{className:"radio-group",children:[(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"owner",name:"userType",value:"owner",checked:"owner"===t.userType,onChange:i}),(0,Be.jsx)("label",{htmlFor:"owner",children:"Owner"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"builder",name:"userType",value:"builder",checked:"builder"===t.userType,onChange:i}),(0,Be.jsx)("label",{htmlFor:"builder",children:"Builder"})]})]}),n.userType&&(0,Be.jsx)("p",{className:"error",children:n.userType}),(0,Be.jsxs)("div",{className:"name",children:[(0,Be.jsxs)("label",{htmlFor:"name",children:["Your Name ",(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp1"})]}),(0,Be.jsx)("div",{className:"name-input",children:(0,Be.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Name",className:"rec-box",value:t.name,onChange:r})})]}),n.name&&(0,Be.jsx)("p",{className:"error",children:n.name}),(0,Be.jsxs)("div",{className:"name",children:[(0,Be.jsxs)("label",{htmlFor:"country",children:["Country ",(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp1"})]}),(0,Be.jsx)("div",{className:"name-input",children:(0,Be.jsx)("select",{id:"country",name:"country",defaultValue:"India",className:"rec-box",children:Fe.map(((e,t)=>(0,Be.jsx)("option",{value:e,children:e},t)))})})]}),(0,Be.jsxs)("div",{className:"name",children:[(0,Be.jsxs)("label",{htmlFor:"phoneCode",children:["Phone ",(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp1"})]}),(0,Be.jsxs)("div",{className:"name-input",children:[(0,Be.jsxs)("select",{id:"phoneCode",name:"phoneCode",defaultValue:"91",className:"small-rec-box",children:[(0,Be.jsx)("option",{value:"91",children:"+91"}),(0,Be.jsx)("option",{value:"1",children:"+1"})]}),(0,Be.jsx)("input",{type:"text",id:"phoneNumber",name:"phoneNumber",placeholder:"Phone Number",className:"big-rec-box",value:t.phoneNumber,onChange:a})]})]}),n.phone&&(0,Be.jsx)("p",{className:"error",children:n.phone}),(0,Be.jsx)("div",{className:"or",children:(0,Be.jsx)("label",{htmlFor:"or",children:"OR"})}),(0,Be.jsxs)("div",{className:"name-marg",children:[(0,Be.jsxs)("label",{htmlFor:"email",children:["Email ",(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp1"})]}),(0,Be.jsx)("div",{className:"name-input",children:(0,Be.jsx)("input",{type:"text",id:"email",name:"email",placeholder:"Email",className:"rec-box",value:t.email,onChange:o})})]}),n.email&&(0,Be.jsx)("p",{className:"error",children:n.email}),n.contact&&(0,Be.jsx)("p",{className:"error",children:n.contact})]})})})},Qe=()=>{const e=ee(),[n,i]=(0,t.useState)({userType:"",name:"",phoneNumber:"",email:""}),[r,a]=(0,t.useState)({}),o=t=>{t.preventDefault();let r={};if(n.userType||(r.userType="Please select an option"),n.name||(r.name="Please enter your name"),n.email||n.phoneNumber?(n.email&&!n.email.includes("@")&&(r.email="Please enter a valid email"),n.phoneNumber&&10!==n.phoneNumber.length&&(r.phone="Please enter a valid 10-digit phone number")):r.contact="Please enter either your phone number or email",Object.keys(r).length>0)return a(r),void alert(Object.values(r).join("\n"));console.log(n),i({userType:"",name:"",phoneNumber:"",email:""}),a({}),e("/list-your-property/property-details")};return(0,Be.jsxs)("div",{className:"container",children:[(0,Be.jsx)(Oe,{}),(0,Be.jsx)(je,{formState:n,errors:r,onUserTypeChange:e=>{i({...n,userType:e.target.value})},onNameChange:e=>{i({...n,name:e.target.value})},onPhoneNumberChange:e=>{i({...n,phoneNumber:e.target.value})},onEmailChange:e=>{i({...n,email:e.target.value})},onSubmit:o}),(0,Be.jsx)(ze,{submitHandler:o})]})},Ue=()=>(0,Be.jsxs)("div",{className:"homepage",children:[(0,Be.jsxs)("div",{className:"description",children:[(0,Be.jsx)("p",{className:"big",children:"Sell or Rent your Property For Free"}),(0,Be.jsx)("p",{className:"small",children:"Whether you're ready to sell or looking for answers, we'll guide you with data and expertise specific to your needs."})]}),(0,Be.jsxs)("div",{className:"form-back",children:[(0,Be.jsxs)("div",{className:"steps",children:[(0,Be.jsx)("p",{className:"steps-title",children:"Upload your property in 4 simple steps"}),(0,Be.jsxs)("div",{className:"step-details",children:[(0,Be.jsxs)("div",{className:"each-step",children:[(0,Be.jsx)("img",{src:Re,alt:"tick",className:"tick"}),(0,Be.jsx)("p",{className:"step-text",children:"Add your property's Basic Details"})]}),(0,Be.jsxs)("div",{className:"each-step",children:[(0,Be.jsx)("img",{src:Re,alt:"tick",className:"tick"}),(0,Be.jsx)("p",{className:"step-text",children:"Add property Location"})]}),(0,Be.jsxs)("div",{className:"each-step",children:[(0,Be.jsx)("img",{src:Re,alt:"tick",className:"tick"}),(0,Be.jsx)("p",{className:"step-text",children:"Add property Features and amenities"})]}),(0,Be.jsxs)("div",{className:"each-step",children:[(0,Be.jsx)("img",{src:Re,alt:"tick",className:"tick"}),(0,Be.jsx)("p",{className:"step-text",children:"Add Price details"})]}),(0,Be.jsxs)("div",{className:"each-step",children:[(0,Be.jsx)("img",{src:Re,alt:"tick",className:"tick"}),(0,Be.jsx)("p",{className:"step-text",children:"Add your best Property Shots"})]})]})]}),(0,Be.jsx)(Qe,{})]})]}),Ve=e=>{let{currPage:t,handleSubmit:n}=e;return(0,Be.jsx)("div",{className:"form-end",children:(0,Be.jsxs)("div",{className:"form-actions",children:[(0,Be.jsx)("p",{className:"need-help",children:"Need Help?"}),(0,Be.jsx)("p",{className:"phoneno",children:"Call 999999999"}),5!=t&&(0,Be.jsx)("button",{type:"submit",className:"submit",children:"NEXT"}),5==t&&(0,Be.jsx)("button",{type:"submit",className:"submit",children:"SAVE AND POST"})]})})},qe=e=>{let{children:t,currPage:n,handleSubmit:i}=e;const r=ee();return(0,Be.jsx)("form",{className:"sellers-flow",onSubmit:e=>{e.preventDefault(),"1"===n&&i(),"2"===n&&i(),"3"===n&&i(),"4"===n&&i(),"5"===n&&r("/list-your-property/modal")},children:(0,Be.jsxs)("div",{className:"seller-box",children:[(0,Be.jsxs)("div",{className:"index-box",children:[(0,Be.jsxs)("div",{className:"upper-box",children:[(0,Be.jsx)("div",{className:"1"===n?"box-highlighted":"normal-box",style:{borderRadius:"16px 0px 0px 0px"},children:(0,Be.jsxs)("p",{children:["PROPERTY",(0,Be.jsx)("br",{})," DETAILS"]})}),(0,Be.jsx)("div",{className:"2"===n?"box-highlighted":"normal-box",children:(0,Be.jsxs)("p",{children:["LOCATION",(0,Be.jsx)("br",{}),"DETAILS"]})}),(0,Be.jsx)("div",{className:"3"===n?"box-highlighted":"normal-box",children:(0,Be.jsxs)("p",{children:["FEATURES &",(0,Be.jsx)("br",{})," AMENITIES"]})}),(0,Be.jsx)("div",{className:"4"===n?"box-highlighted":"normal-box",children:(0,Be.jsx)("p",{children:"PRICE DETAILS"})}),(0,Be.jsx)("div",{className:"5"===n?"box-highlighted":"normal-box",style:{borderRadius:"0px 16px 0px 0px"},children:(0,Be.jsxs)("p",{children:["PROPERTY",(0,Be.jsx)("br",{}),"IMAGES"]})})]}),(0,Be.jsx)("div",{className:"small-box"})]}),(0,Be.jsx)("div",{className:"full-box",children:(0,Be.jsx)("div",{className:"content-box",children:t})}),(0,Be.jsx)(Ve,{currPage:n})]})})},Ge=e=>{const[n,i]=(0,t.useState)(!1);return(0,Be.jsx)("button",{className:"small-card ".concat(n?"clicked":""),onClick:()=>{i(!n),e.onClick(e.children)},children:e.children})},He=(0,t.createContext)(),Xe=e=>{const[n,i]=(0,t.useState)(0),[r,a]=(0,t.useState)(0),[o,s]=(0,t.useState)(0),[l,u]=(0,t.useState)(""),[c,h]=(0,t.useState)(""),[d,f]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[m,y]=(0,t.useState)(""),[v,A]=(0,t.useState)(""),[_,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[E,I]=(0,t.useState)(""),[C,k]=(0,t.useState)(""),[S,T]=(0,t.useState)(""),[P,N]=(0,t.useState)(""),[M,B]=(0,t.useState)(""),[L,R]=(0,t.useState)(""),[z,O]=(0,t.useState)(""),[D,F]=(0,t.useState)(""),[j,Q]=(0,t.useState)([]),[U,V]=(0,t.useState)(""),q={bedrooms:n,setBedrooms:i,bathrooms:r,setBathrooms:a,sqft:o,setSqft:s,propertyOnFloor:l,setPropertyOnFloor:u,totalFloors:c,setTotalFloors:h,facing:d,setFacing:f,balcony:p,setBalcony:g,furnishing:m,setFurnishing:y,tiles:v,setTiles:A,tenantPreference:_,setTenantPreference:x,flooring:b,setFlooring:w,availability:E,setAvailability:I,waterSupply:C,setWaterSupply:k,petsAllowed:S,setPetsAllowed:T,nonVegAllowed:P,setNonVegAllowed:N,electricityStatus:M,setElectricityStatus:B,propertyAge:L,setPropertyAge:R,propertyType:z,setPropertyType:O,gatedSecurity:D,setGatedSecurity:F,amenities:j,setAmenities:Q,description:U,setDescription:V};return(0,Be.jsx)(He.Provider,{value:q,children:e.children})},We=He,Ye=()=>{const e=ee(),n=(0,t.useContext)(We),[i,r]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[u,c]=(0,t.useState)(""),[h,d]=(0,t.useState)({}),f=e=>{c(e.target.value)},p=e=>{n.setPropertyType(e),console.log(n.propertyType)};(0,t.useEffect)((()=>{n.setSqft(n.sqft),console.log(n.sqft)}),[n.sqft]);(0,t.useEffect)((()=>{n.setPropertyOnFloor(n.propertyOnFloor),console.log(n.propertyOnFloor)}),[n.propertyOnFloor]);(0,t.useEffect)((()=>{n.setTotalFloors(n.totalFloors),console.log(n.totalFloors)}),[n.totalFloors]);(0,t.useEffect)((()=>{n.setFacing(n.facing),console.log(n.facing)}),[n.facing]);const g=e=>{n.setPropertyAge(e)};(0,t.useEffect)((()=>{n.setPropertyAge(n.propertyAge),console.log(n.propertyAge)}),[n.propertyAge]);const m=e=>{n.setBedrooms(e)};(0,t.useEffect)((()=>{n.setBedrooms(n.bedrooms),console.log(n.bedrooms)}),[n.bedrooms]);const y=e=>{n.setBathrooms(e)};(0,t.useEffect)((()=>{n.setBathrooms(n.bathrooms),console.log(n.bathrooms)}),[n.bathrooms]);const v=e=>{n.setBalcony(e)};(0,t.useEffect)((()=>{n.setBalcony(n.balcony),console.log(n.balcony)}),[n.balcony]);const A=e=>{n.setTenantPreference(e)};(0,t.useEffect)((()=>{n.setTenantPreference(n.tenantPreference),console.log(n.tenantPreference)}),[n.tenantPreference]);const _=e=>{n.setAvailability(e)};(0,t.useEffect)((()=>{n.setAvailability(n.availability),console.log(n.availability)}),[n.availability]);return(0,t.useEffect)((()=>{n.setDescription(n.description),console.log(n.description)}),[n.description]),(0,Be.jsx)(t.Fragment,{children:(0,Be.jsxs)(qe,{currPage:"1",handleSubmit:()=>{const t=(()=>{let e={};return u||(e.propertyFor="Please select property for"),i||a||s||(e.propertyType="Please select a property type"),n.sqft||(e.sqft="Built up area is required"),n.propertyOnFloor||(e.propertyOnFloor="Property floor number is required"),n.totalFloors||(e.totalFloors="Total floors is required"),n.facing||(e.facing="Property facing direction is required"),n.propertyAge||(e.propertyAge="Property age is required"),n.bedrooms||(e.bedrooms="Number of bedrooms is required"),n.bathrooms||(e.bathrooms="Number of bathrooms is required"),n.balcony||(e.balcony="Number of balconies is required"),n.tenantPreference||(e.tenantPreference="Tenant preference is required"),n.availability||(e.availability="Availability is required"),n.description||(e.description="Property description is required"),e})();if(Object.keys(t).length>0)return d(t),void alert(Object.values(t).join("\n"));d({}),e("/list-your-property/location-details")},children:[(0,Be.jsxs)("div",{className:"property-for",children:[(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"}),(0,Be.jsx)("p",{children:"Property For :"})]}),(0,Be.jsxs)("div",{className:"radio-group",children:[(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"Rent",name:"userType",value:"Rent",onChange:f}),(0,Be.jsx)("label",{htmlFor:"Rent",children:"Rent"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"Sale",name:"userType",value:"Sale",onChange:f}),(0,Be.jsx)("label",{htmlFor:"Sale",children:"Sale"})]})]}),h.propertyFor&&(0,Be.jsx)("p",{className:"error",children:h.propertyFor}),(0,Be.jsxs)("div",{className:"property-for-1",children:[(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"}),(0,Be.jsx)("p",{children:"Property Type :"})]}),(0,Be.jsxs)("div",{className:"radio-group",children:[(0,Be.jsxs)("div",{className:"radio-option-1",children:[(0,Be.jsx)("input",{type:"radio",id:"Residential",name:"Residential",value:"Residential",onClick:e=>{r(e.target.value),o(""),l("")}}),(0,Be.jsx)("label",{htmlFor:"Rent",children:"Residential"})]}),(0,Be.jsxs)("div",{className:"radio-option-1",children:[(0,Be.jsx)("input",{type:"radio",id:"Commercial",name:"Commercial",value:"Commercial",onClick:e=>{o(e.target.value),r(""),l("")}}),(0,Be.jsx)("label",{htmlFor:"Sale",children:"Commercial"})]}),(0,Be.jsxs)("div",{className:"radio-option-1",children:[(0,Be.jsx)("input",{type:"radio",id:"Land / Plot",name:"Land / Plot",value:"Land / Plot",onClick:e=>{l(e.target.value),r(""),o("")}}),(0,Be.jsx)("label",{htmlFor:"Sale",children:"Land / Plot"})]})]}),i&&(0,Be.jsxs)("div",{className:"residential-box",children:[(0,Be.jsx)(Ge,{onClick:()=>p("Flat Apartment"),children:"Flat Apartment"}),(0,Be.jsx)(Ge,{onClick:()=>p("House / Villa"),children:"House / Villa"})]}),a&&(0,Be.jsxs)("div",{className:"residential-box",children:[(0,Be.jsx)(Ge,{onClick:p,children:"Office Space"}),(0,Be.jsx)(Ge,{onClick:p,children:"Co working"}),(0,Be.jsx)(Ge,{onClick:p,children:"Restaurant /Cafe"}),(0,Be.jsx)(Ge,{onClick:p,children:"Shop/Showroom"}),(0,Be.jsx)(Ge,{onClick:p,children:"Industrial Bldg."}),(0,Be.jsx)(Ge,{onClick:p,children:"Industrial Shed"}),(0,Be.jsx)(Ge,{onClick:p,children:"WareHouse/Godown"})]}),h.propertyType&&(0,Be.jsx)("p",{className:"error",children:h.propertyType}),(0,Be.jsxs)("div",{className:"square",children:[(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:["Built up Area ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsx)("input",{type:"text",placeholder:"0",className:"text-box",onChange:e=>{n.setSqft(e.target.value)}})]}),(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:["Carpet Area ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsx)("input",{type:"text",placeholder:"0",className:"text-box"})]})]}),h.sqft&&(0,Be.jsx)("p",{className:"error",children:h.sqft}),(0,Be.jsxs)("div",{className:"square",children:[(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:["Property on Floor"," ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsx)("input",{type:"text",placeholder:"Floor",className:"floor-1",onChange:e=>{n.setPropertyOnFloor(e.target.value)}}),h.propertyOnFloor&&(0,Be.jsx)("p",{className:"error",children:h.propertyOnFloor})]}),(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:["Total Floors ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsx)("input",{type:"text",placeholder:"Total Floor",className:"floor-2",onChange:e=>{n.setTotalFloors(e.target.value)}}),h.totalFloors&&(0,Be.jsx)("p",{className:"error",children:h.totalFloors})]}),(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:["Property Facing ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsxs)("select",{id:"facing",name:"property",className:"floor-3",onChange:e=>{n.setFacing(e.target.value)},children:[(0,Be.jsx)("option",{value:"",children:"Select"}),["North","South","East","West","North-East","North-West","South-East","South-West"].map(((e,t)=>(0,Be.jsx)("option",{value:e,children:e},t)))]}),h.facing&&(0,Be.jsx)("p",{className:"error",children:h.facing})]})]}),(0,Be.jsxs)("div",{className:"property-for-1",children:[(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"}),(0,Be.jsx)("p",{children:"Property Age"})]}),(0,Be.jsxs)("div",{className:"property-options",children:[(0,Be.jsx)(Ge,{onClick:g,children:"Less than 1 Year"}),(0,Be.jsx)(Ge,{onClick:g,children:"1- 3 Years"}),(0,Be.jsx)(Ge,{onClick:g,children:"3- 5 Years"}),(0,Be.jsx)(Ge,{onClick:g,children:"5 - 10 Years"}),(0,Be.jsx)(Ge,{onClick:g,children:"Greater than 10 Years"})]}),h.propertyAge&&(0,Be.jsx)("p",{className:"error",children:h.propertyAge}),(0,Be.jsxs)("div",{className:"property-for-1",children:[(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"}),(0,Be.jsx)("p",{children:"BHK Type"})]}),(0,Be.jsxs)("div",{className:"property-options",children:[(0,Be.jsx)(Ge,{onClick:()=>{m("One(0)")},children:"1RK"}),(0,Be.jsx)(Ge,{onClick:()=>{m("One(1)")},children:"1BHK"}),(0,Be.jsx)(Ge,{onClick:()=>{m("Two(2)")},children:"2BHK"}),(0,Be.jsx)(Ge,{onClick:()=>{m("Three(3)")},children:"3BHK"}),(0,Be.jsx)(Ge,{onClick:()=>{m("Four(4)")},children:"4BHK"}),(0,Be.jsx)(Ge,{onClick:()=>{m("Five(5+)")},children:"5+ BHK"})]}),h.bedrooms&&(0,Be.jsx)("p",{className:"error",children:h.bedrooms}),(0,Be.jsxs)("div",{className:"property-for-1",children:[(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"}),(0,Be.jsx)("p",{children:"Bathrooms/Toilets"})]}),(0,Be.jsxs)("div",{className:"property-options",children:[(0,Be.jsx)(Ge,{onClick:()=>{y("Zero(0)")},children:"0"}),(0,Be.jsx)(Ge,{onClick:()=>{y("One(1)")},children:"1"}),(0,Be.jsx)(Ge,{onClick:()=>{y("Two(2)")},children:"2"}),(0,Be.jsx)(Ge,{onClick:()=>{y("Three(3)")},children:"3"}),(0,Be.jsx)(Ge,{onClick:()=>{y("Four(4)")},children:"4"}),(0,Be.jsx)(Ge,{onClick:()=>{y("Five(5)")},children:"5"}),(0,Be.jsx)(Ge,{onClick:()=>{y("Six(6+)")},children:"6+"})]}),h.bathrooms&&(0,Be.jsx)("p",{className:"error",children:h.bathrooms}),(0,Be.jsxs)("div",{className:"property-for-1",children:[(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"}),(0,Be.jsx)("p",{children:"Balcony"})]}),(0,Be.jsxs)("div",{className:"property-options",children:[(0,Be.jsx)(Ge,{onClick:v,children:"0"}),(0,Be.jsx)(Ge,{onClick:v,children:"1"}),(0,Be.jsx)(Ge,{onClick:v,children:"2"}),(0,Be.jsx)(Ge,{onClick:v,children:"3"}),(0,Be.jsx)(Ge,{onClick:v,children:"4+"})]}),h.balcony&&(0,Be.jsx)("p",{className:"error",children:h.balcony}),(0,Be.jsxs)("div",{className:"property-for-1",children:[(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"}),(0,Be.jsx)("p",{children:"Tenant Preference"})]}),(0,Be.jsxs)("div",{className:"property-options",children:[(0,Be.jsx)(Ge,{onClick:A,children:"Any"}),(0,Be.jsx)(Ge,{onClick:A,children:"Family"}),(0,Be.jsx)(Ge,{onClick:A,children:"Bachelor(Man)"}),(0,Be.jsx)(Ge,{onClick:A,children:"Bachekor(Women)"})]}),h.tenantPreference&&(0,Be.jsx)("p",{className:"error",children:h.tenantPreference}),(0,Be.jsxs)("div",{className:"property-for-1",children:[(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"}),(0,Be.jsx)("p",{children:"Availabiliy"})]}),(0,Be.jsxs)("div",{className:"property-options",children:[(0,Be.jsx)(Ge,{onClick:_,children:"Immediate"}),(0,Be.jsx)(Ge,{onClick:_,children:"within 15 days"}),(0,Be.jsx)(Ge,{onClick:_,children:"within 1 month"}),(0,Be.jsx)(Ge,{onClick:_,children:"within 2 months"})]}),h.availability&&(0,Be.jsx)("p",{className:"error",children:h.availability}),(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:[(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"}),"Property Description"]}),(0,Be.jsx)("input",{type:"text",placeholder:"Add a description for your property to attract the best tenant",className:"property-description",onChange:e=>{n.setDescription(e.target.value),console.log(n.description)}})]}),h.description&&(0,Be.jsx)("p",{className:"error",children:h.description}),(0,Be.jsx)("div",{className:"leave-margin"})]})})};var Ze=n(66),Ke=n.n(Ze),Je=Object.defineProperty,$e=(e,t,n)=>((e,t,n)=>t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);function et(){}function tt(e){return e()}function nt(){return Object.create(null)}function it(e){e.forEach(tt)}function rt(e){return"function"==typeof e}function at(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let ot,st;function lt(e,t){return e===t||(ot||(ot=document.createElement("a")),ot.href=t,e===ot.href)}function ut(e,t,n,i){return e[1]&&i?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](i(t))):n.ctx}function ct(e){return null!==e&&void 0!==e?e:""}function ht(e,t){e.appendChild(t)}function dt(e,t,n){e.insertBefore(t,n||null)}function ft(e){e.parentNode&&e.parentNode.removeChild(e)}function pt(e){return document.createElement(e)}function gt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function mt(e){return document.createTextNode(e)}function yt(){return mt(" ")}function vt(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function At(e){return function(t){return t.preventDefault(),e.call(this,t)}}function _t(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function xt(e,t){t=""+t,e.data!==t&&(e.data=t)}function bt(e,t){e.value=null!==t&&void 0!==t?t:""}function wt(e,t,n){e.classList.toggle(t,!!n)}function Et(e){st=e}function It(){if(!st)throw new Error("Function called outside component initialization");return st}function Ct(){const e=It();return function(t,n){let{cancelable:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.$$.callbacks[t];if(r){const a=function(e,t){let{bubbles:n=!1,cancelable:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}(t,n,{cancelable:i});return r.slice().forEach((t=>{t.call(e,a)})),!a.defaultPrevented}return!0}}function kt(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const St=[],Tt=[];let Pt=[];const Nt=[],Mt=Promise.resolve();let Bt=!1;function Lt(e){Pt.push(e)}const Rt=new Set;let zt=0;function Ot(){if(0!==zt)return;const e=st;do{try{for(;zt<St.length;){const e=St[zt];zt++,Et(e),Dt(e.$$)}}catch(Sg){throw St.length=0,zt=0,Sg}for(Et(null),St.length=0,zt=0;Tt.length;)Tt.pop()();for(let e=0;e<Pt.length;e+=1){const t=Pt[e];Rt.has(t)||(Rt.add(t),t())}Pt.length=0}while(St.length);for(;Nt.length;)Nt.pop()();Bt=!1,Rt.clear(),Et(e)}function Dt(e){if(null!==e.fragment){e.update(),it(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Lt)}}const Ft=new Set;let jt;function Qt(){jt={r:0,c:[],p:jt}}function Ut(){jt.r||it(jt.c),jt=jt.p}function Vt(e,t){e&&e.i&&(Ft.delete(e),e.i(t))}function qt(e,t,n,i){if(e&&e.o){if(Ft.has(e))return;Ft.add(e),jt.c.push((()=>{Ft.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}function Gt(e){return void 0!==(null==e?void 0:e.length)?e:Array.from(e)}function Ht(e,t){qt(e,1,1,(()=>{t.delete(e.key)}))}function Xt(e){e&&e.c()}function Wt(e,t,n){const{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),Lt((()=>{const t=e.$$.on_mount.map(tt).filter(rt);e.$$.on_destroy?e.$$.on_destroy.push(...t):it(t),e.$$.on_mount=[]})),r.forEach(Lt)}function Yt(e,t){const n=e.$$;null!==n.fragment&&(function(e){const t=[],n=[];Pt.forEach((i=>-1===e.indexOf(i)?t.push(i):n.push(i))),n.forEach((e=>e())),Pt=t}(n.after_update),it(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Zt(e,t){-1===e.$$.dirty[0]&&(St.push(e),Bt||(Bt=!0,Mt.then(Ot)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Kt(e,t,n,i,r,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const l=st;Et(e);const u=e.$$={fragment:null,ctx:[],props:a,update:et,not_equal:r,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:nt(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=n?n(e,t.props||{},(function(t,n){const i=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return u.ctx&&r(u.ctx[t],u.ctx[t]=i)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](i),c&&Zt(e,t)),n})):[],u.update(),c=!0,it(u.before_update),u.fragment=!!i&&i(u.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);u.fragment&&u.fragment.l(e),e.forEach(ft)}else u.fragment&&u.fragment.c();t.intro&&Vt(e.$$.fragment),Wt(e,t.target,t.anchor),Ot()}Et(l)}class Jt{constructor(){$e(this,"$$"),$e(this,"$$set")}$destroy(){Yt(this,1),this.$destroy=et}$on(e,t){if(!rt(t))return et;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function $t(e){let t,n;return{c(){t=gt("svg"),n=gt("path"),_t(n,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),_t(t,"viewBox","0 0 14 14"),_t(t,"width","13"),_t(t,"height","13"),_t(t,"class","svelte-en2qvf")},m(e,i){dt(e,t,i),ht(t,n)},p:et,i:et,o:et,d(e){e&&ft(t)}}}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class en extends Jt{constructor(e){super(),Kt(this,e,null,$t,at,{})}}function tn(e){let t,n;return{c(){t=gt("svg"),n=gt("path"),_t(n,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),_t(t,"viewBox","0 0 30 30"),_t(t,"fill","none"),_t(t,"xmlns","http://www.w3.org/2000/svg"),_t(t,"class","svelte-d2loi5")},m(e,i){dt(e,t,i),ht(t,n)},p:et,i:et,o:et,d(e){e&&ft(t)}}}class nn extends Jt{constructor(e){super(),Kt(this,e,null,tn,at,{})}}function rn(e){let t,n;return{c(){t=pt("img"),lt(t.src,n=e[3]+"area.svg")||_t(t,"src",n),_t(t,"alt",e[6]),_t(t,"class","svelte-ltkwvy")},m(e,n){dt(e,t,n)},p(e,i){8&i&&!lt(t.src,n=e[3]+"area.svg")&&_t(t,"src",n),64&i&&_t(t,"alt",e[6])},d(e){e&&ft(t)}}}function an(e){let t,n;return{c(){t=pt("img"),lt(t.src,n=e[3]+"reverse.svg")||_t(t,"src",n),_t(t,"alt",e[6]),_t(t,"class","svelte-ltkwvy")},m(e,n){dt(e,t,n)},p(e,i){8&i&&!lt(t.src,n=e[3]+"reverse.svg")&&_t(t,"src",n),64&i&&_t(t,"alt",e[6])},d(e){e&&ft(t)}}}function on(e){let t,n;return{c(){t=pt("img"),lt(t.src,n=e[3]+"poi.svg")||_t(t,"src",n),_t(t,"alt",e[6]),_t(t,"class","svelte-ltkwvy")},m(e,n){dt(e,t,n)},p(e,i){8&i&&!lt(t.src,n=e[3]+"poi.svg")&&_t(t,"src",n),64&i&&_t(t,"alt",e[6])},d(e){e&&ft(t)}}}function sn(e){let t,n;return{c(){t=pt("img"),lt(t.src,n=e[3]+"postal_code.svg")||_t(t,"src",n),_t(t,"alt",e[6]),_t(t,"class","svelte-ltkwvy")},m(e,n){dt(e,t,n)},p(e,i){8&i&&!lt(t.src,n=e[3]+"postal_code.svg")&&_t(t,"src",n),64&i&&_t(t,"alt",e[6])},d(e){e&&ft(t)}}}function ln(e){let t,n;return{c(){t=pt("img"),lt(t.src,n=e[3]+"street.svg")||_t(t,"src",n),_t(t,"alt",e[6]),_t(t,"class","svelte-ltkwvy")},m(e,n){dt(e,t,n)},p(e,i){8&i&&!lt(t.src,n=e[3]+"street.svg")&&_t(t,"src",n),64&i&&_t(t,"alt",e[6])},d(e){e&&ft(t)}}}function un(e){let t,n;return{c(){t=pt("img"),lt(t.src,n=e[3]+"road.svg")||_t(t,"src",n),_t(t,"alt",e[6]),_t(t,"class","svelte-ltkwvy")},m(e,n){dt(e,t,n)},p(e,i){8&i&&!lt(t.src,n=e[3]+"road.svg")&&_t(t,"src",n),64&i&&_t(t,"alt",e[6])},d(e){e&&ft(t)}}}function cn(e){let t,n;return{c(){t=pt("img"),lt(t.src,n=e[3]+"housenumber.svg")||_t(t,"src",n),_t(t,"alt",e[6]),_t(t,"class","svelte-ltkwvy")},m(e,n){dt(e,t,n)},p(e,i){8&i&&!lt(t.src,n=e[3]+"housenumber.svg")&&_t(t,"src",n),64&i&&_t(t,"alt",e[6])},d(e){e&&ft(t)}}}function hn(e){let t,n,i,r;return{c(){t=pt("img"),lt(t.src,n=e[5])||_t(t,"src",n),_t(t,"alt",e[4]),_t(t,"class","svelte-ltkwvy")},m(n,a){dt(n,t,a),i||(r=vt(t,"error",e[14]),i=!0)},p(e,i){32&i&&!lt(t.src,n=e[5])&&_t(t,"src",n),16&i&&_t(t,"alt",e[4])},d(e){e&&ft(t),i=!1,r()}}}function dn(e){let t,n;return{c(){t=pt("span"),n=mt(e[6]),_t(t,"class","secondary svelte-ltkwvy")},m(e,i){dt(e,t,i),ht(t,n)},p(e,t){64&t&&xt(n,e[6])},d(e){e&&ft(t)}}}function fn(e){var t,n;let i,r,a,o,s,l,u,c,h,d,f,p,g,m,y,v=(e[7]?e[0].place_name:e[0].place_name.replace(/,.*/,""))+"",A="always"===e[2]||e[2]&&!e[0].address&&"road"!==(null==(t=e[0].properties)?void 0:t.kind)&&"road_relation"!==(null==(n=e[0].properties)?void 0:n.kind)&&!e[0].id.startsWith("address.")&&!e[0].id.startsWith("postal_code.")&&(!e[0].id.startsWith("poi.")||!e[5])&&!e[7],_=(e[7]?"":e[0].place_name.replace(/[^,]*,?\s*/,""))+"";function x(e,t){var n,i;return 1&t&&(r=null),1&t&&(a=null),1&t&&(o=null),e[5]?hn:e[0].address?cn:"road"===(null==(n=e[0].properties)?void 0:n.kind)||"road_relation"===(null==(i=e[0].properties)?void 0:i.kind)?un:(null==r&&(r=!!e[0].id.startsWith("address.")),r?ln:(null==a&&(a=!!e[0].id.startsWith("postal_code.")),a?sn:(null==o&&(o=!!e[0].id.startsWith("poi.")),o?on:e[7]?an:rn)))}let b=x(e,-1),w=b(e),E=A&&dn(e);return{c(){i=pt("li"),w.c(),s=yt(),l=pt("span"),u=pt("span"),c=pt("span"),h=mt(v),d=yt(),E&&E.c(),f=yt(),p=pt("span"),g=mt(_),_t(c,"class","primary svelte-ltkwvy"),_t(u,"class","svelte-ltkwvy"),_t(p,"class","line2 svelte-ltkwvy"),_t(l,"class","texts svelte-ltkwvy"),_t(i,"tabindex","0"),_t(i,"data-selected",e[1]),_t(i,"class","svelte-ltkwvy"),wt(i,"selected",e[1])},m(t,n){dt(t,i,n),w.m(i,null),ht(i,s),ht(i,l),ht(l,u),ht(u,c),ht(c,h),ht(u,d),E&&E.m(u,null),ht(l,f),ht(l,p),ht(p,g),m||(y=[vt(i,"mouseenter",e[12]),vt(i,"focus",e[13])],m=!0)},p(e,t){let[n]=t;var r,a;b===(b=x(e,n))&&w?w.p(e,n):(w.d(1),w=b(e),w&&(w.c(),w.m(i,s))),1&n&&v!==(v=(e[7]?e[0].place_name:e[0].place_name.replace(/,.*/,""))+"")&&xt(h,v),37&n&&(A="always"===e[2]||e[2]&&!e[0].address&&"road"!==(null==(r=e[0].properties)?void 0:r.kind)&&"road_relation"!==(null==(a=e[0].properties)?void 0:a.kind)&&!e[0].id.startsWith("address.")&&!e[0].id.startsWith("postal_code.")&&(!e[0].id.startsWith("poi.")||!e[5])&&!e[7]),A?E?E.p(e,n):(E=dn(e),E.c(),E.m(u,null)):E&&(E.d(1),E=null),1&n&&_!==(_=(e[7]?"":e[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&xt(g,_),2&n&&_t(i,"data-selected",e[1]),2&n&&wt(i,"selected",e[1])},i:et,o:et,d(e){e&&ft(i),w.d(),E&&E.d(),m=!1,it(y)}}}function pn(e,t,n){var i,r;let a,o,{feature:s}=t,{selected:l=!1}=t,{showPlaceType:u}=t,{missingIconsCache:c}=t,{iconsBaseUrl:h}=t;const d=null==(r=s.properties)?void 0:r.categories;let f,p,g=0,m="reverse"===s.place_type[0];function y(){p&&c.add(p),n(10,g++,g)}return e.$$set=e=>{"feature"in e&&n(0,s=e.feature),"selected"in e&&n(1,l=e.selected),"showPlaceType"in e&&n(2,u=e.showPlaceType),"missingIconsCache"in e&&n(9,c=e.missingIconsCache),"iconsBaseUrl"in e&&n(3,h=e.iconsBaseUrl)},e.$$.update=()=>{var t,i,r,l,u;if(3640&e.$$.dirty)do{n(11,a--,a),n(4,f=null==d?void 0:d[a]),n(5,p=f?h+f.replace(/ /g,"_")+".svg":void 0)}while(a>-1&&(!p||c.has(p)));1&e.$$.dirty&&n(6,o=s.id.startsWith("poi.")?null==(r=null==(i=s.properties)?void 0:i.categories)?void 0:r.join(", "):null!==(t=null==(u=null==(l=s.properties)?void 0:l.place_type_name)?void 0:u[0])&&void 0!==t?t:s.place_type[0])},n(11,a=null!==(i=null==d?void 0:d.length)&&void 0!==i?i:0),[s,l,u,h,f,p,o,m,y,c,g,a,function(t){kt.call(this,e,t)},function(t){kt.call(this,e,t)},()=>y()]}class gn extends Jt{constructor(e){super(),Kt(this,e,pn,fn,at,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function mn(e){let t;return{c(){t=pt("div"),t.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',_t(t,"class","svelte-7cmwmc")},m(e,n){dt(e,t,n)},p:et,i:et,o:et,d(e){e&&ft(t)}}}class yn extends Jt{constructor(e){super(),Kt(this,e,null,mn,at,{})}}function vn(e){let t,n;return{c(){t=gt("svg"),n=gt("path"),_t(n,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),_t(t,"viewBox","0 0 60.006 21.412"),_t(t,"width","14"),_t(t,"height","20"),_t(t,"class","svelte-en2qvf")},m(e,i){dt(e,t,i),ht(t,n)},p:et,i:et,o:et,d(e){e&&ft(t)}}}class An extends Jt{constructor(e){super(),Kt(this,e,null,vn,at,{})}}function _n(e){let t,n,i;return{c(){t=gt("svg"),n=gt("circle"),i=gt("path"),_t(n,"cx","4.789"),_t(n,"cy","4.787"),_t(n,"r","3.85"),_t(n,"class","svelte-1aq105l"),_t(i,"d","M12.063 12.063 7.635 7.635"),_t(i,"class","svelte-1aq105l"),_t(t,"xmlns","http://www.w3.org/2000/svg"),_t(t,"width","13"),_t(t,"height","13"),_t(t,"viewBox","0 0 13 13"),_t(t,"class","svelte-1aq105l")},m(e,r){dt(e,t,r),ht(t,n),ht(t,i)},p:et,i:et,o:et,d(e){e&&ft(t)}}}class xn extends Jt{constructor(e){super(),Kt(this,e,null,_n,at,{})}}function bn(e){const t=[...e];return t[2]<t[0]&&(t[2]+=360),t}let wn;const En=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([\u2022\xba\xb0\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['\u2032\xb4\u2019\.:]|M(?:IN)?(?:UTES)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([\u2022\xba\xb0\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['\u2032\xb4\u2019\.:]|M(?:IN)?(?:UTES)?)?\s*(EAST|WEST|[EW])?$/i,In=/^([+-]?[0-8]?[0-9])\s+([0-5]?[0-9]\.\d{3,})[\s,]{1,}([+-]?[0-1]?[0-9]?[0-9])\s+([0-5]?[0-9]\.\d{3,})$/,Cn=/^(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([\u2022\xba\xb0]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([\u2022\xba\xb0]?)[\s]*(EAST|WEST|[EW])?$/i,kn=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?$/i,Sn=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?$/i,Tn=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([\u2022\xba\xb0\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['\u2032\xb4\u2019\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|\u2032\u2032|\u2019\u2019|\xb4\xb4|["\u2033\u201d\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([\u2022\xba\xb0\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['\u2032\xb4\u2019\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|\u2032\u2032|\xb4\xb4|\u2019\u2019|["\u2033\u201d\.])?\s*(EAST|WEST|[EW])?$/i;function Pn(e){if(!["DMS","DM","DD"].includes(e))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){const t=this.decimalCoordinates.split(",").map((e=>Number(e.trim()))),n=Number(t[0]),i=Number(t[1]),r=Math.abs(n),a=Math.abs(i),o=n>0?"N":"S",s=i>0?"E":"W";let l;"DD"==e&&(l="".concat(r,"\xb0 ").concat(o,", ").concat(a,"\xb0 ").concat(s));const u=Math.floor(r),c=Math.floor(a),h=60*(r-u),d=60*(a-c);if("DM"==e){let e=Nn(h,3).toFixed(3).padStart(6,"0"),t=Nn(d,3).toFixed(3).padStart(6,"0");e.endsWith(".000")&&t.endsWith(".000")&&(e=e.replace(/\.000$/,""),t=t.replace(/\.000$/,"")),l="".concat(u,"\xb0 ").concat(e,"' ").concat(o,", ").concat(c,"\xb0 ").concat(t,"' ").concat(s)}if("DMS"==e){const e=Math.floor(h),t=Math.floor(d);let n=(60*(h-e)).toFixed(1).padStart(4,"0"),i=(60*(d-t)).toFixed(1).padStart(4,"0");const r=e.toString().padStart(2,"0"),a=t.toString().padStart(2,"0");n.endsWith(".0")&&i.endsWith(".0")&&(n=n.replace(/\.0$/,""),i=i.replace(/\.0$/,"")),l="".concat(u,"\xb0 ").concat(r,"' ").concat(n,'" ').concat(o,", ").concat(c,"\xb0 ").concat(a,"' ").concat(i,'" ').concat(s)}return l}throw new Error("no decimal coordinates to convert")}function Nn(e,t){const n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n}function Mn(e,t){t||(t=5),e=e.replace(/\s+/g," ").trim();let n=null,i=null,r="",a="",o=null,s=[],l=!1;if(En.test(e))throw new Error("invalid coordinate value");if(In.test(e)){if(s=In.exec(e),l=Bn(s),!l)throw new Error("invalid coordinate format");n=Math.abs(s[1])+s[2]/60,Number(s[1])<0&&(n*=-1),i=Math.abs(s[3])+s[4]/60,Number(s[3])<0&&(i*=-1),o="DM"}else if(Cn.test(e)){if(s=Cn.exec(e),l=Bn(s),!l)throw new Error("invalid decimal coordinate format");if(n=s[2],i=s[6],n.includes(",")&&(n=n.replace(",",".")),i.includes(",")&&(i=i.replace(",",".")),o="DD",Number(Math.round(n))==Number(n))throw new Error("integer only coordinate provided");if(Number(Math.round(i))==Number(i))throw new Error("integer only coordinate provided");s[1]?(r=s[1],a=s[5]):s[4]&&(r=s[4],a=s[8])}else if(kn.test(e)){if(s=kn.exec(e),l=Bn(s),!l)throw new Error("invalid DMS coordinates format");n=Math.abs(parseInt(s[2])),s[4]&&(n+=s[4]/60,o="DM"),s[6]&&(n+=s[6].replace(",",".")/3600,o="DMS"),parseInt(s[2])<0&&(n*=-1),i=Math.abs(parseInt(s[9])),s[11]&&(i+=s[11]/60),s[13]&&(i+=s[13].replace(",",".")/3600),parseInt(s[9])<0&&(i*=-1),s[1]?(r=s[1],a=s[8]):s[7]&&(r=s[7],a=s[14])}else if(Sn.test(e)){if(s=Sn.exec(e),l=Bn(s),!l)throw new Error("invalid DMS coordinates format");n=Math.abs(parseInt(s[2])),s[4]&&(n+=s[4]/60,o="DM"),s[6]&&(n+=s[6]/3600,o="DMS"),parseInt(s[2])<0&&(n*=-1),i=Math.abs(parseInt(s[10])),s[12]&&(i+=s[12]/60),s[14]&&(i+=s[14]/3600),parseInt(s[10])<0&&(i*=-1),s[1]?(r=s[1],a=s[9]):s[8]&&(r=s[8],a=s[16])}else if(Tn.test(e)){if(s=Tn.exec(e),l=Bn(s),s.filter((e=>e)).length<=5)throw new Error("invalid coordinates format");if(!l)throw new Error("invalid coordinates format");n=Math.abs(parseInt(s[2])),s[4]&&(n+=s[4].replace(",",".")/60,o="DM"),s[6]&&(n+=s[6].replace(",",".")/3600,o="DMS"),parseInt(s[2])<0&&(n*=-1),i=Math.abs(parseInt(s[10])),s[12]&&(i+=s[12].replace(",",".")/60),s[14]&&(i+=s[14].replace(",",".")/3600),parseInt(s[10])<0&&(i*=-1),s[1]?(r=s[1],a=s[9]):s[8]&&(r=s[8],a=s[16])}if(l){if(Math.abs(i)>=180)throw new Error("invalid longitude value");if(Math.abs(n)>=90)throw new Error("invalid latitude value");if(r&&!a||!r&&a)throw new Error("invalid coordinates value");if(r&&r==a)throw new Error("invalid coordinates format");n.toString().includes(",")&&(n=n.replace(",",".")),i.toString().includes(",")&&(i=i.replace(",","."));let l=/S|SOUTH/i;l.test(r)&&n>0&&(n*=-1),l=/W|WEST/i,l.test(a)&&i>0&&(i*=-1);const u=s[0].trim();let c,h;const d=/[,/;\u0020]/g,f=u.match(d);if(null==f){const t=Math.floor(e.length/2);c=u.substring(0,t).trim(),h=u.substring(t).trim()}else{let e;e=f.length%2==1?Math.floor(f.length/2):f.length/2-1;let t=0;if(0==e)t=u.indexOf(f[0]),c=u.substring(0,t).trim(),h=u.substring(t+1).trim();else{let n=0,i=0;for(;n<=e;)t=u.indexOf(f[n],i),i=t+1,n++;c=u.substring(0,t).trim(),h=u.substring(t+1).trim()}}const p=c.split(".");if(2==p.length&&0==p[1]&&2!=p[1].length)throw new Error("invalid coordinates format");const g=h.split(".");if(2==g.length&&0==g[1]&&2!=g[1].length)throw new Error("invalid coordinates format");if(/^\d+$/.test(c)||/^\d+$/.test(h))throw new Error("degree only coordinate/s provided");return n=Number(Number(n).toFixed(t)),i=Number(Number(i).toFixed(t)),Object.freeze({verbatimCoordinates:u,verbatimLatitude:c,verbatimLongitude:h,decimalLatitude:n,decimalLongitude:i,decimalCoordinates:"".concat(n,",").concat(i),originalFormat:o,closeEnough:Rn,toCoordinateFormat:Pn})}throw new Error("coordinates pattern match failed")}function Bn(e){if(!isNaN(e[0]))return!1;const t=[...e];if(t.shift(),t.length%2>0)return!1;const n=/^[-+]?\d+([\.,]\d+)?$/,i=/[eastsouthnorthwest]+/i,r=t.length/2;for(let a=0;a<r;a++){const e=t[a],o=t[a+r],s=n.test(e)&&n.test(o),l=i.test(e)&&i.test(o);if(null!=e||null!=o){if(null==e||null==o)return!1;if(s||l||e==o)continue;return!1}}return!0}function Ln(e,t){const n=Math.abs(e-t);return Number(n.toFixed(6))<=1e-5}function Rn(e){if(!e)throw new Error("coords must be provided");if(e.includes(",")){const t=e.split(",");if(NaN==Number(t[0])||NaN==Number(t[1]))throw new Error("coords are not valid decimals");return Ln(this.decimalLatitude,Number(t[0]))&&Ln(this.decimalLongitude,t[1])}throw new Error("coords being tested must be separated by a comma")}const zn=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});Mn.to=zn;const On=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123\xb0 N 74.123\xb0 W",verbatimLatitude:"40.123\xb0 N",verbatimLongitude:"74.123\xb0 W"},{verbatimCoordinates:"40.123\xb0 N 74.123\xb0 W",verbatimLatitude:"40.123\xb0 N",verbatimLongitude:"74.123\xb0 W"},{verbatimCoordinates:'40\xb0 7\xb4 22.8" N 74\xb0 7\xb4 22.8" W',verbatimLatitude:'40\xb0 7\xb4 22.8" N',verbatimLongitude:'74\xb0 7\xb4 22.8" W'},{verbatimCoordinates:"40\xb0 7.38\u2019 , -74\xb0 7.38\u2019",verbatimLatitude:"40\xb0 7.38\u2019",verbatimLongitude:"-74\xb0 7.38\u2019"},{verbatimCoordinates:"N40\xb07\u201922.8\u2019\u2019, W74\xb07\u201922.8\u2019\u2019",verbatimLatitude:"N40\xb07\u201922.8\u2019\u2019",verbatimLongitude:"W74\xb07\u201922.8\u2019\u2019"},{verbatimCoordinates:'40\xb07\u201922.8"N, 74\xb07\u201922.8"W',verbatimLatitude:'40\xb07\u201922.8"N',verbatimLongitude:'74\xb07\u201922.8"W'},{verbatimCoordinates:"40\xb07'22.8\"N, 74\xb07'22.8\"W",verbatimLatitude:"40\xb07'22.8\"N",verbatimLongitude:"74\xb07'22.8\"W"},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123\xb0,-74.123\xb0",verbatimLatitude:"40.123\xb0",verbatimLongitude:"-74.123\xb0"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40\xb07\u201922.8"N, 74\xb07\u201922.8"W',verbatimLatitude:'40\xb07\u201922.8"N',verbatimLongitude:'74\xb07\u201922.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40\xb07\u201923"N 74\xb07\u201923"W',verbatimLatitude:'40\xb07\u201923"N',verbatimLongitude:'74\xb07\u201923"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40\xb07\u201923"S 74\xb07\u201923"E',verbatimLatitude:'40\xb07\u201923"S',verbatimLongitude:'74\xb07\u201923"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40\xb07\u201923" -74\xb07\u201923"',verbatimLatitude:'40\xb07\u201923"',verbatimLongitude:'-74\xb07\u201923"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7\u2019 23" N 74d 7\u2019 23" W',verbatimLatitude:'40d 7\u2019 23" N',verbatimLongitude:'74d 7\u2019 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40\xb0 7.38, -74\xb0 7.38",verbatimLatitude:"40\xb0 7.38",verbatimLongitude:"-74\xb0 7.38"},{verbatimCoordinates:"40\xb0 7.38, -74\xb0 7.38",verbatimLatitude:"40\xb0 7.38",verbatimLongitude:"-74\xb0 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],Dn={decimalLatitude:40.123,decimalLongitude:-74.123},Fn=[{verbatimCoordinates:"50\xb04'17.698\"south, 14\xb024'2.826\"east",verbatimLatitude:"50\xb04'17.698\"south",verbatimLongitude:"14\xb024'2.826\"east",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40\xb026\u203247\u2033N 79\xb058\u203236\u2033W",verbatimLatitude:"40\xb026\u203247\u2033N",verbatimLongitude:"79\xb058\u203236\u2033W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26\u2032 47\u2033 N 79d 58\u2032 36\u2033 W",verbatimLatitude:"40d 26\u2032 47\u2033 N",verbatimLongitude:"79d 58\u2032 36\u2033 W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195\xb0 79,948862\xb0",verbatimLatitude:"40,446195\xb0",verbatimLongitude:"79,948862\xb0",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40\xb0 26.7717, -79\xb0 56.93172",verbatimLatitude:"40\xb0 26.7717",verbatimLongitude:"-79\xb0 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18\xb024S 22\xb045E",verbatimLatitude:"18\xb024S",verbatimLongitude:"22\xb045E",decimalLatitude:-18.4,decimalLongitude:22.75}],jn=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245\xb0 S / 28.2344\xb0 E",verbatimLatitude:"-23.3245\xb0 S",verbatimLongitude:"28.2344\xb0 E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40\xb0 26.7717 -79\xb0 56.93172",verbatimLatitude:"40\xb0 26.7717",verbatimLongitude:"-79\xb0 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 \xb0  E22.45634 \xb0",verbatimLatitude:"S23.43563 \xb0",verbatimLongitude:"E22.45634 \xb0",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372\xb0 S 23,07771\xb0 E",verbatimLatitude:"27,71372\xb0 S",verbatimLongitude:"23,07771\xb0 E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"53 16.3863,4 52.8171",verbatimLatitude:"53 16.3863",verbatimLongitude:"4 52.8171",decimalLatitude:53.273105,decimalLongitude:4.88029},{verbatimCoordinates:"50 8.2914,-5 2.4447",verbatimLatitude:"50 8.2914",verbatimLongitude:"-5 2.4447",decimalLatitude:50.13819,decimalLongitude:-5.040745},{verbatimCoordinates:"N 48\xb0 30,6410', E 18\xb0 57,4583'",verbatimLatitude:"N 48\xb0 30,6410'",verbatimLongitude:"E 18\xb0 57,4583'",decimalLatitude:48.51068,decimalLongitude:18.95764},{verbatimCoordinates:"1.23456, 18.33453",verbatimLatitude:"1.23456",verbatimLongitude:"18.33453",decimalLatitude:1.23456,decimalLongitude:18.33453}];const Qn=function(){const e=[];return On.forEach((t=>{t.decimalLatitude?e.push(t):e.push({...t,...Dn})})),[...e,...Fn,...jn]}();Mn.formats=Qn.map((e=>e.verbatimCoordinates));const Un=Mn;function Vn(e,t,n){const i=e.slice();return i[81]=t[n],i[83]=n,i}function qn(e){let t,n;return t=new yn({}),{c(){Xt(t.$$.fragment)},m(e,i){Wt(t,e,i),n=!0},i(e){n||(Vt(t.$$.fragment,e),n=!0)},o(e){qt(t.$$.fragment,e),n=!1},d(e){Yt(t,e)}}}function Gn(e){let t,n,i,r,a;return n=new An({}),{c(){t=pt("button"),Xt(n.$$.fragment),_t(t,"type","button"),_t(t,"title",e[9]),_t(t,"class","svelte-zh3kmv"),wt(t,"active",e[0])},m(o,s){dt(o,t,s),Wt(n,t,null),i=!0,r||(a=vt(t,"click",e[67]),r=!0)},p(e,n){(!i||512&n[0])&&_t(t,"title",e[9]),(!i||1&n[0])&&wt(t,"active",e[0])},i(e){i||(Vt(n.$$.fragment,e),i=!0)},o(e){qt(n.$$.fragment,e),i=!1},d(e){e&&ft(t),Yt(n),r=!1,a()}}}function Hn(e){let t,n,i,r,a=[],o=new Map,s=Gt(e[14]);const l=e=>e[81].id+(e[81].address?","+e[81].address:"");for(let u=0;u<s.length;u+=1){let t=Vn(e,s,u),n=l(t);o.set(n,a[u]=Zn(n,t))}return{c(){t=pt("ul");for(let e=0;e<a.length;e+=1)a[e].c();_t(t,"class","svelte-zh3kmv")},m(o,s){dt(o,t,s);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,null);n=!0,i||(r=[vt(t,"mouseleave",e[71]),vt(t,"blur",e[72])],i=!0)},p(e,n){17880064&n[0]&&(s=Gt(e[14]),Qt(),a=function(e,t,n,i,r,a,o,s,l,u,c,h){let d=e.length,f=a.length,p=d;const g={};for(;p--;)g[e[p].key]=p;const m=[],y=new Map,v=new Map,A=[];for(p=f;p--;){const e=h(r,a,p),i=n(e);let s=o.get(i);s?A.push((()=>s.p(e,t))):(s=u(i,e),s.c()),y.set(i,m[p]=s),i in g&&v.set(i,Math.abs(p-g[i]))}const _=new Set,x=new Set;function b(e){Vt(e,1),e.m(s,c),o.set(e.key,e),c=e.first,f--}for(;d&&f;){const t=m[f-1],n=e[d-1],i=t.key,r=n.key;t===n?(c=t.first,d--,f--):y.has(r)?!o.has(i)||_.has(i)?b(t):x.has(r)?d--:v.get(i)>v.get(r)?(x.add(i),b(t)):(_.add(r),d--):(l(n,o),d--)}for(;d--;){const t=e[d];y.has(t.key)||l(t,o)}for(;f;)b(m[f-1]);return it(A),m}(a,n,l,0,e,s,o,t,Ht,Zn,null,Vn),Ut())},i(e){if(!n){for(let e=0;e<s.length;e+=1)Vt(a[e]);n=!0}},o(e){for(let t=0;t<a.length;t+=1)qt(a[t]);n=!1},d(e){e&&ft(t);for(let t=0;t<a.length;t+=1)a[t].d();i=!1,it(r)}}}function Xn(e){let t,n,i,r,a,o;return n=new nn({}),{c(){t=pt("div"),Xt(n.$$.fragment),i=yt(),r=pt("div"),a=mt(e[7]),_t(r,"class","svelte-zh3kmv"),_t(t,"class","no-results svelte-zh3kmv")},m(e,s){dt(e,t,s),Wt(n,t,null),ht(t,i),ht(t,r),ht(r,a),o=!0},p(e,t){(!o||128&t[0])&&xt(a,e[7])},i(e){o||(Vt(n.$$.fragment,e),o=!0)},o(e){qt(n.$$.fragment,e),o=!1},d(e){e&&ft(t),Yt(n)}}}function Wn(e){let t;return{c(){t=mt("")},m(e,n){dt(e,t,n)},p:et,i:et,o:et,d(e){e&&ft(t)}}}function Yn(e){let t,n,i,r,a,o,s,l,u,c,h;return n=new nn({}),l=new en({}),{c(){t=pt("div"),Xt(n.$$.fragment),i=yt(),r=pt("div"),a=mt(e[6]),o=yt(),s=pt("button"),Xt(l.$$.fragment),_t(r,"class","svelte-zh3kmv"),_t(s,"class","svelte-zh3kmv"),_t(t,"class","error svelte-zh3kmv")},m(d,f){dt(d,t,f),Wt(n,t,null),ht(t,i),ht(t,r),ht(r,a),ht(t,o),ht(t,s),Wt(l,s,null),u=!0,c||(h=vt(s,"click",e[68]),c=!0)},p(e,t){(!u||64&t[0])&&xt(a,e[6])},i(e){u||(Vt(n.$$.fragment,e),Vt(l.$$.fragment,e),u=!0)},o(e){qt(n.$$.fragment,e),qt(l.$$.fragment,e),u=!1},d(e){e&&ft(t),Yt(n),Yt(l),c=!1,h()}}}function Zn(e,t){let n,i,r;return i=new gn({props:{feature:t[81],showPlaceType:t[10],selected:t[15]===t[83],missingIconsCache:t[20],iconsBaseUrl:t[12]}}),i.$on("mouseenter",(function(){return t[69](t[83])})),i.$on("focus",(function(){return t[70](t[81])})),{key:e,first:null,c(){n=mt(""),Xt(i.$$.fragment),this.first=n},m(e,t){dt(e,n,t),Wt(i,e,t),r=!0},p(e,n){t=e;const r={};16384&n[0]&&(r.feature=t[81]),1024&n[0]&&(r.showPlaceType=t[10]),49152&n[0]&&(r.selected=t[15]===t[83]),4096&n[0]&&(r.iconsBaseUrl=t[12]),i.$set(r)},i(e){r||(Vt(i.$$.fragment,e),r=!0)},o(e){qt(i.$$.fragment,e),r=!1},d(e){e&&ft(n),Yt(i,e)}}}function Kn(e){let t,n,i,r,a,o,s,l,u,c,h,d,f,p,g,m,y,v,A,_,x,b=!1;a=new xn({}),h=new en({});let w=e[19]&&qn(),E=!0===e[5]&&Gn(e);const I=e[59].default,C=function(e,t,n,i){if(e){const r=ut(e,t,n,i);return e[0](r)}}(I,e,e[58],null),k=[Yn,Wn,Xn,Hn],S=[];function T(e,t){var n,i;return e[18]?0:e[16]?0===(null==(n=e[14])?void 0:n.length)?2:e[16]&&null!=(i=e[14])&&i.length?3:-1:1}return~(m=T(e))&&(y=S[m]=k[m](e)),{c(){t=yt(),n=pt("form"),i=pt("div"),r=pt("button"),Xt(a.$$.fragment),o=yt(),s=pt("input"),l=yt(),u=pt("div"),c=pt("button"),Xt(h.$$.fragment),d=yt(),w&&w.c(),f=yt(),E&&E.c(),p=yt(),C&&C.c(),g=yt(),y&&y.c(),_t(r,"class","search-button svelte-zh3kmv"),_t(r,"type","button"),_t(s,"placeholder",e[8]),_t(s,"aria-label",e[8]),_t(s,"class","svelte-zh3kmv"),_t(c,"type","button"),_t(c,"title",e[3]),_t(c,"class","svelte-zh3kmv"),_t(u,"class","clear-button-container svelte-zh3kmv"),wt(u,"displayable",""!==e[1]),_t(i,"class","input-group svelte-zh3kmv"),_t(n,"tabindex","0"),_t(n,"class",v=ct(e[2])+" svelte-zh3kmv"),wt(n,"can-collapse",e[4]&&""===e[1])},m(y,v){dt(y,t,v),dt(y,n,v),ht(n,i),ht(i,r),Wt(a,r,null),ht(i,o),ht(i,s),e[61](s),bt(s,e[1]),ht(i,l),ht(i,u),ht(u,c),Wt(h,c,null),ht(u,d),w&&w.m(u,null),ht(i,f),E&&E.m(i,null),ht(i,p),C&&C.m(i,null),ht(n,g),~m&&S[m].m(n,null),A=!0,_||(x=[vt(r,"click",e[60]),vt(s,"input",e[62]),vt(s,"focus",e[63]),vt(s,"blur",e[64]),vt(s,"keydown",e[22]),vt(s,"input",e[65]),vt(c,"click",e[66]),vt(n,"submit",At(e[21]))],_=!0)},p(e,t){(!A||256&t[0])&&_t(s,"placeholder",e[8]),(!A||256&t[0])&&_t(s,"aria-label",e[8]),2&t[0]&&s.value!==e[1]&&bt(s,e[1]),(!A||8&t[0])&&_t(c,"title",e[3]),e[19]?w?524288&t[0]&&Vt(w,1):(w=qn(),w.c(),Vt(w,1),w.m(u,null)):w&&(Qt(),qt(w,1,1,(()=>{w=null})),Ut()),(!A||2&t[0])&&wt(u,"displayable",""!==e[1]),!0===e[5]?E?(E.p(e,t),32&t[0]&&Vt(E,1)):(E=Gn(e),E.c(),Vt(E,1),E.m(i,p)):E&&(Qt(),qt(E,1,1,(()=>{E=null})),Ut()),C&&C.p&&(!A||134217728&t[1])&&function(e,t,n,i,r,a){if(r){const o=ut(t,n,i,a);e.p(o,r)}}(C,I,e,e[58],A?function(e,t,n,i){if(e[2]&&i){const r=e[2](i(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|r[i];return e}return t.dirty|r}return t.dirty}(I,e[58],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[58]),null);let r=m;m=T(e),m===r?~m&&S[m].p(e,t):(y&&(Qt(),qt(S[r],1,1,(()=>{S[r]=null})),Ut()),~m?(y=S[m],y?y.p(e,t):(y=S[m]=k[m](e),y.c()),Vt(y,1),y.m(n,null)):y=null),(!A||4&t[0]&&v!==(v=ct(e[2])+" svelte-zh3kmv"))&&_t(n,"class",v),(!A||22&t[0])&&wt(n,"can-collapse",e[4]&&""===e[1])},i(e){A||(Vt(b),Vt(a.$$.fragment,e),Vt(h.$$.fragment,e),Vt(w),Vt(E),Vt(C,e),Vt(y),A=!0)},o(e){qt(b),qt(a.$$.fragment,e),qt(h.$$.fragment,e),qt(w),qt(E),qt(C,e),qt(y),A=!1},d(i){i&&(ft(t),ft(n)),Yt(a),e[61](null),Yt(h),w&&w.d(),E&&E.d(),C&&C.d(i),~m&&S[m].d(),_=!1,it(x)}}}function Jn(e,t,n){let i,{$$slots:r={},$$scope:a}=t,{class:o}=t,{apiKey:s}=t,{bbox:l}=t,{clearButtonTitle:u="clear"}=t,{clearOnBlur:c=!1}=t,{collapsed:h=!1}=t,{country:d}=t,{debounceSearch:f=200}=t,{enableReverse:p=!1}=t,{errorMessage:g="Something went wrong\u2026"}=t,{filter:m=(()=>!0)}=t,{flyTo:y=!0}=t,{fuzzyMatch:v=!0}=t,{language:A}=t,{limit:_}=t,{mapController:x}=t,{minLength:b=2}=t,{noResultsMessage:w="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=t,{placeholder:E="Search"}=t,{proximity:I=[{type:"server-geolocation"}]}=t,{reverseActive:C="always"===p}=t,{reverseButtonTitle:k="toggle reverse geocoding"}=t,{searchValue:S=""}=t,{showFullGeometry:T=!0}=t,{showPlaceType:P="ifNeeded"}=t,{showResultsWhileTyping:N=!0}=t,{selectFirst:M=!0}=t,{flyToSelected:B=!1}=t,{markerOnSelected:L=!0}=t,{types:R}=t,{excludeTypes:z=!1}=t,{zoom:O=16}=t,{maxZoom:D=18}=t,{apiUrl:F="https://api.maptiler.com/geocoding"}=t,{fetchParameters:j={}}=t,{iconsBaseUrl:Q="https://cdn.maptiler.com/maptiler-geocoding-control/v1.3.2/icons/"}=t,{adjustUrlQuery:U=(()=>{})}=t;function V(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(1,S=e),t?(n(15,te=-1),ae()):(le(!i,i),setTimeout((()=>{X.focus(),X.select()})))}let q,G,H,X,W,Y,Z,K,J,$=!1,ee="",te=-1,ne=[];const ie=new Set,re=Ct();function ae(e){if(Z&&(clearTimeout(Z),Z=void 0),te>-1&&q)n(55,H=q[te]),n(1,S="reverse"===H.place_type[0]?H.place_name:H.place_name.replace(/,.*/,"")),n(18,W=void 0),n(54,G=void 0),n(15,te=-1);else if(S){const t=e||!oe(S);se(S,{exact:!0}).then((()=>{n(54,G=q),n(55,H=void 0),t&&function(){var e;if(null==G||!G.length||!y)return;const t=[180,90,-180,-90],n=!G.some((e=>!e.matching_text));for(const r of G)if(n||!r.matching_text)for(const n of[0,1,2,3]){var i;t[n]=Math[n<2?"min":"max"](t[n],null!==(i=null==(e=r.bbox)?void 0:e[n])&&void 0!==i?i:r.center[n%2])}x&&G.length>0&&(H&&t[0]===t[2]&&t[1]===t[3]?x.flyTo(H.center,O):x.fitBounds(bn(t),50,D))}()})).catch((e=>n(18,W=e)))}}function oe(e){try{return Un(e,6)}catch{return!1}}async function se(e){let{byId:t=!1,exact:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(18,W=void 0),null==Y||Y.abort();const r=new AbortController;n(19,Y=r);try{var a;const o=oe(e),u=new URLSearchParams;if(void 0!==A&&u.set("language",Array.isArray(A)?A.join(","):null!==(a=A)&&void 0!==a?a:""),R&&u.set("types",R.join(",")),z&&u.set("excludeTypes",String(z)),l&&u.set("bbox",l.map((e=>e.toFixed(6))).join(",")),d&&u.set("country",Array.isArray(d)?d.join(","):d),!t&&!o){const e=await async function(e,t,n){const i=null==e?void 0:e.getCenterAndZoom();for(const r of null!==t&&void 0!==t?t:[])if(!i||!(null!=r.minZoom&&r.minZoom>i[0]||null!=r.maxZoom&&r.maxZoom<i[0])){if("fixed"===r.type)return r.coordinates.join(",");e:if("client-geolocation"===r.type){if(wn&&r.cachedLocationExpiry&&wn.time+r.cachedLocationExpiry>Date.now()){if(!wn.coords)break e;return wn.coords}let e;try{return e=await new Promise(((e,t)=>{n.signal.addEventListener("abort",(()=>{t(Error("aborted"))})),navigator.geolocation.getCurrentPosition((t=>{e([t.coords.longitude,t.coords.latitude].map((e=>e.toFixed(6))).join(","))}),(e=>{t(e)}),r)})),e}catch{}finally{r.cachedLocationExpiry&&(wn={time:Date.now(),coords:e})}if(n.signal.aborted)return}if("server-geolocation"===r.type)return"ip";if(i&&"map-center"===r.type)return i[1].toFixed(6)+","+i[2].toFixed(6)}}(x,I,r);e&&u.set("proximity",e),(i||!N)&&u.set("autocomplete","false"),u.set("fuzzyMatch",String(v))}void 0!==_&&(!o||1===(null==R?void 0:R.length))&&u.set("limit",String(_)),u.set("key",s),U(u);const c=F+"/"+encodeURIComponent(o?o.decimalLongitude+","+o.decimalLatitude:e)+".json?"+u.toString();if(c===ee)return void(t?(n(14,q=void 0),n(55,H=ne[0])):n(14,q=ne));ee=c;const h=await fetch(c,{signal:r.signal,...j});if(!h.ok)throw new Error(await h.text());const f=await h.json();re("response",{url:c,featureCollection:f}),t?(n(14,q=void 0),n(55,H=f.features[0]),ne=[H]):(n(14,q=f.features.filter(m)),o&&q.unshift({type:"Feature",properties:{},id:"reverse_"+o.decimalLongitude+"_"+o.decimalLatitude,text:o.decimalLatitude+", "+o.decimalLongitude,place_name:o.decimalLatitude+", "+o.decimalLongitude,place_type:["reverse"],center:[o.decimalLongitude,o.decimalLatitude],bbox:[o.decimalLongitude,o.decimalLatitude,o.decimalLongitude,o.decimalLatitude],geometry:{type:"Point",coordinates:[o.decimalLongitude,o.decimalLatitude]}}),ne=q,o&&X.focus())}catch(o){if(o&&"object"==typeof o&&"name"in o&&"AbortError"===o.name)return;throw o}finally{r===Y&&n(19,Y=void 0)}}function le(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n(18,W=void 0),N||t){if(Z&&clearTimeout(Z),S.length<b)return;const t=S;Z=window.setTimeout((()=>{se(t).catch((e=>n(18,W=e)))}),e?f:0)}else n(14,q=void 0),n(18,W=void 0)}function ue(e){n(55,H=e),n(1,S=e.place_name),n(15,te=-1)}!function(e){It().$$.on_destroy.push(e)}((()=>{x&&(x.setEventHandler(void 0),x.indicateReverse(!1),x.setSelectedMarker(-1),x.setMarkers(void 0,void 0))}));return e.$$set=e=>{"class"in e&&n(2,o=e.class),"apiKey"in e&&n(25,s=e.apiKey),"bbox"in e&&n(26,l=e.bbox),"clearButtonTitle"in e&&n(3,u=e.clearButtonTitle),"clearOnBlur"in e&&n(27,c=e.clearOnBlur),"collapsed"in e&&n(4,h=e.collapsed),"country"in e&&n(28,d=e.country),"debounceSearch"in e&&n(29,f=e.debounceSearch),"enableReverse"in e&&n(5,p=e.enableReverse),"errorMessage"in e&&n(6,g=e.errorMessage),"filter"in e&&n(30,m=e.filter),"flyTo"in e&&n(31,y=e.flyTo),"fuzzyMatch"in e&&n(32,v=e.fuzzyMatch),"language"in e&&n(33,A=e.language),"limit"in e&&n(34,_=e.limit),"mapController"in e&&n(35,x=e.mapController),"minLength"in e&&n(36,b=e.minLength),"noResultsMessage"in e&&n(7,w=e.noResultsMessage),"placeholder"in e&&n(8,E=e.placeholder),"proximity"in e&&n(37,I=e.proximity),"reverseActive"in e&&n(0,C=e.reverseActive),"reverseButtonTitle"in e&&n(9,k=e.reverseButtonTitle),"searchValue"in e&&n(1,S=e.searchValue),"showFullGeometry"in e&&n(38,T=e.showFullGeometry),"showPlaceType"in e&&n(10,P=e.showPlaceType),"showResultsWhileTyping"in e&&n(39,N=e.showResultsWhileTyping),"selectFirst"in e&&n(11,M=e.selectFirst),"flyToSelected"in e&&n(40,B=e.flyToSelected),"markerOnSelected"in e&&n(41,L=e.markerOnSelected),"types"in e&&n(42,R=e.types),"excludeTypes"in e&&n(43,z=e.excludeTypes),"zoom"in e&&n(44,O=e.zoom),"maxZoom"in e&&n(45,D=e.maxZoom),"apiUrl"in e&&n(46,F=e.apiUrl),"fetchParameters"in e&&n(47,j=e.fetchParameters),"iconsBaseUrl"in e&&n(12,Q=e.iconsBaseUrl),"adjustUrlQuery"in e&&n(48,U=e.adjustUrlQuery),"$$scope"in e&&n(58,a=e.$$scope)},e.$$.update=()=>{if(32&e.$$.dirty[0]&&n(0,C="always"===p),134225920&e.$$.dirty[0]&&setTimeout((()=>{n(16,K=$),c&&!$&&n(1,S="")})),16386&e.$$.dirty[0]|32&e.$$.dirty[1]&&S.length<b&&(n(55,H=void 0),n(14,q=void 0),n(18,W=void 0),n(54,G=q)),16777344&e.$$.dirty[1]&&T&&H&&!H.address&&"Point"===H.geometry.type&&"reverse"!==H.place_type[0]&&se(H.id,{byId:!0}).catch((e=>n(18,W=e))),50356241&e.$$.dirty[1]&&(x&&H&&H.id!==J&&y&&(!H.bbox||H.bbox[0]===H.bbox[2]&&H.bbox[1]===H.bbox[3]?x.flyTo(H.center,H.id.startsWith("poi.")||H.id.startsWith("address.")?D:O):x.fitBounds(bn(H.bbox),50,D),n(14,q=void 0),n(54,G=void 0),n(15,te=-1)),n(56,J=null==H?void 0:H.id)),18432&e.$$.dirty[0]&&M&&null!=q&&q.length&&n(15,te=0),2050&e.$$.dirty[0]&&(M||n(15,te=-1)),16384&e.$$.dirty[0]|8388608&e.$$.dirty[1]&&G!==q&&n(54,G=void 0),81921&e.$$.dirty[0]|8388624&e.$$.dirty[1]&&x&&x.setEventHandler((e=>{var t;switch(e.type){case"mapClick":C&&function(e){n(0,C="always"===p),n(14,q=void 0),n(55,H=void 0),n(15,te=-1),V(e[1].toFixed(6)+", "+function(e,t,n){const i=t[1],r=t[0],a=i-r;return e===i&&n?e:((e-r)%a+a)%a+r}(e[0],[-180,180],!0).toFixed(6),!1,!0)}(e.coordinates);break;case"markerClick":{const t=null==q?void 0:q.find((t=>t.id===e.id));t&&ue(t)}break;case"markerMouseEnter":G&&n(15,te=K&&null!==(t=null==q?void 0:q.findIndex((t=>t.id===e.id)))&&void 0!==t?t:-1);break;case"markerMouseLeave":G&&n(15,te=-1)}})),49152&e.$$.dirty[0]&&n(57,i=null==q?void 0:q[te]),67133969&e.$$.dirty[1]&&x&&i&&y&&B&&x.flyTo(i.center,i.id.startsWith("poi.")||i.id.startsWith("address.")?D:O),1040&e.$$.dirty[1]&&(L||null==x||x.setMarkers(void 0,void 0)),75498512&e.$$.dirty[1]&&x&&L&&!G&&(x.setMarkers(i?[i]:void 0,void 0),x.setSelectedMarker(i?0:-1)),25165840&e.$$.dirty[1]&&x&&x.setMarkers(G,H),32768&e.$$.dirty[0]|8388624&e.$$.dirty[1]&&G&&x&&x.setSelectedMarker(te),2&e.$$.dirty[0]|16&e.$$.dirty[1]&&x){const e=oe(S);x.setReverseMarker(e?[e.decimalLongitude,e.decimalLatitude]:void 0)}67108864&e.$$.dirty[1]&&re("select",i),16777216&e.$$.dirty[1]&&re("pick",H),81920&e.$$.dirty[0]&&re("optionsVisibilityChange",K&&!!q),16384&e.$$.dirty[0]&&re("featuresListed",q),8388608&e.$$.dirty[1]&&re("featuresMarked",G),1&e.$$.dirty[0]&&re("reverseToggle",C),2&e.$$.dirty[0]&&re("queryChange",S),1&e.$$.dirty[0]|16&e.$$.dirty[1]&&x&&x.indicateReverse(C)},[C,S,o,u,h,p,g,w,E,k,P,M,Q,$,q,te,K,X,W,Y,ie,ae,function(e){if(!q)return;let t="ArrowDown"===e.key?1:"ArrowUp"===e.key?-1:0;t&&(te===(M?0:-1)&&-1===t&&n(15,te=q.length),n(15,te+=t),te>=q.length&&n(15,te=-1),te<0&&M&&n(15,te=0),e.preventDefault())},le,ue,s,l,c,d,f,m,y,v,A,_,x,b,I,T,N,B,L,R,z,O,D,F,j,U,function(){X.focus()},function(){X.blur()},V,function(){n(14,q=void 0),n(55,H=void 0),n(15,te=-1)},function(){n(54,G=[]),n(55,H=void 0)},G,H,J,i,a,r,()=>X.focus(),function(e){Tt[e?"unshift":"push"]((()=>{X=e,n(17,X)}))},function(){S=this.value,n(1,S),n(13,$),n(27,c)},()=>n(13,$=!0),()=>n(13,$=!1),()=>le(),()=>{n(1,S=""),X.focus()},()=>n(0,C=!C),()=>n(18,W=void 0),e=>n(15,te=e),e=>ue(e),()=>{M||n(15,te=-1)},()=>{}]}class $n extends Jt{constructor(e){super(),Kt(this,e,Jn,Kn,at,{class:2,apiKey:25,bbox:26,clearButtonTitle:3,clearOnBlur:27,collapsed:4,country:28,debounceSearch:29,enableReverse:5,errorMessage:6,filter:30,flyTo:31,fuzzyMatch:32,language:33,limit:34,mapController:35,minLength:36,noResultsMessage:7,placeholder:8,proximity:37,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:38,showPlaceType:10,showResultsWhileTyping:39,selectFirst:11,flyToSelected:40,markerOnSelected:41,types:42,excludeTypes:43,zoom:44,maxZoom:45,apiUrl:46,fetchParameters:47,iconsBaseUrl:12,adjustUrlQuery:48,focus:49,blur:50,setQuery:51,clearList:52,clearMap:53},null,[-1,-1,-1])}get focus(){return this.$$.ctx[49]}get blur(){return this.$$.ctx[50]}get setQuery(){return this.$$.ctx[51]}get clearList(){return this.$$.ctx[52]}get clearMap(){return this.$$.ctx[53]}}const ei=["featuresListed","featuresMarked","optionsVisibilityChange","pick","queryChange","response","reverseToggle","select"],ti=["apiKey","bbox","clearButtonTitle","clearOnBlur","collapsed","country","debounceSearch","enableReverse","reverseActive","errorMessage","filter","fuzzyMatch","language","limit","minLength","noResultsMessage","placeholder","proximity","reverseButtonTitle","showFullGeometry","showPlaceType","showResultsWhileTyping","adjustUrlQuery","types","excludeTypes","zoom","mapController"];function ni(e){return"on"+e[0].toUpperCase()+e.slice(1)}const ii=(0,t.forwardRef)((function(e,n){const i=(0,t.useRef)(),r=(0,t.useRef)(),a={...e};for(const t of ei)delete a[ni(t)];(0,t.useEffect)((()=>{if(!i.current)throw new Error;const e=new $n({target:i.current,props:a});return r.current=e,()=>e.$destroy()}),[]);for(const o of ti)(0,t.useEffect)((()=>{r.current&&void 0!==e[o]&&r.current.$set({[o]:e[o]})}),[e[o]]);for(const o of ei){const n=e[ni(o)];(0,t.useEffect)((()=>{var e;return n&&(null==(e=r.current)?void 0:e.$on(o,(e=>{n(e.detail)})))}),[n])}return(0,t.useImperativeHandle)(n,(()=>({setQuery:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n;return null==(n=r.current)?void 0:n.setQuery(e,t)},clearMap:()=>{var e;return null==(e=r.current)?void 0:e.clearMap()},clearList:()=>{var e;return null==(e=r.current)?void 0:e.clearList()},focus:()=>{var e;return null==(e=r.current)?void 0:e.focus()},blur:()=>{var e;return null==(e=r.current)?void 0:e.blur()}}))),(0,t.createElement)("div",{ref:i})}));var ri=Object.defineProperty,ai=(e,t,n)=>((e,t,n)=>t in e?ri(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function li(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})})),n}var ui,ci,hi=Object.prototype.toString,di=function(e){var t=hi.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===hi.call(e.callee)),n};var fi=Array.prototype.slice,pi=di,gi=Object.keys,mi=gi?function(e){return gi(e)}:function(){if(ci)return ui;var e;if(ci=1,!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=di,r=Object.prototype.propertyIsEnumerable,a=!r.call({toString:null},"toString"),o=r.call((function(){}),"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t=e.constructor;return t&&t.prototype===e},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var e in window)try{if(!u["$"+e]&&t.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{l(window[e])}catch{return!0}}catch{return!0}return!1}();e=function(e){var r=null!==e&&"object"==typeof e,u="[object Function]"===n.call(e),h=i(e),d=r&&"[object String]"===n.call(e),f=[];if(!r&&!u&&!h)throw new TypeError("Object.keys called on a non-object");var p=o&&u;if(d&&e.length>0&&!t.call(e,0))for(var g=0;g<e.length;++g)f.push(String(g));if(h&&e.length>0)for(var m=0;m<e.length;++m)f.push(String(m));else for(var y in e)(!p||"prototype"!==y)&&t.call(e,y)&&f.push(String(y));if(a)for(var v=function(e){if(typeof window>"u"||!c)return l(e);try{return l(e)}catch{return!1}}(e),A=0;A<s.length;++A)(!v||"constructor"!==s[A])&&t.call(e,s[A])&&f.push(s[A]);return f}}return ui=e}(),yi=Object.keys;mi.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return pi(e)?yi(fi.call(e)):yi(e)})}else Object.keys=mi;return Object.keys||mi};var vi,Ai=mi,_i=Error,xi=EvalError,bi=RangeError,wi=ReferenceError,Ei=SyntaxError,Ii=TypeError,Ci=URIError,ki=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0},Si=typeof Symbol<"u"&&Symbol,Ti=ki,Pi=function(){return"function"==typeof Si&&"function"==typeof Symbol&&"symbol"==typeof Si("foo")&&"symbol"==typeof Symbol("bar")&&Ti()},Ni={__proto__:null,foo:{}},Mi=Object,Bi=Object.prototype.toString,Li=Math.max,Ri=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n},zi=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==Bi.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,i=function(e,t){for(var n=[],i=t,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),r=Li(0,t.length-i.length),a=[],o=0;o<r;o++)a[o]="$"+o;if(n=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(a,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var r=t.apply(this,Ri(i,arguments));return Object(r)===r?r:this}return t.apply(e,Ri(i,arguments))})),t.prototype){var s=function(){};s.prototype=t.prototype,n.prototype=new s,s.prototype=null}return n},Oi=Function.prototype.bind||zi,Di=Function.prototype.call,Fi=Object.prototype.hasOwnProperty,ji=Oi.call(Di,Fi),Qi=_i,Ui=xi,Vi=bi,qi=wi,Gi=Ei,Hi=Ii,Xi=Ci,Wi=Function,Yi=function(e){try{return Wi('"use strict"; return ('+e+").constructor;")()}catch{}},Zi=Object.getOwnPropertyDescriptor;if(Zi)try{Zi({},"")}catch{Zi=null}var Ki=function(){throw new Hi},Ji=Zi?function(){try{return Ki}catch{try{return Zi(arguments,"callee").get}catch{return Ki}}}():Ki,$i=Pi(),er={__proto__:Ni}.foo===Ni.foo&&!(Ni instanceof Mi),tr=Object.getPrototypeOf||(er?function(e){return e.__proto__}:null),nr={},ir=typeof Uint8Array>"u"||!tr?vi:tr(Uint8Array),rr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?vi:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?vi:ArrayBuffer,"%ArrayIteratorPrototype%":$i&&tr?tr([][Symbol.iterator]()):vi,"%AsyncFromSyncIteratorPrototype%":vi,"%AsyncFunction%":nr,"%AsyncGenerator%":nr,"%AsyncGeneratorFunction%":nr,"%AsyncIteratorPrototype%":nr,"%Atomics%":typeof Atomics>"u"?vi:Atomics,"%BigInt%":typeof BigInt>"u"?vi:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?vi:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?vi:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?vi:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Qi,"%eval%":eval,"%EvalError%":Ui,"%Float32Array%":typeof Float32Array>"u"?vi:Float32Array,"%Float64Array%":typeof Float64Array>"u"?vi:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?vi:FinalizationRegistry,"%Function%":Wi,"%GeneratorFunction%":nr,"%Int8Array%":typeof Int8Array>"u"?vi:Int8Array,"%Int16Array%":typeof Int16Array>"u"?vi:Int16Array,"%Int32Array%":typeof Int32Array>"u"?vi:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$i&&tr?tr(tr([][Symbol.iterator]())):vi,"%JSON%":"object"==typeof JSON?JSON:vi,"%Map%":typeof Map>"u"?vi:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$i||!tr?vi:tr((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?vi:Promise,"%Proxy%":typeof Proxy>"u"?vi:Proxy,"%RangeError%":Vi,"%ReferenceError%":qi,"%Reflect%":typeof Reflect>"u"?vi:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?vi:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$i||!tr?vi:tr((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?vi:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$i&&tr?tr(""[Symbol.iterator]()):vi,"%Symbol%":$i?Symbol:vi,"%SyntaxError%":Gi,"%ThrowTypeError%":Ji,"%TypedArray%":ir,"%TypeError%":Hi,"%Uint8Array%":typeof Uint8Array>"u"?vi:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?vi:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?vi:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?vi:Uint32Array,"%URIError%":Xi,"%WeakMap%":typeof WeakMap>"u"?vi:WeakMap,"%WeakRef%":typeof WeakRef>"u"?vi:WeakRef,"%WeakSet%":typeof WeakSet>"u"?vi:WeakSet};if(tr)try{null.error}catch(wd){var ar=tr(tr(wd));rr["%Error.prototype%"]=ar}var or,sr,lr=function e(t){var n;if("%AsyncFunction%"===t)n=Yi("async function () {}");else if("%GeneratorFunction%"===t)n=Yi("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=Yi("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&tr&&(n=tr(r.prototype))}return rr[t]=n,n},ur={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},cr=Oi,hr=ji,dr=cr.call(Function.call,Array.prototype.concat),fr=cr.call(Function.apply,Array.prototype.splice),pr=cr.call(Function.call,String.prototype.replace),gr=cr.call(Function.call,String.prototype.slice),mr=cr.call(Function.call,RegExp.prototype.exec),yr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,vr=/\\(\\)?/g,Ar=function(e,t){var n,i=e;if(hr(ur,i)&&(i="%"+(n=ur[i])[0]+"%"),hr(rr,i)){var r=rr[i];if(r===nr&&(r=lr(i)),typeof r>"u"&&!t)throw new Hi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new Gi("intrinsic "+e+" does not exist!")},_r=function(e,t){if("string"!=typeof e||0===e.length)throw new Hi("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new Hi('"allowMissing" argument must be a boolean');if(null===mr(/^%?[^%]*%?$/,e))throw new Gi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=gr(e,0,1),n=gr(e,-1);if("%"===t&&"%"!==n)throw new Gi("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new Gi("invalid intrinsic syntax, expected opening `%`");var i=[];return pr(e,yr,(function(e,t,n,r){i[i.length]=n?pr(r,vr,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",r=Ar("%"+i+"%",t),a=r.name,o=r.value,s=!1,l=r.alias;l&&(i=l[0],fr(n,dr([0,1],l)));for(var u=1,c=!0;u<n.length;u+=1){var h=n[u],d=gr(h,0,1),f=gr(h,-1);if(('"'===d||"'"===d||"`"===d||'"'===f||"'"===f||"`"===f)&&d!==f)throw new Gi("property names with quotes must have matching quotes");if(("constructor"===h||!c)&&(s=!0),hr(rr,a="%"+(i+="."+h)+"%"))o=rr[a];else if(null!=o){if(!(h in o)){if(!t)throw new Hi("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zi&&u+1>=n.length){var p=Zi(o,h);o=(c=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:o[h]}else c=hr(o,h),o=o[h];c&&!s&&(rr[a]=o)}}return o};function xr(){if(sr)return or;sr=1;var e=_r("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return or=e}var br=_r("%Object.getOwnPropertyDescriptor%",!0);if(br)try{br([],"length")}catch{br=null}var wr=br,Er=xr(),Ir=Ei,Cr=Ii,kr=wr,Sr=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new Cr("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new Cr("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new Cr("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new Cr("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new Cr("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new Cr("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,o=arguments.length>6&&arguments[6],s=!!kr&&kr(e,t);if(Er)Er(e,t,{configurable:null===a&&s?s.configurable:!a,enumerable:null===i&&s?s.enumerable:!i,value:n,writable:null===r&&s?s.writable:!r});else{if(!o&&(i||r||a))throw new Ir("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}},Tr=xr(),Pr=function(){return!!Tr};Pr.hasArrayLengthDefineBug=function(){if(!Tr)return null;try{return 1!==Tr([],"length",{value:1}).length}catch{return!0}};var Nr=Pr,Mr=Ai,Br="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Lr=Object.prototype.toString,Rr=Array.prototype.concat,zr=Sr,Or=Nr(),Dr=function(e,t,n,i){if(t in e)if(!0===i){if(e[t]===n)return}else if(!function(e){return"function"==typeof e&&"[object Function]"===Lr.call(e)}(i)||!i())return;Or?zr(e,t,n,!0):zr(e,t,n)},Fr=function(e,t){var n=arguments.length>2?arguments[2]:{},i=Mr(t);Br&&(i=Rr.call(i,Object.getOwnPropertySymbols(t)));for(var r=0;r<i.length;r+=1)Dr(e,i[r],t[i[r]],n[i[r]])};Fr.supportsDescriptors=!!Or;var jr=Fr,Qr={exports:{}},Ur=_r,Vr=Sr,qr=Nr(),Gr=wr,Hr=Ii,Xr=Ur("%Math.floor%"),Wr=function(e,t){if("function"!=typeof e)throw new Hr("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||Xr(t)!==t)throw new Hr("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,r=!0;if("length"in e&&Gr){var a=Gr(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(r=!1)}return(i||r||!n)&&(qr?Vr(e,"length",t,!0,!0):Vr(e,"length",t)),e};!function(e){var t=Oi,n=_r,i=Wr,r=Ii,a=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(o,a),l=xr(),u=n("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new r("a function is required");var n=s(t,o,arguments);return i(n,1+u(0,e.length-(arguments.length-1)),!0)};var c=function(){return s(t,a,arguments)};l?l(e.exports,"apply",{value:c}):e.exports.apply=c}(Qr);var Yr=Qr.exports,Zr=_r,Kr=Yr,Jr=Kr(Zr("String.prototype.indexOf")),$r=function(e,t){var n=Zr(e,!!t);return"function"==typeof n&&Jr(e,".prototype.")>-1?Kr(n):n},ea=Ai,ta=ki(),na=$r,ia=Object,ra=na("Array.prototype.push"),aa=na("Object.prototype.propertyIsEnumerable"),oa=ta?Object.getOwnPropertySymbols:null,sa=function(e,t){if(null==e)throw new TypeError("target must be an object");var n=ia(e);if(1===arguments.length)return n;for(var i=1;i<arguments.length;++i){var r=ia(arguments[i]),a=ea(r),o=ta&&(Object.getOwnPropertySymbols||oa);if(o)for(var s=o(r),l=0;l<s.length;++l){var u=s[l];aa(r,u)&&ra(a,u)}for(var c=0;c<a.length;++c){var h=a[c];if(aa(r,h)){var d=r[h];n[h]=d}}}return n},la=sa,ua=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},i=0;i<t.length;++i)n[t[i]]=t[i];var r=Object.assign({},n),a="";for(var o in r)a+=o;return e!==a}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return"y"===e[1]}return!1}()?la:Object.assign},ca=jr,ha=ua,da=jr,fa=sa,pa=ua,ga=function(){var e=ha();return ca(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},ma=Yr.apply(pa()),ya=function(e,t){return ma(Object,arguments)};da(ya,{getPolyfill:pa,implementation:fa,shim:ga});var va=ya,Aa=function(){return"string"==typeof function(){}.name},_a=Object.getOwnPropertyDescriptor;if(_a)try{_a([],"length")}catch{_a=null}Aa.functionsHaveConfigurableNames=function(){if(!Aa()||!_a)return!1;var e=_a((function(){}),"name");return!!e&&!!e.configurable};var xa=Function.prototype.bind;Aa.boundFunctionsHaveNames=function(){return Aa()&&"function"==typeof xa&&""!==function(){}.bind().name};var ba=Aa,wa=Sr,Ea=Nr(),Ia=ba.functionsHaveConfigurableNames(),Ca=Ii,ka=function(e,t){if("function"!=typeof e)throw new Ca("`fn` is not a function");return(!(arguments.length>2&&!!arguments[2])||Ia)&&(Ea?wa(e,"name",t,!0,!0):wa(e,"name",t)),e},Sa=Ii,Ta=Object,Pa=ka((function(){if(null==this||this!==Ta(this))throw new Sa("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0),Na=Pa,Ma=jr.supportsDescriptors,Ba=Object.getOwnPropertyDescriptor,La=function(){if(Ma&&"gim"===/a/gim.flags){var e=Ba(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return Na},Ra=jr.supportsDescriptors,za=La,Oa=Object.getOwnPropertyDescriptor,Da=Object.defineProperty,Fa=TypeError,ja=Object.getPrototypeOf,Qa=/a/,Ua=jr,Va=Pa,qa=La,Ga=function(){if(!Ra||!ja)throw new Fa("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=za(),t=ja(Qa),n=Oa(t,"flags");return(!n||n.get!==e)&&Da(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},Ha=Yr(qa());Ua(Ha,{getPolyfill:qa,implementation:Va,shim:Ga});var Xa=Ha,Wa={exports:{}},Ya=ki,Za=function(){return Ya()&&!!Symbol.toStringTag},Ka=Za(),Ja=$r("Object.prototype.toString"),$a=function(e){return!(Ka&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===Ja(e)},eo=function(e){return!!$a(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==Ja(e)&&"[object Function]"===Ja(e.callee)},to=function(){return $a(arguments)}();$a.isLegacyArguments=eo;var no=to?$a:eo;const io=li(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var ro="function"==typeof Map&&Map.prototype,ao=Object.getOwnPropertyDescriptor&&ro?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,oo=ro&&ao&&"function"==typeof ao.get?ao.get:null,so=ro&&Map.prototype.forEach,lo="function"==typeof Set&&Set.prototype,uo=Object.getOwnPropertyDescriptor&&lo?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,co=lo&&uo&&"function"==typeof uo.get?uo.get:null,ho=lo&&Set.prototype.forEach,fo="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,po="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,go="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,mo=Boolean.prototype.valueOf,yo=Object.prototype.toString,vo=Function.prototype.toString,Ao=String.prototype.match,_o=String.prototype.slice,xo=String.prototype.replace,bo=String.prototype.toUpperCase,wo=String.prototype.toLowerCase,Eo=RegExp.prototype.test,Io=Array.prototype.concat,Co=Array.prototype.join,ko=Array.prototype.slice,So=Math.floor,To="function"==typeof BigInt?BigInt.prototype.valueOf:null,Po=Object.getOwnPropertySymbols,No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Mo="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Bo="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,Lo=Object.prototype.propertyIsEnumerable,Ro=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function zo(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Eo.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-So(-e):So(e);if(i!==e){var r=String(i),a=_o.call(t,r.length+1);return xo.call(r,n,"$&_")+"."+xo.call(xo.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return xo.call(t,n,"$&_")}var Oo=io,Do=Oo.custom,Fo=qo(Do)?Do:null;function jo(e,t,n){var i="double"===(n.quoteStyle||t)?'"':"'";return i+e+i}function Qo(e){return xo.call(String(e),/"/g,"&quot;")}function Uo(e){return"[object Array]"===Xo(e)&&(!Bo||!("object"==typeof e&&Bo in e))}function Vo(e){return"[object RegExp]"===Xo(e)&&(!Bo||!("object"==typeof e&&Bo in e))}function qo(e){if(Mo)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!No)return!1;try{return No.call(e),!0}catch{}return!1}var Go=Object.prototype.hasOwnProperty||function(e){return e in this};function Ho(e,t){return Go.call(e,t)}function Xo(e){return yo.call(e)}function Wo(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function Yo(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,i="... "+n+" more character"+(n>1?"s":"");return Yo(_o.call(e,0,t.maxStringLength),t)+i}return jo(xo.call(xo.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Zo),"single",t)}function Zo(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+bo.call(t.toString(16))}function Ko(e){return"Object("+e+")"}function Jo(e){return e+" { ? }"}function $o(e,t,n,i){return e+" ("+t+") {"+(i?es(n,i):Co.call(n,", "))+"}"}function es(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+Co.call(e,","+n)+"\n"+t.prev}function ts(e,t){var n=Uo(e),i=[];if(n){i.length=e.length;for(var r=0;r<e.length;r++)i[r]=Ho(e,r)?t(e[r],e):""}var a,o="function"==typeof Po?Po(e):[];if(Mo){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var l in e)Ho(e,l)&&(n&&String(Number(l))===l&&l<e.length||Mo&&a["$"+l]instanceof Symbol||(Eo.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if("function"==typeof Po)for(var u=0;u<o.length;u++)Lo.call(e,o[u])&&i.push("["+t(o[u])+"]: "+t(e[o[u]],e));return i}var ns=_r,is=$r,rs=function e(t,n,i,r){var a=n||{};if(Ho(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ho(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=!Ho(a,"customInspect")||a.customInspect;if("boolean"!=typeof o&&"symbol"!==o)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ho(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ho(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof t>"u")return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Yo(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var l=String(t);return s?zo(t,l):l}if("bigint"==typeof t){var u=String(t)+"n";return s?zo(t,u):u}var c=typeof a.depth>"u"?5:a.depth;if(typeof i>"u"&&(i=0),i>=c&&c>0&&"object"==typeof t)return Uo(t)?"[Array]":"[Object]";var h=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Co.call(Array(e.indent+1)," ")}return{base:n,prev:Co.call(Array(t+1),n)}}(a,i);if(typeof r>"u")r=[];else if(Wo(r,t)>=0)return"[Circular]";function d(t,n,o){if(n&&(r=ko.call(r)).push(n),o){var s={depth:a.depth};return Ho(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,i+1,r)}return e(t,a,i+1,r)}if("function"==typeof t&&!Vo(t)){var f=function(e){if(e.name)return e.name;var t=Ao.call(vo.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),p=ts(t,d);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(p.length>0?" { "+Co.call(p,", ")+" }":"")}if(qo(t)){var g=Mo?xo.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):No.call(t);return"object"!=typeof t||Mo?g:Ko(g)}if(function(e){return!(!e||"object"!=typeof e)&&(typeof HTMLElement<"u"&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}(t)){for(var m="<"+wo.call(String(t.nodeName)),y=t.attributes||[],v=0;v<y.length;v++)m+=" "+y[v].name+"="+jo(Qo(y[v].value),"double",a);return m+=">",t.childNodes&&t.childNodes.length&&(m+="..."),m+="</"+wo.call(String(t.nodeName))+">"}if(Uo(t)){if(0===t.length)return"[]";var A=ts(t,d);return h&&!function(e){for(var t=0;t<e.length;t++)if(Wo(e[t],"\n")>=0)return!1;return!0}(A)?"["+es(A,h)+"]":"[ "+Co.call(A,", ")+" ]"}if(function(e){return"[object Error]"===Xo(e)&&(!Bo||!("object"==typeof e&&Bo in e))}(t)){var _=ts(t,d);return"cause"in Error.prototype||!("cause"in t)||Lo.call(t,"cause")?0===_.length?"["+String(t)+"]":"{ ["+String(t)+"] "+Co.call(_,", ")+" }":"{ ["+String(t)+"] "+Co.call(Io.call("[cause]: "+d(t.cause),_),", ")+" }"}if("object"==typeof t&&o){if(Fo&&"function"==typeof t[Fo]&&Oo)return Oo(t,{depth:c-i});if("symbol"!==o&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!oo||!e||"object"!=typeof e)return!1;try{oo.call(e);try{co.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}(t)){var x=[];return so&&so.call(t,(function(e,n){x.push(d(n,t,!0)+" => "+d(e,t))})),$o("Map",oo.call(t),x,h)}if(function(e){if(!co||!e||"object"!=typeof e)return!1;try{co.call(e);try{oo.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}(t)){var b=[];return ho&&ho.call(t,(function(e){b.push(d(e,t))})),$o("Set",co.call(t),b,h)}if(function(e){if(!fo||!e||"object"!=typeof e)return!1;try{fo.call(e,fo);try{po.call(e,po)}catch{return!0}return e instanceof WeakMap}catch{}return!1}(t))return Jo("WeakMap");if(function(e){if(!po||!e||"object"!=typeof e)return!1;try{po.call(e,po);try{fo.call(e,fo)}catch{return!0}return e instanceof WeakSet}catch{}return!1}(t))return Jo("WeakSet");if(function(e){if(!go||!e||"object"!=typeof e)return!1;try{return go.call(e),!0}catch{}return!1}(t))return Jo("WeakRef");if(function(e){return"[object Number]"===Xo(e)&&(!Bo||!("object"==typeof e&&Bo in e))}(t))return Ko(d(Number(t)));if(function(e){if(!e||"object"!=typeof e||!To)return!1;try{return To.call(e),!0}catch{}return!1}(t))return Ko(d(To.call(t)));if(function(e){return"[object Boolean]"===Xo(e)&&(!Bo||!("object"==typeof e&&Bo in e))}(t))return Ko(mo.call(t));if(function(e){return"[object String]"===Xo(e)&&(!Bo||!("object"==typeof e&&Bo in e))}(t))return Ko(d(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof oi<"u"&&t===oi)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===Xo(e)&&(!Bo||!("object"==typeof e&&Bo in e))}(t)&&!Vo(t)){var w=ts(t,d),E=Ro?Ro(t)===Object.prototype:t instanceof Object||t.constructor===Object,I=t instanceof Object?"":"null prototype",C=!E&&Bo&&Object(t)===t&&Bo in t?_o.call(Xo(t),8,-1):I?"Object":"",k=(E||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(C||I?"["+Co.call(Io.call([],C||[],I||[]),": ")+"] ":"");return 0===w.length?k+"{}":h?k+"{"+es(w,h)+"}":k+"{ "+Co.call(w,", ")+" }"}return String(t)},as=Ii,os=ns("%WeakMap%",!0),ss=ns("%Map%",!0),ls=is("WeakMap.prototype.get",!0),us=is("WeakMap.prototype.set",!0),cs=is("WeakMap.prototype.has",!0),hs=is("Map.prototype.get",!0),ds=is("Map.prototype.set",!0),fs=is("Map.prototype.has",!0),ps=function(e,t){for(var n,i=e;null!==(n=i.next);i=n)if(n.key===t)return i.next=n.next,n.next=e.next,e.next=n,n},gs=function(){var e,t,n,i={assert:function(e){if(!i.has(e))throw new as("Side channel does not contain "+rs(e))},get:function(i){if(os&&i&&("object"==typeof i||"function"==typeof i)){if(e)return ls(e,i)}else if(ss){if(t)return hs(t,i)}else if(n)return function(e,t){var n=ps(e,t);return n&&n.value}(n,i)},has:function(i){if(os&&i&&("object"==typeof i||"function"==typeof i)){if(e)return cs(e,i)}else if(ss){if(t)return fs(t,i)}else if(n)return function(e,t){return!!ps(e,t)}(n,i);return!1},set:function(i,r){os&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new os),us(e,i,r)):ss?(t||(t=new ss),ds(t,i,r)):(n||(n={key:{},next:null}),function(e,t,n){var i=ps(e,t);i?i.value=n:e.next={key:t,next:e.next,value:n}}(n,i,r))}};return i},ms=ji,ys=gs(),vs=Ii,As={assert:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new vs("`O` is not an object");if("string"!=typeof t)throw new vs("`slot` must be a string");if(ys.assert(e),!As.has(e,t))throw new vs("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new vs("`O` is not an object");if("string"!=typeof t)throw new vs("`slot` must be a string");var n=ys.get(e);return n&&n["$"+t]},has:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new vs("`O` is not an object");if("string"!=typeof t)throw new vs("`slot` must be a string");var n=ys.get(e);return!!n&&ms(n,"$"+t)},set:function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new vs("`O` is not an object");if("string"!=typeof t)throw new vs("`slot` must be a string");var i=ys.get(e);i||(i={},ys.set(e,i)),i["$"+t]=n}};Object.freeze&&Object.freeze(As);var _s,xs=As,bs=SyntaxError,ws="object"==typeof StopIteration?StopIteration:null,Es={}.toString,Is=Array.isArray||function(e){return"[object Array]"==Es.call(e)},Cs=String.prototype.valueOf,ks=Object.prototype.toString,Ss=Za(),Ts=function(e){return"string"==typeof e||"object"==typeof e&&(Ss?function(e){try{return Cs.call(e),!0}catch{return!1}}(e):"[object String]"===ks.call(e))},Ps="function"==typeof Map&&Map.prototype?Map:null,Ns="function"==typeof Set&&Set.prototype?Set:null;Ps||(_s=function(e){return!1});var Ms=Ps?Map.prototype.has:null,Bs=Ns?Set.prototype.has:null;!_s&&!Ms&&(_s=function(e){return!1});var Ls,Rs=_s||function(e){if(!e||"object"!=typeof e)return!1;try{if(Ms.call(e),Bs)try{Bs.call(e)}catch{return!0}return e instanceof Ps}catch{}return!1},zs="function"==typeof Map&&Map.prototype?Map:null,Os="function"==typeof Set&&Set.prototype?Set:null;Os||(Ls=function(e){return!1});var Ds=zs?Map.prototype.has:null,Fs=Os?Set.prototype.has:null;!Ls&&!Fs&&(Ls=function(e){return!1});var js=Ls||function(e){if(!e||"object"!=typeof e)return!1;try{if(Fs.call(e),Ds)try{Ds.call(e)}catch{return!0}return e instanceof Os}catch{}return!1},Qs=no,Us=function(e){if(!ws)throw new bs("this environment lacks StopIteration");xs.set(e,"[[Done]]",!1);var t={next:function(){var e=xs.get(this,"[[Iterator]]"),t=xs.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(n){if(xs.set(e,"[[Done]]",!0),n!==ws)throw n;return{done:!0,value:void 0}}}};return xs.set(t,"[[Iterator]]",e),t};if(Pi()||ki()){var Vs=Symbol.iterator;Wa.exports=function(e){return null!=e&&typeof e[Vs]<"u"?e[Vs]():Qs(e)?Array.prototype[Vs].call(e):void 0}}else{var qs=Is,Gs=Ts,Hs=_r,Xs=Hs("%Map%",!0),Ws=Hs("%Set%",!0),Ys=$r,Zs=Ys("Array.prototype.push"),Ks=Ys("String.prototype.charCodeAt"),Js=Ys("String.prototype.slice"),$s=function(e){var t=0;return{next:function(){var n,i=t>=e.length;return i||(n=e[t],t+=1),{done:i,value:n}}}},el=function(e,t){if(qs(e)||Qs(e))return $s(e);if(Gs(e)){var n=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var n=Ks(e,t);if(n<55296||n>56319)return t+1;var i=Ks(e,t+1);return i<56320||i>57343?t+1:t+2}(e,n),i=Js(e,n,t);return n=t,{done:t>e.length,value:i}}}}return t&&typeof e["_es6-shim iterator_"]<"u"?e["_es6-shim iterator_"]():void 0};if(Xs||Ws){var tl=Rs,nl=js,il=Ys("Map.prototype.forEach",!0),rl=Ys("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var al=Ys("Map.prototype.iterator",!0),ol=Ys("Set.prototype.iterator",!0);var sl=Ys("Map.prototype.@@iterator",!0)||Ys("Map.prototype._es6-shim iterator_",!0),ll=Ys("Set.prototype.@@iterator",!0)||Ys("Set.prototype._es6-shim iterator_",!0);Wa.exports=function(e){return function(e){if(tl(e)){if(al)return Us(al(e));if(sl)return sl(e);if(il){var t=[];return il(e,(function(e,n){Zs(t,[n,e])})),$s(t)}}if(nl(e)){if(ol)return Us(ol(e));if(ll)return ll(e);if(rl){var n=[];return rl(e,(function(e){Zs(n,e)})),$s(n)}}}(e)||el(e)}}else Wa.exports=function(e){if(null!=e)return el(e,!0)}}var ul=Wa.exports,cl=function(e){return e!==e},hl=function(e,t){return 0===e&&0===t?1/e===1/t:!!(e===t||cl(e)&&cl(t))},dl=hl,fl=function(){return"function"==typeof Object.is?Object.is:dl},pl=fl,gl=jr,ml=jr,yl=hl,vl=fl,Al=function(){var e=pl();return gl(Object,{is:e},{is:function(){return Object.is!==e}}),e},_l=Yr(vl(),Object);ml(_l,{getPolyfill:vl,implementation:yl,shim:Al});var xl,bl,wl,El,Il=_l,Cl=Yr,kl=$r,Sl=_r("%ArrayBuffer%",!0),Tl=kl("ArrayBuffer.prototype.byteLength",!0),Pl=kl("Object.prototype.toString"),Nl=!!Sl&&!Tl&&new Sl(0).slice,Ml=!!Nl&&Cl(Nl),Bl=Tl||Ml?function(e){if(!e||"object"!=typeof e)return!1;try{return Tl?Tl(e):Ml(e,0),!0}catch{return!1}}:Sl?function(e){return"[object ArrayBuffer]"===Pl(e)}:function(e){return!1},Ll=Date.prototype.getDay,Rl=Object.prototype.toString,zl=Za(),Ol=$r,Dl=Za();if(Dl){xl=Ol("Object.prototype.hasOwnProperty"),bl=Ol("RegExp.prototype.exec"),wl={};var Fl=function(){throw wl};El={toString:Fl,valueOf:Fl},"symbol"==typeof Symbol.toPrimitive&&(El[Symbol.toPrimitive]=Fl)}var jl=Ol("Object.prototype.toString"),Ql=Object.getOwnPropertyDescriptor,Ul=Dl?function(e){if(!e||"object"!=typeof e)return!1;var t=Ql(e,"lastIndex");if(!(t&&xl(t,"value")))return!1;try{bl(e,El)}catch(n){return n===wl}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===jl(e)},Vl=$r("SharedArrayBuffer.prototype.byteLength",!0),ql=Vl?function(e){if(!e||"object"!=typeof e)return!1;try{return Vl(e),!0}catch{return!1}}:function(e){return!1},Gl=Number.prototype.toString,Hl=Object.prototype.toString,Xl=Za(),Wl=$r,Yl=Wl("Boolean.prototype.toString"),Zl=Wl("Object.prototype.toString"),Kl=Za(),Jl={exports:{}},$l=Object.prototype.toString;if(Pi()){var eu=Symbol.prototype.toString,tu=/^Symbol\(.*\)$/;Jl.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==$l.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&tu.test(eu.call(e))}(e)}catch{return!1}}}else Jl.exports=function(e){return!1};var nu=Jl.exports,iu={exports:{}},ru=typeof BigInt<"u"&&BigInt;if("function"==typeof ru&&"function"==typeof BigInt&&"bigint"==typeof ru(42)&&"bigint"==typeof BigInt(42)){var au=BigInt.prototype.valueOf;iu.exports=function(e){return!(null===e||typeof e>"u"||"boolean"==typeof e||"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"function"==typeof e)&&("bigint"==typeof e||function(e){try{return au.call(e),!0}catch{}return!1}(e))}}else iu.exports=function(e){return!1};var ou,su=iu.exports,lu=Ts,uu=function(e){return"number"==typeof e||"object"==typeof e&&(Xl?function(e){try{return Gl.call(e),!0}catch{return!1}}(e):"[object Number]"===Hl.call(e))},cu=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(Kl&&Symbol.toStringTag in e?function(e){try{return Yl(e),!0}catch{return!1}}(e):"[object Boolean]"===Zl(e))},hu=nu,du=su,fu="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,pu="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;fu||(ou=function(e){return!1});var gu=fu?fu.prototype.has:null,mu=pu?pu.prototype.has:null;!ou&&!gu&&(ou=function(e){return!1});var yu=ou||function(e){if(!e||"object"!=typeof e)return!1;try{if(gu.call(e,gu),mu)try{mu.call(e,mu)}catch{return!0}return e instanceof fu}catch{}return!1},vu={exports:{}},Au=$r,_u=_r("%WeakSet%",!0),xu=Au("WeakSet.prototype.has",!0);if(xu){var bu=Au("WeakMap.prototype.has",!0);vu.exports=function(e){if(!e||"object"!=typeof e)return!1;try{if(xu(e,xu),bu)try{bu(e,bu)}catch{return!0}return e instanceof _u}catch{}return!1}}else vu.exports=function(e){return!1};var wu,Eu,Iu=vu.exports,Cu=Rs,ku=js,Su=yu,Tu=Iu,Pu=Function.prototype.toString,Nu="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof Nu&&"function"==typeof Object.defineProperty)try{wu=Object.defineProperty({},"length",{get:function(){throw Eu}}),Eu={},Nu((function(){throw 42}),null,wu)}catch(wd){wd!==Eu&&(Nu=null)}else Nu=null;var Mu=/^\s*class\b/,Bu=function(e){try{var t=Pu.call(e);return Mu.test(t)}catch{return!1}},Lu=function(e){try{return!Bu(e)&&(Pu.call(e),!0)}catch{return!1}},Ru=Object.prototype.toString,zu="function"==typeof Symbol&&!!Symbol.toStringTag,Ou=!(0 in[,]),Du=function(){return!1};if("object"==typeof document){var Fu=document.all;Ru.call(Fu)===Ru.call(document.all)&&(Du=function(e){if((Ou||!e)&&(typeof e>"u"||"object"==typeof e))try{var t=Ru.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch{}return!1})}var ju=Nu?function(e){if(Du(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;try{Nu(e,null,wu)}catch(t){if(t!==Eu)return!1}return!Bu(e)&&Lu(e)}:function(e){if(Du(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if(zu)return Lu(e);if(Bu(e))return!1;var t=Ru.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&Lu(e)},Qu=ju,Uu=Object.prototype.toString,Vu=Object.prototype.hasOwnProperty,qu=function(e,t,n){if(!Qu(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),"[object Array]"===Uu.call(e)?function(e,t,n){for(var i=0,r=e.length;i<r;i++)Vu.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))}(e,t,i):"string"==typeof e?function(e,t,n){for(var i=0,r=e.length;i<r;i++)null==n?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)}(e,t,i):function(e,t,n){for(var i in e)Vu.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))}(e,t,i)},Gu=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Hu=typeof globalThis>"u"?oi:globalThis,Xu=qu,Wu=function(){for(var e=[],t=0;t<Gu.length;t++)"function"==typeof Hu[Gu[t]]&&(e[e.length]=Gu[t]);return e},Yu=Yr,Zu=$r,Ku=wr,Ju=Zu("Object.prototype.toString"),$u=Za(),ec=typeof globalThis>"u"?oi:globalThis,tc=Wu(),nc=Zu("String.prototype.slice"),ic=Object.getPrototypeOf,rc=Zu("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},ac={__proto__:null};Xu(tc,$u&&Ku&&ic?function(e){var t=new ec[e];if(Symbol.toStringTag in t){var n=ic(t),i=Ku(n,Symbol.toStringTag);if(!i){var r=ic(n);i=Ku(r,Symbol.toStringTag)}ac["$"+e]=Yu(i.get)}}:function(e){var t=new ec[e],n=t.slice||t.set;n&&(ac["$"+e]=Yu(n))});var oc=$r("ArrayBuffer.prototype.byteLength",!0),sc=Bl,lc=va,uc=$r,cc=Xa,hc=_r,dc=ul,fc=gs,pc=Il,gc=no,mc=Is,yc=Bl,vc=function(e){return"object"==typeof e&&null!==e&&(zl?function(e){try{return Ll.call(e),!0}catch{return!1}}(e):"[object Date]"===Rl.call(e))},Ac=Ul,_c=ql,xc=Ai,bc=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:lu(e)?"String":uu(e)?"Number":cu(e)?"Boolean":hu(e)?"Symbol":du(e)?"BigInt":void 0},wc=function(e){if(e&&"object"==typeof e){if(Cu(e))return"Map";if(ku(e))return"Set";if(Su(e))return"WeakMap";if(Tu(e))return"WeakSet"}return!1},Ec=function(e){if(!e||"object"!=typeof e)return!1;if(!$u){var t=nc(Ju(e),8,-1);return rc(tc,t)>-1?t:"Object"===t&&function(e){var t=!1;return Xu(ac,(function(n,i){if(!t)try{n(e),t=nc(i,1)}catch{}})),t}(e)}return Ku?function(e){var t=!1;return Xu(ac,(function(n,i){if(!t)try{"$"+n(e)===i&&(t=nc(i,1))}catch{}})),t}(e):null},Ic=function(e){return sc(e)?oc?oc(e):e.byteLength:NaN},Cc=uc("SharedArrayBuffer.prototype.byteLength",!0),kc=uc("Date.prototype.getTime"),Sc=Object.getPrototypeOf,Tc=uc("Object.prototype.toString"),Pc=hc("%Set%",!0),Nc=uc("Map.prototype.has",!0),Mc=uc("Map.prototype.get",!0),Bc=uc("Map.prototype.size",!0),Lc=uc("Set.prototype.add",!0),Rc=uc("Set.prototype.delete",!0),zc=uc("Set.prototype.has",!0),Oc=uc("Set.prototype.size",!0);function Dc(e,t,n,i){for(var r,a=dc(e);(r=a.next())&&!r.done;)if(Vc(t,r.value,n,i))return Rc(e,r.value),!0;return!1}function Fc(e){return typeof e>"u"?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function jc(e,t,n,i,r,a){var o=Fc(n);if(null!=o)return o;var s=Mc(t,o),l=lc({},r,{strict:!1});return!(typeof s>"u"&&!Nc(t,o)||!Vc(i,s,l,a))&&(!Nc(e,o)&&Vc(i,s,l,a))}function Qc(e,t,n){var i=Fc(n);return null!==i&&void 0!==i?i:zc(t,i)&&!zc(e,i)}function Uc(e,t,n,i,r,a){for(var o,s,l=dc(e);(o=l.next())&&!o.done;)if(Vc(n,s=o.value,r,a)&&Vc(i,Mc(t,s),r,a))return Rc(e,s),!0;return!1}function Vc(e,t,n,i){var r=n||{};if(r.strict?pc(e,t):e===t)return!0;if(bc(e)!==bc(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return r.strict?pc(e,t):e==t;var a,o=i.has(e),s=i.has(t);if(o&&s){if(i.get(e)===i.get(t))return!0}else a={};return o||i.set(e,a),s||i.set(t,a),function(e,t,n,i){var r,a;if(typeof e!=typeof t||null==e||null==t||Tc(e)!==Tc(t)||gc(e)!==gc(t))return!1;var o=mc(e),s=mc(t);if(o!==s)return!1;var l=e instanceof Error,u=t instanceof Error;if(l!==u||(l||u)&&(e.name!==t.name||e.message!==t.message))return!1;var c=Ac(e),h=Ac(t);if(c!==h||(c||h)&&(e.source!==t.source||cc(e)!==cc(t)))return!1;var d=vc(e),f=vc(t);if(d!==f||(d||f)&&kc(e)!==kc(t)||n.strict&&Sc&&Sc(e)!==Sc(t))return!1;var p=Ec(e),g=Ec(t);if(p!==g)return!1;if(p||g){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var m=qc(e),y=qc(t);if(m!==y)return!1;if(m||y){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var v=yc(e),A=yc(t);if(v!==A)return!1;if(v||A)return Ic(e)===Ic(t)&&("function"==typeof Uint8Array&&Vc(new Uint8Array(e),new Uint8Array(t),n,i));var _=_c(e),x=_c(t);if(_!==x)return!1;if(_||x)return Cc(e)===Cc(t)&&("function"==typeof Uint8Array&&Vc(new Uint8Array(e),new Uint8Array(t),n,i));if(typeof e!=typeof t)return!1;var b=xc(e),w=xc(t);if(b.length!==w.length)return!1;for(b.sort(),w.sort(),r=b.length-1;r>=0;r--)if(b[r]!=w[r])return!1;for(r=b.length-1;r>=0;r--)if(a=b[r],!Vc(e[a],t[a],n,i))return!1;var E=wc(e),I=wc(t);return E===I&&("Set"===E||"Set"===I?function(e,t,n,i){if(Oc(e)!==Oc(t))return!1;for(var r,a,o,s=dc(e),l=dc(t);(r=s.next())&&!r.done;)if(r.value&&"object"==typeof r.value)o||(o=new Pc),Lc(o,r.value);else if(!zc(t,r.value)){if(n.strict||!Qc(e,t,r.value))return!1;o||(o=new Pc),Lc(o,r.value)}if(o){for(;(a=l.next())&&!a.done;)if(a.value&&"object"==typeof a.value){if(!Dc(o,a.value,n.strict,i))return!1}else if(!n.strict&&!zc(e,a.value)&&!Dc(o,a.value,n.strict,i))return!1;return 0===Oc(o)}return!0}(e,t,n,i):"Map"!==E||function(e,t,n,i){if(Bc(e)!==Bc(t))return!1;for(var r,a,o,s,l,u,c=dc(e),h=dc(t);(r=c.next())&&!r.done;)if(s=r.value[0],l=r.value[1],s&&"object"==typeof s)o||(o=new Pc),Lc(o,s);else if(typeof(u=Mc(t,s))>"u"&&!Nc(t,s)||!Vc(l,u,n,i)){if(n.strict||!jc(e,t,s,l,n,i))return!1;o||(o=new Pc),Lc(o,s)}if(o){for(;(a=h.next())&&!a.done;)if(s=a.value[0],u=a.value[1],s&&"object"==typeof s){if(!Uc(o,e,s,u,n,i))return!1}else if(!n.strict&&(!e.has(s)||!Vc(Mc(e,s),u,n,i))&&!Uc(o,e,s,u,lc({},n,{strict:!1}),i))return!1;return 0===Oc(o)}return!0}(e,t,n,i))}(e,t,r,i)}function qc(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}var Gc=function(e,t,n){return Vc(e,t,n,fc())};const Hc=si(Gc);var Xc=Object.defineProperty,Wc=(e,t)=>Xc(e,"name",{value:t,configurable:!0});function Yc(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function Zc(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}Wc(class{constructor(e){var t,n,i;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(n=null==e?void 0:e.direction)&&n,this.compareProperties=null==(i=null==e?void 0:e.compareProperties)||i}compare(e,t){if(e.type!==t.type||!Yc(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const n=Zc(e),i=Zc(t);return n.every((e=>i.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,n)=>Math.abs(e-t[n])<this.precision))}compareLine(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Yc(e,t))return!1;const r=e;let a=t;if(i&&!this.compareCoord(r[0],a[0])){const e=this.fixStartIndex(a,r);if(!e)return!1;a=e}const o=this.compareCoord(r[n],a[n]);return this.direction||o?this.comparePath(r,a):!!this.compareCoord(r[n],a[a.length-(1+n)])&&this.comparePath(r.slice().reverse(),a)}fixStartIndex(e,t){let n,i=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){i=r;break}return i>=0&&(n=[].concat(e.slice(i,e.length),e.slice(1,i+1))),n}comparePath(e,t){return e.every(((e,n)=>this.compareCoord(e,t[n])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const n=e.coordinates.slice(1,e.coordinates.length),i=t.coordinates.slice(1,t.coordinates.length);return n.every((e=>i.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return Yc(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,n)=>this.compare(e,t.geometries[n])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||Hc(e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return Yc(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,n)=>this.compare(e,t.features[n])))}compareBBox(e,t){return!e.bbox&&!t.bbox||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}},"GeojsonEquality"),Wc(Yc,"sameLength"),Wc(Zc,"explode");var Kc=6371008.8,Jc={centimeters:100*Kc,centimetres:100*Kc,degrees:360/(2*Math.PI),feet:3.28084*Kc,inches:39.37*Kc,kilometers:Kc/1e3,kilometres:Kc/1e3,meters:Kc,metres:Kc,miles:Kc/1609.344,millimeters:1e3*Kc,millimetres:1e3*Kc,nauticalmiles:Kc/1852,radians:1,yards:1.0936*Kc},$c={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function eh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=t||{},i.geometry=e,i}function th(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!hh(e[0])||!hh(e[1]))throw new Error("coordinates must contain numbers");return eh({type:"Point",coordinates:e},t,n)}function nh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const i of e){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<i[i.length-1].length;e++)if(i[i.length-1][e]!==i[0][e])throw new Error("First and last Position are not equivalent.")}return eh({type:"Polygon",coordinates:e},t,n)}function ih(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return eh({type:"LineString",coordinates:e},t,n)}function rh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function ah(e,t){return eh({type:"MultiLineString",coordinates:e},t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function oh(e,t){return eh({type:"MultiPoint",coordinates:e},t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function sh(e,t){return eh({type:"MultiPolygon",coordinates:e},t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function lh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kilometers";const n=Jc[t];if(!n)throw new Error(t+" units is invalid");return e*n}function uh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kilometers";const n=Jc[t];if(!n)throw new Error(t+" units is invalid");return e/n}function ch(e){return e%(2*Math.PI)*180/Math.PI}function hh(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function dh(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function fh(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Wc(eh,"feature"),Wc((function(e,t){switch(e){case"Point":return th(t).geometry;case"LineString":return ih(t).geometry;case"Polygon":return nh(t).geometry;case"MultiPoint":return oh(t).geometry;case"MultiLineString":return ah(t).geometry;case"MultiPolygon":return sh(t).geometry;default:throw new Error(e+" is invalid")}}),"geometry"),Wc(th,"point"),Wc((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return rh(e.map((e=>th(e,t))),n)}),"points"),Wc(nh,"polygon"),Wc((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return rh(e.map((e=>nh(e,t))),n)}),"polygons"),Wc(ih,"lineString"),Wc((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return rh(e.map((e=>ih(e,t))),n)}),"lineStrings"),Wc(rh,"featureCollection"),Wc(ah,"multiLineString"),Wc(oh,"multiPoint"),Wc(sh,"multiPolygon"),Wc((function(e,t){return eh({type:"GeometryCollection",geometries:e},t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),"geometryCollection"),Wc((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t&&!(t>=0))throw new Error("precision must be a positive number");const n=Math.pow(10,t||0);return Math.round(e*n)/n}),"round"),Wc(lh,"radiansToLength"),Wc(uh,"lengthToRadians"),Wc((function(e,t){return ch(uh(e,t))}),"lengthToDegrees"),Wc((function(e){let t=e%360;return t<0&&(t+=360),t}),"bearingToAzimuth"),Wc(ch,"radiansToDegrees"),Wc((function(e){return e%360*Math.PI/180}),"degreesToRadians"),Wc((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kilometers",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"kilometers";if(!(e>=0))throw new Error("length must be a positive number");return lh(uh(e,t),n)}),"convertLength"),Wc((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"kilometers";if(!(e>=0))throw new Error("area must be a positive number");const i=$c[t];if(!i)throw new Error("invalid original units");const r=$c[n];if(!r)throw new Error("invalid final units");return e/i*r}),"convertArea"),Wc(hh,"isNumber"),Wc(dh,"isObject"),Wc((function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!hh(e))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),Wc((function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}),"validateId");var ph=function(){return function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null}}();function gh(e,t){return e>t?1:e<t?-1:0}function mh(e,t,n){for(var i=new ph(null,null),r=i,a=i;;){var o=n(e,t.key);if(o<0){if(null===t.left)break;if(n(e,t.left.key)<0){var s=t.left;if(t.left=s.right,s.right=t,null===(t=s).left)break}a.left=t,a=t,t=t.left}else{if(!(o>0))break;if(null===t.right)break;if(n(e,t.right.key)>0){s=t.right;if(t.right=s.left,s.left=t,null===(t=s).right)break}r.right=t,r=t,t=t.right}}return r.right=t.left,a.left=t.right,t.left=i.right,t.right=i.left,t}function yh(e,t,n,i){var r=new ph(e,t);if(null===n)return r.left=r.right=null,r;var a=i(e,(n=mh(e,n,i)).key);return a<0?(r.left=n.left,r.right=n,n.left=null):a>=0&&(r.right=n.right,r.left=n,n.right=null),r}function vh(e,t,n){var i=null,r=null;if(t){var a=n((t=mh(e,t,n)).key,e);0===a?(i=t.left,r=t.right):a<0?(r=t.right,t.right=null,i=t):(i=t.left,t.left=null,r=t)}return{left:i,right:r}}function Ah(e,t,n,i,r){if(e){i(t+(n?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+r(e)+"\n");var a=t+(n?"    ":"\u2502   ");e.left&&Ah(e.left,a,!1,i,r),e.right&&Ah(e.right,a,!0,i,r)}}var _h=function(){function e(e){void 0===e&&(e=gh),this._root=null,this._size=0,this._comparator=e}return e.prototype.insert=function(e,t){return this._size++,this._root=yh(e,t,this._root,this._comparator)},e.prototype.add=function(e,t){var n=new ph(e,t);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var i=this._comparator,r=mh(e,this._root,i),a=i(e,r.key);return 0===a?this._root=r:(a<0?(n.left=r.left,n.right=r,r.left=null):a>0&&(n.right=r.right,n.left=r,r.right=null),this._size++,this._root=n),this._root},e.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},e.prototype._remove=function(e,t,n){var i;return null===t?null:0===n(e,(t=mh(e,t,n)).key)?(null===t.left?i=t.right:(i=mh(e,t.left,n)).right=t.right,this._size--,i):t},e.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=mh(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},e.prototype.findStatic=function(e){for(var t=this._root,n=this._comparator;t;){var i=n(e,t.key);if(0===i)return t;t=i<0?t.left:t.right}return null},e.prototype.find=function(e){return this._root&&(this._root=mh(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},e.prototype.contains=function(e){for(var t=this._root,n=this._comparator;t;){var i=n(e,t.key);if(0===i)return!0;t=i<0?t.left:t.right}return!1},e.prototype.forEach=function(e,t){for(var n=this._root,i=[],r=!1;!r;)null!==n?(i.push(n),n=n.left):0!==i.length?(n=i.pop(),e.call(t,n),n=n.right):r=!0;return this},e.prototype.range=function(e,t,n,i){for(var r=[],a=this._comparator,o=this._root;0!==r.length||o;)if(o)r.push(o),o=o.left;else{if(a((o=r.pop()).key,t)>0)break;if(a(o.key,e)>=0&&n.call(i,o))return this;o=o.right}return this},e.prototype.keys=function(){var e=[];return this.forEach((function(t){var n=t.key;return e.push(n)})),e},e.prototype.values=function(){var e=[];return this.forEach((function(t){var n=t.data;return e.push(n)})),e},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},e.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},e.prototype.at=function(e){for(var t=this._root,n=!1,i=0,r=[];!n;)if(t)r.push(t),t=t.left;else if(r.length>0){if(t=r.pop(),i===e)return t;i++,t=t.right}else n=!0;return null},e.prototype.next=function(e){var t=this._root,n=null;if(e.right){for(n=e.right;n.left;)n=n.left;return n}for(var i=this._comparator;t;){var r=i(e.key,t.key);if(0===r)break;r<0?(n=t,t=t.left):t=t.right}return n},e.prototype.prev=function(e){var t=this._root,n=null;if(null!==e.left){for(n=e.left;n.right;)n=n.right;return n}for(var i=this._comparator;t;){var r=i(e.key,t.key);if(0===r)break;r<0?t=t.left:(n=t,t=t.right)}return n},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(e){for(var t=e,n=[],i=!1,r=new ph(null,null),a=r;!i;)t?(n.push(t),t=t.left):n.length>0?t=(t=a=a.next=n.pop()).right:i=!0;return a.next=null,r.next}(this._root)},e.prototype.load=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var i=e.length,r=this._comparator;if(n&&wh(e,t,0,i-1,r),null===this._root)this._root=xh(e,t,0,i),this._size=i;else{var a=function(e,t,n){for(var i=new ph(null,null),r=i,a=e,o=t;null!==a&&null!==o;)n(a.key,o.key)<0?(r.next=a,a=a.next):(r.next=o,o=o.next),r=r.next;return null!==a?r.next=a:null!==o&&(r.next=o),i.next}(this.toList(),function(e,t){for(var n=new ph(null,null),i=n,r=0;r<e.length;r++)i=i.next=new ph(e[r],t[r]);return i.next=null,n.next}(e,t),r);i=this._size+i,this._root=bh({head:a},0,i)}return this},e.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return Ah(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},e.prototype.update=function(e,t,n){var i=this._comparator,r=vh(e,this._root,i),a=r.left,o=r.right;i(e,t)<0?o=yh(t,n,o,i):a=yh(t,n,a,i),this._root=function(e,t,n){return null===t?e:(null===e||((t=mh(e.key,t,n)).left=e),t)}(a,o,i)},e.prototype.split=function(e){return vh(e,this._root,this._comparator)},e.prototype[Symbol.iterator]=function(){var e,t,n;return fh(this,(function(i){switch(i.label){case 0:e=this._root,t=[],n=!1,i.label=1;case 1:return n?[3,6]:null===e?[3,2]:(t.push(e),e=e.left,[3,5]);case 2:return 0===t.length?[3,4]:[4,e=t.pop()];case 3:return i.sent(),e=e.right,[3,5];case 4:n=!0,i.label=5;case 5:return[3,1];case 6:return[2]}}))},e}();function xh(e,t,n,i){var r=i-n;if(r>0){var a=n+Math.floor(r/2),o=e[a],s=t[a],l=new ph(o,s);return l.left=xh(e,t,n,a),l.right=xh(e,t,a+1,i),l}return null}function bh(e,t,n){var i=n-t;if(i>0){var r=t+Math.floor(i/2),a=bh(e,t,r),o=e.head;return o.left=a,e.head=e.head.next,o.right=bh(e,r+1,n),o}return null}function wh(e,t,n,i,r){if(!(n>=i)){for(var a=e[n+i>>1],o=n-1,s=i+1;;){do{o++}while(r(e[o],a)<0);do{s--}while(r(e[s],a)>0);if(o>=s)break;var l=e[o];e[o]=e[s],e[s]=l,l=t[o],t[o]=t[s],t[s]=l}wh(e,t,n,s,r),wh(e,t,s+1,i,r)}}const Eh=11102230246251565e-32,Ih=134217729,Ch=(3+8*Eh)*Eh;function kh(e,t,n,i,r){let a,o,s,l,u=t[0],c=i[0],h=0,d=0;c>u==c>-u?(a=u,u=t[++h]):(a=c,c=i[++d]);let f=0;if(h<e&&d<n)for(c>u==c>-u?(o=u+a,s=a-(o-u),u=t[++h]):(o=c+a,s=a-(o-c),c=i[++d]),a=o,0!==s&&(r[f++]=s);h<e&&d<n;)c>u==c>-u?(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=t[++h]):(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=i[++d]),a=o,0!==s&&(r[f++]=s);for(;h<e;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=t[++h],a=o,0!==s&&(r[f++]=s);for(;d<n;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=i[++d],a=o,0!==s&&(r[f++]=s);return(0!==a||0===f)&&(r[f++]=a),f}function Sh(e){return new Float64Array(e)}const Th=(3+16*Eh)*Eh,Ph=(2+12*Eh)*Eh,Nh=(9+64*Eh)*Eh*Eh,Mh=Sh(4),Bh=Sh(8),Lh=Sh(12),Rh=Sh(16),zh=Sh(4);function Oh(e,t,n,i,r,a){const o=(t-a)*(n-r),s=(e-r)*(i-a),l=o-s,u=Math.abs(o+s);return Math.abs(l)>=Th*u?l:-function(e,t,n,i,r,a,o){let s,l,u,c,h,d,f,p,g,m,y,v,A,_,x,b,w,E;const I=e-r,C=n-r,k=t-a,S=i-a;_=I*S,d=Ih*I,f=d-(d-I),p=I-f,d=Ih*S,g=d-(d-S),m=S-g,x=p*m-(_-f*g-p*g-f*m),b=k*C,d=Ih*k,f=d-(d-k),p=k-f,d=Ih*C,g=d-(d-C),m=C-g,w=p*m-(b-f*g-p*g-f*m),y=x-w,h=x-y,Mh[0]=x-(y+h)+(h-w),v=_+y,h=v-_,A=_-(v-h)+(y-h),y=A-b,h=A-y,Mh[1]=A-(y+h)+(h-b),E=v+y,h=E-v,Mh[2]=v-(E-h)+(y-h),Mh[3]=E;let T=function(e,t){let n=t[0];for(let i=1;i<e;i++)n+=t[i];return n}(4,Mh),P=Ph*o;if(T>=P||-T>=P||(h=e-I,s=e-(I+h)+(h-r),h=n-C,u=n-(C+h)+(h-r),h=t-k,l=t-(k+h)+(h-a),h=i-S,c=i-(S+h)+(h-a),0===s&&0===l&&0===u&&0===c)||(P=Nh*o+Ch*Math.abs(T),T+=I*c+S*s-(k*u+C*l),T>=P||-T>=P))return T;_=s*S,d=Ih*s,f=d-(d-s),p=s-f,d=Ih*S,g=d-(d-S),m=S-g,x=p*m-(_-f*g-p*g-f*m),b=l*C,d=Ih*l,f=d-(d-l),p=l-f,d=Ih*C,g=d-(d-C),m=C-g,w=p*m-(b-f*g-p*g-f*m),y=x-w,h=x-y,zh[0]=x-(y+h)+(h-w),v=_+y,h=v-_,A=_-(v-h)+(y-h),y=A-b,h=A-y,zh[1]=A-(y+h)+(h-b),E=v+y,h=E-v,zh[2]=v-(E-h)+(y-h),zh[3]=E;const N=kh(4,Mh,4,zh,Bh);_=I*c,d=Ih*I,f=d-(d-I),p=I-f,d=Ih*c,g=d-(d-c),m=c-g,x=p*m-(_-f*g-p*g-f*m),b=k*u,d=Ih*k,f=d-(d-k),p=k-f,d=Ih*u,g=d-(d-u),m=u-g,w=p*m-(b-f*g-p*g-f*m),y=x-w,h=x-y,zh[0]=x-(y+h)+(h-w),v=_+y,h=v-_,A=_-(v-h)+(y-h),y=A-b,h=A-y,zh[1]=A-(y+h)+(h-b),E=v+y,h=E-v,zh[2]=v-(E-h)+(y-h),zh[3]=E;const M=kh(N,Bh,4,zh,Lh);_=s*c,d=Ih*s,f=d-(d-s),p=s-f,d=Ih*c,g=d-(d-c),m=c-g,x=p*m-(_-f*g-p*g-f*m),b=l*u,d=Ih*l,f=d-(d-l),p=l-f,d=Ih*u,g=d-(d-u),m=u-g,w=p*m-(b-f*g-p*g-f*m),y=x-w,h=x-y,zh[0]=x-(y+h)+(h-w),v=_+y,h=v-_,A=_-(v-h)+(y-h),y=A-b,h=A-y,zh[1]=A-(y+h)+(h-b),E=v+y,h=E-v,zh[2]=v-(E-h)+(y-h),zh[3]=E;const B=kh(M,Lh,4,zh,Rh);return Rh[B-1]}(e,t,n,i,r,a,u)}const Dh=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,Fh=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;const n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,i=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:n,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:i,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}}};let jh=Number.EPSILON;void 0===jh&&(jh=Math.pow(2,-52));const Qh=jh*jh,Uh=(e,t)=>{if(-jh<e&&e<jh&&-jh<t&&t<jh)return 0;const n=e-t;return n*n<Qh*e*t?0:e<t?-1:1};class Vh{constructor(){this.tree=new _h,this.round(0)}round(e){const t=this.tree.add(e),n=this.tree.prev(t);if(null!==n&&0===Uh(t.key,n.key))return this.tree.remove(e),n.key;const i=this.tree.next(t);return null!==i&&0===Uh(t.key,i.key)?(this.tree.remove(e),i.key):e}}const qh=new class{constructor(){this.reset()}reset(){this.xRounder=new Vh,this.yRounder=new Vh}round(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}},Gh=(e,t)=>e.x*t.y-e.y*t.x,Hh=(e,t)=>e.x*t.x+e.y*t.y,Xh=(e,t,n)=>{const i=Oh(e.x,e.y,t.x,t.y,n.x,n.y);return i>0?-1:i<0?1:0},Wh=e=>Math.sqrt(Hh(e,e)),Yh=(e,t,n)=>{const i={x:t.x-e.x,y:t.y-e.y},r={x:n.x-e.x,y:n.y-e.y};return Gh(r,i)/Wh(r)/Wh(i)},Zh=(e,t,n)=>{const i={x:t.x-e.x,y:t.y-e.y},r={x:n.x-e.x,y:n.y-e.y};return Hh(r,i)/Wh(r)/Wh(i)},Kh=(e,t,n)=>0===t.y?null:{x:e.x+t.x/t.y*(n-e.y),y:n},Jh=(e,t,n)=>0===t.x?null:{x:n,y:e.y+t.y/t.x*(n-e.x)};class $h{static compare(e,t){const n=$h.comparePoints(e.point,t.point);return 0!==n?n:(e.point!==t.point&&e.link(t),e.isLeft!==t.isLeft?e.isLeft?1:-1:td.compare(e.segment,t.segment))}static comparePoints(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}constructor(e,t){void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw new Error("Tried to link already linked events");const t=e.point.events;for(let n=0,i=t.length;n<i;n++){const e=t[n];this.point.events.push(e),e.point=this.point}this.checkForConsuming()}checkForConsuming(){const e=this.point.events.length;for(let t=0;t<e;t++){const n=this.point.events[t];if(void 0===n.segment.consumedBy)for(let i=t+1;i<e;i++){const e=this.point.events[i];void 0===e.consumedBy&&n.otherSE.point.events===e.otherSE.point.events&&n.segment.consume(e.segment)}}}getAvailableLinkedEvents(){const e=[];for(let t=0,n=this.point.events.length;t<n;t++){const n=this.point.events[t];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&e.push(n)}return e}getLeftmostComparator(e){const t=new Map,n=n=>{const i=n.otherSE;t.set(n,{sine:Yh(this.point,e.point,i.point),cosine:Zh(this.point,e.point,i.point)})};return(e,i)=>{t.has(e)||n(e),t.has(i)||n(i);const{sine:r,cosine:a}=t.get(e),{sine:o,cosine:s}=t.get(i);return r>=0&&o>=0?a<s?1:a>s?-1:0:r<0&&o<0?a<s?-1:a>s?1:0:o<r?-1:o>r?1:0}}}let ed=0;class td{static compare(e,t){const n=e.leftSE.point.x,i=t.leftSE.point.x,r=e.rightSE.point.x,a=t.rightSE.point.x;if(a<n)return 1;if(r<i)return-1;const o=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,u=t.rightSE.point.y;if(n<i){if(s<o&&s<l)return 1;if(s>o&&s>l)return-1;const n=e.comparePoint(t.leftSE.point);if(n<0)return 1;if(n>0)return-1;const i=t.comparePoint(e.rightSE.point);return 0!==i?i:-1}if(n>i){if(o<s&&o<u)return-1;if(o>s&&o>u)return 1;const n=t.comparePoint(e.leftSE.point);if(0!==n)return n;const i=e.comparePoint(t.rightSE.point);return i<0?1:i>0?-1:1}if(o<s)return-1;if(o>s)return 1;if(r<a){const n=t.comparePoint(e.rightSE.point);if(0!==n)return n}if(r>a){const n=e.comparePoint(t.rightSE.point);if(n<0)return 1;if(n>0)return-1}if(r!==a){const e=l-o,t=r-n,c=u-s,h=a-i;if(e>t&&c<h)return 1;if(e<t&&c>h)return-1}return r>a?1:r<a||l<u?-1:l>u?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,n,i){this.id=++ed,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=n,this.windings=i}static fromRing(e,t,n){let i,r,a;const o=$h.comparePoints(e,t);if(o<0)i=e,r=t,a=1;else{if(!(o>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));i=t,r=e,a=-1}const s=new $h(i,!0),l=new $h(r,!1);return new td(s,l,[n],[a])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}comparePoint(e){if(this.isAnEndpoint(e))return 0;const t=this.leftSE.point,n=this.rightSE.point,i=this.vector();if(t.x===n.x)return e.x===t.x?0:e.x<t.x?1:-1;const r=(e.y-t.y)/i.y,a=t.x+r*i.x;if(e.x===a)return 0;const o=(e.x-t.x)/i.x,s=t.y+o*i.y;return e.y===s?0:e.y<s?-1:1}getIntersection(e){const t=this.bbox(),n=e.bbox(),i=Fh(t,n);if(null===i)return null;const r=this.leftSE.point,a=this.rightSE.point,o=e.leftSE.point,s=e.rightSE.point,l=Dh(t,o)&&0===this.comparePoint(o),u=Dh(n,r)&&0===e.comparePoint(r),c=Dh(t,s)&&0===this.comparePoint(s),h=Dh(n,a)&&0===e.comparePoint(a);if(u&&l)return h&&!c?a:!h&&c?s:null;if(u)return c&&r.x===s.x&&r.y===s.y?null:r;if(l)return h&&a.x===o.x&&a.y===o.y?null:o;if(h&&c)return null;if(h)return a;if(c)return s;const d=((e,t,n,i)=>{if(0===t.x)return Jh(n,i,e.x);if(0===i.x)return Jh(e,t,n.x);if(0===t.y)return Kh(n,i,e.y);if(0===i.y)return Kh(e,t,n.y);const r=Gh(t,i);if(0==r)return null;const a={x:n.x-e.x,y:n.y-e.y},o=Gh(a,t)/r,s=Gh(a,i)/r;return{x:(e.x+s*t.x+(n.x+o*i.x))/2,y:(e.y+s*t.y+(n.y+o*i.y))/2}})(r,this.vector(),o,e.vector());return null!==d&&Dh(i,d)?qh.round(d.x,d.y):null}split(e){const t=[],n=void 0!==e.events,i=new $h(e,!0),r=new $h(e,!1),a=this.rightSE;this.replaceRightSE(r),t.push(r),t.push(i);const o=new td(i,a,this.rings.slice(),this.windings.slice());return $h.comparePoints(o.leftSE.point,o.rightSE.point)>0&&o.swapEvents(),$h.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(i.checkForConsuming(),r.checkForConsuming()),t}swapEvents(){const e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let t=0,n=this.windings.length;t<n;t++)this.windings[t]*=-1}consume(e){let t=this,n=e;for(;t.consumedBy;)t=t.consumedBy;for(;n.consumedBy;)n=n.consumedBy;const i=td.compare(t,n);if(0!==i){if(i>0){const e=t;t=n,n=e}if(t.prev===n){const e=t;t=n,n=e}for(let e=0,i=n.rings.length;e<i;e++){const i=n.rings[e],r=n.windings[e],a=t.rings.indexOf(i);-1===a?(t.rings.push(i),t.windings.push(r)):t.windings[a]+=r}n.rings=null,n.windings=null,n.consumedBy=t,n.leftSE.consumedBy=t.leftSE,n.rightSE.consumedBy=t.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};const t=this._afterState.rings,n=this._afterState.windings,i=this._afterState.multiPolys;for(let o=0,s=this.rings.length;o<s;o++){const e=this.rings[o],i=this.windings[o],r=t.indexOf(e);-1===r?(t.push(e),n.push(i)):n[r]+=i}const r=[],a=[];for(let o=0,s=t.length;o<s;o++){if(0===n[o])continue;const e=t[o],i=e.poly;if(-1===a.indexOf(i))if(e.isExterior)r.push(i);else{-1===a.indexOf(i)&&a.push(i);const t=r.indexOf(e.poly);-1!==t&&r.splice(t,1)}}for(let o=0,s=r.length;o<s;o++){const e=r[o].multiPoly;-1===i.indexOf(e)&&i.push(e)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(hd.type){case"union":{const n=0===e.length,i=0===t.length;this._isInResult=n!==i;break}case"intersection":{let n,i;e.length<t.length?(n=e.length,i=t.length):(n=t.length,i=e.length),this._isInResult=i===hd.numMultiPolys&&n<i;break}case"xor":{const n=Math.abs(e.length-t.length);this._isInResult=n%2===1;break}case"difference":{const n=e=>1===e.length&&e[0].isSubject;this._isInResult=n(e)!==n(t);break}default:throw new Error("Unrecognized operation type found ".concat(hd.type))}return this._isInResult}}class nd{constructor(e,t,n){if(!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=n,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const i=qh.round(e[0][0],e[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};let r=i;for(let a=1,o=e.length;a<o;a++){if("number"!=typeof e[a][0]||"number"!=typeof e[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let t=qh.round(e[a][0],e[a][1]);t.x===r.x&&t.y===r.y||(this.segments.push(td.fromRing(r,t,this)),t.x<this.bbox.ll.x&&(this.bbox.ll.x=t.x),t.y<this.bbox.ll.y&&(this.bbox.ll.y=t.y),t.x>this.bbox.ur.x&&(this.bbox.ur.x=t.x),t.y>this.bbox.ur.y&&(this.bbox.ur.y=t.y),r=t)}(i.x!==r.x||i.y!==r.y)&&this.segments.push(td.fromRing(r,i,this))}getSweepEvents(){const e=[];for(let t=0,n=this.segments.length;t<n;t++){const n=this.segments[t];e.push(n.leftSE),e.push(n.rightSE)}return e}}class id{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new nd(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let n=1,i=e.length;n<i;n++){const t=new nd(e[n],this,!1);t.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=t.bbox.ll.x),t.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=t.bbox.ll.y),t.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=t.bbox.ur.x),t.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=t.bbox.ur.y),this.interiorRings.push(t)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,n=this.interiorRings.length;t<n;t++){const n=this.interiorRings[t].getSweepEvents();for(let t=0,i=n.length;t<i;t++)e.push(n[t])}return e}}class rd{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let n=0,i=e.length;n<i;n++){const t=new id(e[n],this);t.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=t.bbox.ll.x),t.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=t.bbox.ll.y),t.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=t.bbox.ur.x),t.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=t.bbox.ur.y),this.polys.push(t)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const n=this.polys[t].getSweepEvents();for(let t=0,i=n.length;t<i;t++)e.push(n[t])}return e}}class ad{static factory(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i.isInResult()||i.ringOut)continue;let r=null,a=i.leftSE,o=i.rightSE;const s=[a],l=a.point,u=[];for(;r=a,a=o,s.push(a),a.point!==l;)for(;;){const e=a.getAvailableLinkedEvents();if(0===e.length){const e=s[0].point,t=s[s.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(e.x,", ").concat(e.y,"]. Last matching segment found ends at [").concat(t.x,", ").concat(t.y,"]."))}if(1===e.length){o=e[0].otherSE;break}let n=null;for(let t=0,r=u.length;t<r;t++)if(u[t].point===a.point){n=t;break}if(null!==n){const e=u.splice(n)[0],i=s.splice(e.index);i.unshift(i[0].otherSE),t.push(new ad(i.reverse()));continue}u.push({index:s.length,point:a.point});const i=a.getLeftmostComparator(r);o=e.sort(i)[0].otherSE;break}t.push(new ad(s))}return t}constructor(e){this.events=e;for(let t=0,n=e.length;t<n;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point;const t=[e];for(let l=1,u=this.events.length-1;l<u;l++){const n=this.events[l].point,i=this.events[l+1].point;0!==Xh(n,e,i)&&(t.push(n),e=n)}if(1===t.length)return null;const n=t[0],i=t[1];0===Xh(n,e,i)&&t.shift(),t.push(t[0]);const r=this.isExteriorRing()?1:-1,a=this.isExteriorRing()?0:t.length-1,o=this.isExteriorRing()?t.length:-1,s=[];for(let l=a;l!=o;l+=r)s.push([t[l].x,t[l].y]);return s}isExteriorRing(){if(void 0===this._isExteriorRing){const e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let i=1,r=this.events.length;i<r;i++){const t=this.events[i];$h.compare(e,t)>0&&(e=t)}let t=e.segment.prevInResult(),n=t?t.prevInResult():null;for(;;){if(!t)return null;if(!n)return t.ringOut;if(n.ringOut!==t.ringOut)return n.ringOut.enclosingRing()!==t.ringOut?t.ringOut:t.ringOut.enclosingRing();t=n.prevInResult(),n=t?t.prevInResult():null}}}class od{constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(let t=0,n=this.interiorRings.length;t<n;t++){const n=this.interiorRings[t].getGeom();null!==n&&e.push(n)}return e}}class sd{constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const n=this.polys[t].getGeom();null!==n&&e.push(n)}return e}_composePolys(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i.poly)if(i.isExteriorRing())t.push(new od(i));else{const e=i.enclosingRing();e.poly||t.push(new od(e)),e.poly.addInterior(i)}}return t}}class ld{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:td.compare;this.queue=e,this.tree=new _h(t),this.segments=[]}process(e){const t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),n;const i=e.isLeft?this.tree.add(t):this.tree.find(t);if(!i)throw new Error("Unable to find segment #".concat(t.id," [").concat(t.leftSE.point.x,", ").concat(t.leftSE.point.y,"] -> [").concat(t.rightSE.point.x,", ").concat(t.rightSE.point.y,"] in SweepLine tree."));let r,a,o=i,s=i;for(;void 0===r;)o=this.tree.prev(o),null===o?r=null:void 0===o.key.consumedBy&&(r=o.key);for(;void 0===a;)s=this.tree.next(s),null===s?a=null:void 0===s.key.consumedBy&&(a=s.key);if(e.isLeft){let i=null;if(r){const e=r.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(i=e),!r.isAnEndpoint(e))){const t=this._splitSafely(r,e);for(let e=0,i=t.length;e<i;e++)n.push(t[e])}}let o=null;if(a){const e=a.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(o=e),!a.isAnEndpoint(e))){const t=this._splitSafely(a,e);for(let e=0,i=t.length;e<i;e++)n.push(t[e])}}if(null!==i||null!==o){let e=null;e=null===i?o:null===o||$h.comparePoints(i,o)<=0?i:o,this.queue.remove(t.rightSE),n.push(t.rightSE);const r=t.split(e);for(let t=0,i=r.length;t<i;t++)n.push(r[t])}n.length>0?(this.tree.remove(t),n.push(e)):(this.segments.push(t),t.prev=r)}else{if(r&&a){const e=r.getIntersection(a);if(null!==e){if(!r.isAnEndpoint(e)){const t=this._splitSafely(r,e);for(let e=0,i=t.length;e<i;e++)n.push(t[e])}if(!a.isAnEndpoint(e)){const t=this._splitSafely(a,e);for(let e=0,i=t.length;e<i;e++)n.push(t[e])}}}this.tree.remove(t)}return n}_splitSafely(e,t){this.tree.remove(e);const n=e.rightSE;this.queue.remove(n);const i=e.split(t);return i.push(n),void 0===e.consumedBy&&this.tree.add(e),i}}const ud=typeof process<"u"&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,cd=typeof process<"u"&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;const hd=new class{run(e,t,n){hd.type=e,qh.reset();const i=[new rd(t,!0)];for(let u=0,c=n.length;u<c;u++)i.push(new rd(n[u],!1));if(hd.numMultiPolys=i.length,"difference"===hd.type){const e=i[0];let t=1;for(;t<i.length;)null!==Fh(i[t].bbox,e.bbox)?t++:i.splice(t,1)}if("intersection"===hd.type)for(let u=0,c=i.length;u<c;u++){const e=i[u];for(let t=u+1,n=i.length;t<n;t++)if(null===Fh(e.bbox,i[t].bbox))return[]}const r=new _h($h.compare);for(let u=0,c=i.length;u<c;u++){const e=i[u].getSweepEvents();for(let t=0,n=e.length;t<n;t++)if(r.insert(e[t]),r.size>ud)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const a=new ld(r);let o=r.size,s=r.pop();for(;s;){const e=s.key;if(r.size===o){const t=e.segment;throw new Error("Unable to pop() ".concat(e.isLeft?"left":"right"," SweepEvent [").concat(e.point.x,", ").concat(e.point.y,"] from segment #").concat(t.id," [").concat(t.leftSE.point.x,", ").concat(t.leftSE.point.y,"] -> [").concat(t.rightSE.point.x,", ").concat(t.rightSE.point.y,"] from queue."))}if(r.size>ud)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(a.segments.length>cd)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const t=a.process(e);for(let n=0,i=t.length;n<i;n++){const e=t[n];void 0===e.consumedBy&&r.insert(e)}o=r.size,s=r.pop()}qh.reset();const l=ad.factory(a.segments);return new sd(l).getGeom()}};var dd=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return hd.run("union",e,n)},fd=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return hd.run("difference",e,n)},pd=Object.defineProperty,gd=(e,t)=>pd(e,"name",{value:t,configurable:!0});function md(e,t,n){if(null!==e)for(var i,r,a,o,s,l,u,c,h=0,d=0,f=e.type,p="FeatureCollection"===f,g="Feature"===f,m=p?e.features.length:1,y=0;y<m;y++){s=(c=!!(u=p?e.features[y].geometry:g?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<s;v++){var A=0,_=0;if(null!==(o=c?u.geometries[v]:u)){l=o.coordinates;var x=o.type;switch(h=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===t(l,d,y,A,_))return!1;d++,A++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===t(l[i],d,y,A,_))return!1;d++,"MultiPoint"===x&&A++}"LineString"===x&&A++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(r=0;r<l[i].length-h;r++){if(!1===t(l[i][r],d,y,A,_))return!1;d++}"MultiLineString"===x&&A++,"Polygon"===x&&_++}"Polygon"===x&&A++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(_=0,r=0;r<l[i].length;r++){for(a=0;a<l[i][r].length-h;a++){if(!1===t(l[i][r][a],d,y,A,_))return!1;d++}_++}A++}break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===md(o.geometries[i],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function yd(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&!1!==t(e.features[n].properties,n);n++);break;case"Feature":t(e.properties,0)}}function vd(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function Ad(e,t){var n,i,r,a,o,s,l,u,c,h,d=0,f="FeatureCollection"===e.type,p="Feature"===e.type,g=f?e.features.length:1;for(n=0;n<g;n++){for(s=f?e.features[n].geometry:p?e.geometry:e,u=f?e.features[n].properties:p?e.properties:{},c=f?e.features[n].bbox:p?e.bbox:void 0,h=f?e.features[n].id:p?e.id:void 0,o=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,r=0;r<o;r++)if(null!==(a=l?s.geometries[r]:s))switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(a,d,u,c,h))return!1;break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)if(!1===t(a.geometries[i],d,u,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,d,u,c,h))return!1;d++}}function _d(e,t){Ad(e,(function(e,n,i,r,a){var o,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(eh(e,i,{bbox:r,id:a}),n,0)&&void 0}switch(s){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u=e.coordinates[l];if(!1===t(eh({type:o,coordinates:u},i),n,l))return!1}}))}function xd(e,t){_d(e,(function(e,n,i){var r=0;if(e.geometry){var a=e.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var o,s=0,l=0,u=0;if(!1===md(e,(function(a,c,h,d,f){if(void 0===o||n>s||d>l||f>u)return o=a,s=n,l=d,u=f,void(r=0);var p=ih([o,a],e.properties);if(!1===t(p,n,i,f,r))return!1;r++,o=a})))return!1}}}))}function bd(e,t){if(!e)throw new Error("geojson is required");_d(e,(function(e,n,i){if(null!==e.geometry){var r=e.geometry.type,a=e.geometry.coordinates;switch(r){case"LineString":if(!1===t(e,n,i,0,0))return!1;break;case"Polygon":for(var o=0;o<a.length;o++)if(!1===t(ih(a[o],e.properties),n,i,o))return!1}}}))}gd(md,"coordEach"),gd((function(e,t,n,i){var r=n;return md(e,(function(e,i,a,o,s){r=0===i&&void 0===n?e:t(r,e,i,a,o,s)}),i),r}),"coordReduce"),gd(yd,"propEach"),gd((function(e,t,n){var i=n;return yd(e,(function(e,r){i=0===r&&void 0===n?e:t(i,e,r)})),i}),"propReduce"),gd(vd,"featureEach"),gd((function(e,t,n){var i=n;return vd(e,(function(e,r){i=0===r&&void 0===n?e:t(i,e,r)})),i}),"featureReduce"),gd((function(e){var t=[];return md(e,(function(e){t.push(e)})),t}),"coordAll"),gd(Ad,"geomEach"),gd((function(e,t,n){var i=n;return Ad(e,(function(e,r,a,o,s){i=0===r&&void 0===n?e:t(i,e,r,a,o,s)})),i}),"geomReduce"),gd(_d,"flattenEach"),gd((function(e,t,n){var i=n;return _d(e,(function(e,r,a){i=0===r&&0===a&&void 0===n?e:t(i,e,r,a)})),i}),"flattenReduce"),gd(xd,"segmentEach"),gd((function(e,t,n){var i=n,r=!1;return xd(e,(function(e,a,o,s,l){i=!1===r&&void 0===n?e:t(i,e,a,o,s,l),r=!0})),i}),"segmentReduce"),gd(bd,"lineEach"),gd((function(e,t,n){var i=n;return bd(e,(function(e,r,a,o){i=0===r&&void 0===n?e:t(i,e,r,a,o)})),i}),"lineReduce"),gd((function(e,t){if(!dh(t=t||{}))throw new Error("options is invalid");var n,i=t.featureIndex||0,r=t.multiFeatureIndex||0,a=t.geometryIndex||0,o=t.segmentIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),s=s||e.features[i].properties,n=e.features[i].geometry;break;case"Feature":s=s||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=l.length+o-1),ih([l[o],l[o+1]],s,t);case"Polygon":return a<0&&(a=l.length+a),o<0&&(o=l[a].length+o-1),ih([l[a][o],l[a][o+1]],s,t);case"MultiLineString":return r<0&&(r=l.length+r),o<0&&(o=l[r].length+o-1),ih([l[r][o],l[r][o+1]],s,t);case"MultiPolygon":return r<0&&(r=l.length+r),a<0&&(a=l[r].length+a),o<0&&(o=l[r][a].length-o-1),ih([l[r][a][o],l[r][a][o+1]],s,t)}throw new Error("geojson is invalid")}),"findSegment"),gd((function(e,t){if(!dh(t=t||{}))throw new Error("options is invalid");var n,i=t.featureIndex||0,r=t.multiFeatureIndex||0,a=t.geometryIndex||0,o=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),s=s||e.features[i].properties,n=e.features[i].geometry;break;case"Feature":s=s||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return th(l,s,t);case"MultiPoint":return r<0&&(r=l.length+r),th(l[r],s,t);case"LineString":return o<0&&(o=l.length+o),th(l[o],s,t);case"Polygon":return a<0&&(a=l.length+a),o<0&&(o=l[a].length+o),th(l[a][o],s,t);case"MultiLineString":return r<0&&(r=l.length+r),o<0&&(o=l[r].length+o),th(l[r][o],s,t);case"MultiPolygon":return r<0&&(r=l.length+r),a<0&&(a=l[r].length+a),o<0&&(o=l[r][a].length-o),th(l[r][a][o],s,t)}throw new Error("geojson is invalid")}),"findPoint");var wd;function Ed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(Ad(e,(e=>{n.push(e.coordinates)})),n.length<2)throw new Error("Must have at least 2 geometries");const i=dd(n[0],...n.slice(1));return 0===i.length?null:1===i.length?nh(i[0],t.properties):sh(i,t.properties)}(0,Object.defineProperty)(wd=Ed,"name",{value:"union",configurable:!0});var Id=Ed;function Cd(){}function kd(e){return e()}function Sd(){return Object.create(null)}function Td(e){e.forEach(kd)}function Pd(e){return"function"==typeof e}function Nd(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function Md(e){e.parentNode&&e.parentNode.removeChild(e)}function Bd(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ld(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Rd(e,t,n){e.classList.toggle(t,!!n)}let zd;function Od(e){zd=e}const Dd=[],Fd=[];let jd=[];const Qd=[],Ud=Promise.resolve();let Vd=!1;function qd(e){jd.push(e)}const Gd=new Set;let Hd=0;function Xd(){if(0!==Hd)return;const e=zd;do{try{for(;Hd<Dd.length;){const e=Dd[Hd];Hd++,Od(e),Wd(e.$$)}}catch(t){throw Dd.length=0,Hd=0,t}for(Od(null),Dd.length=0,Hd=0;Fd.length;)Fd.pop()();for(let e=0;e<jd.length;e+=1){const t=jd[e];Gd.has(t)||(Gd.add(t),t())}jd.length=0}while(Dd.length);for(;Qd.length;)Qd.pop()();Vd=!1,Gd.clear(),Od(e)}function Wd(e){if(null!==e.fragment){e.update(),Td(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(qd)}}const Yd=new Set;function Zd(e,t){const n=e.$$;null!==n.fragment&&(function(e){const t=[],n=[];jd.forEach((i=>-1===e.indexOf(i)?t.push(i):n.push(i))),n.forEach((e=>e())),jd=t}(n.after_update),Td(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Kd(e,t){-1===e.$$.dirty[0]&&(Dd.push(e),Vd||(Vd=!0,Ud.then(Xd)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Jd(e,t,n,i,r,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const l=zd;Od(e);const u=e.$$={fragment:null,ctx:[],props:a,update:Cd,not_equal:r,bound:Sd(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Sd(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=n?n(e,t.props||{},(function(t,n){const i=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return u.ctx&&r(u.ctx[t],u.ctx[t]=i)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](i),c&&Kd(e,t)),n})):[],u.update(),c=!0,Td(u.before_update),u.fragment=!!i&&i(u.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);u.fragment&&u.fragment.l(e),e.forEach(Md)}else u.fragment&&u.fragment.c();t.intro&&function(e,t){e&&e.i&&(Yd.delete(e),e.i(t))}(e.$$.fragment),function(e,t,n){const{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),qd((()=>{const t=e.$$.on_mount.map(kd).filter(Pd);e.$$.on_destroy?e.$$.on_destroy.push(...t):Td(t),e.$$.on_mount=[]})),r.forEach(qd)}(e,t.target,t.anchor),Xd()}Od(l)}class $d{constructor(){ai(this,"$$"),ai(this,"$$set")}$destroy(){Zd(this,1),this.$destroy=Cd}$on(e,t){if(!Pd(t))return Cd;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!function(e){return 0===Object.keys(e).length}(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ef(e){let t,n,i;return{c(){t=Bd("svg"),n=Bd("path"),Ld(n,"stroke-width","4"),Ld(n,"d","M 5,33.103579 C 5,17.607779 18.457,5 35,5 C 51.543,5 65,17.607779 65,33.103579 C 65,56.388679 40.4668,76.048179 36.6112,79.137779 C 36.3714,79.329879 36.2116,79.457979 36.1427,79.518879 C 35.8203,79.800879 35.4102,79.942779 35,79.942779 C 34.5899,79.942779 34.1797,79.800879 33.8575,79.518879 C 33.7886,79.457979 33.6289,79.330079 33.3893,79.138079 C 29.5346,76.049279 5,56.389379 5,33.103579 Z M 35.0001,49.386379 C 43.1917,49.386379 49.8323,42.646079 49.8323,34.331379 C 49.8323,26.016779 43.1917,19.276479 35.0001,19.276479 C 26.8085,19.276479 20.1679,26.016779 20.1679,34.331379 C 20.1679,42.646079 26.8085,49.386379 35.0001,49.386379 Z"),Ld(n,"class","svelte-gzo3ar"),Ld(t,"width",i="list"===e[0]?20:void 0),Ld(t,"viewBox","0 0 70 85"),Ld(t,"fill","none"),Ld(t,"class","svelte-gzo3ar"),Rd(t,"in-map","list"!==e[0]),Rd(t,"list-icon","list"===e[0])},m(e,i){(function(e,t,n){e.insertBefore(t,n||null)})(e,t,i),function(e,t){e.appendChild(t)}(t,n)},p(e,n){let[r]=n;1&r&&i!==(i="list"===e[0]?20:void 0)&&Ld(t,"width",i),1&r&&Rd(t,"in-map","list"!==e[0]),1&r&&Rd(t,"list-icon","list"===e[0])},i:Cd,o:Cd,d(e){e&&Md(t)}}}function tf(e,t,n){let{displayIn:i}=t;return e.$$set=e=>{"displayIn"in e&&n(0,i=e.displayIn)},[i]}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class nf extends $d{constructor(e){super(),Jd(this,e,tf,ef,Nd,{displayIn:0})}}var rf=Object.defineProperty;function af(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=e.bbox&&!0!==t.recompute)return e.bbox;const n=[1/0,1/0,-1/0,-1/0];return md(e,(e=>{n[0]>e[0]&&(n[0]=e[0]),n[1]>e[1]&&(n[1]=e[1]),n[2]<e[0]&&(n[2]=e[0]),n[3]<e[1]&&(n[3]=e[1])})),n}((e,t)=>{rf(e,"name",{value:t,configurable:!0})})(af,"bbox");var of=Object.defineProperty;function sf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=af(e);return th([(n[0]+n[2])/2,(n[1]+n[3])/2],t.properties,t)}((e,t)=>{of(e,"name",{value:t,configurable:!0})})(sf,"center");var lf={exports:{}};!function(e,t){e.exports=function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function s(e,t,n){return(s=o()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&a(r,n.prototype),r}).apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return s(e,arguments,r(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),a(i,e)},l(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function h(e){var t=o();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return c(this,n)}}function d(e,t,n){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function f(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var y=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=t.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=t.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==t.JOIN_ROUND&&(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(e){this._joinStyle=e}},{key:"setSimplifyFactor",value:function(e){this._simplifyFactor=e<0?0:e}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(e){this._endCapStyle=e}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(e){this._mitreLimit=e}},{key:"setSingleSided",value:function(e){this._isSingleSided=e}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(a),this.setJoinStyle(o),this.setMitreLimit(s)}}},{key:"bufferDistanceError",value:function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)}}]),t}();y.CAP_ROUND=1,y.CAP_FLAT=2,y.CAP_SQUARE=3,y.JOIN_ROUND=1,y.JOIN_MITRE=2,y.JOIN_BEVEL=3,y.DEFAULT_QUADRANT_SEGMENTS=8,y.DEFAULT_MITRE_LIMIT=5,y.DEFAULT_SIMPLIFY_FACTOR=.01;var v=function(t){i(a,t);var r=h(a);function a(t){var n;return e(this,a),(n=r.call(this,t)).name=Object.keys({Exception:a})[0],n}return n(a,[{key:"toString",value:function(){return this.message}}]),a}(l(Error)),A=function(t){i(r,t);var n=h(r);function r(t){var i;return e(this,r),(i=n.call(this,t)).name=Object.keys({IllegalArgumentException:r})[0],i}return r}(v),_=function(){function t(){e(this,t)}return n(t,[{key:"filter",value:function(e){}}]),t}();function x(){}function b(){}function w(){}var E,I,C,k,S,T,P,N,M=function(){function t(){e(this,t)}return n(t,null,[{key:"equalsWithTolerance",value:function(e,t,n){return Math.abs(e-t)<=n}}]),t}(),B=function(){function t(n,i){e(this,t),this.low=i||0,this.high=n||0}return n(t,null,[{key:"toBinaryString",value:function(e){var t,n="";for(t=2147483648;t>0;t>>>=1)n+=(e.high&t)===t?"1":"0";for(t=2147483648;t>0;t>>>=1)n+=(e.low&t)===t?"1":"0";return n}}]),t}();function L(){}function R(){}L.NaN=NaN,L.isNaN=function(e){return Number.isNaN(e)},L.isInfinite=function(e){return!Number.isFinite(e)},L.MAX_VALUE=Number.MAX_VALUE,L.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,L.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,"function"==typeof Float64Array&&"function"==typeof Int32Array?(T=2146435072,P=new Float64Array(1),N=new Int32Array(P.buffer),L.doubleToLongBits=function(e){P[0]=e;var t=0|N[0],n=0|N[1];return(n&T)===T&&1048575&n&&0!==t&&(t=0,n=2146959360),new B(n,t)},L.longBitsToDouble=function(e){return N[0]=e.low,N[1]=e.high,P[0]}):(E=1023,I=Math.log2,C=Math.floor,k=Math.pow,S=function(){for(var e=53;e>0;e--){var t=k(2,e)-1;if(C(I(t))+1===e)return t}return 0}(),L.doubleToLongBits=function(e){var t,n,i,r,a,o,s,l,u;if(e<0||1/e===Number.NEGATIVE_INFINITY?(o=1<<31,e=-e):o=0,0===e)return new B(l=o,u=0);if(e===1/0)return new B(l=2146435072|o,u=0);if(e!=e)return new B(l=2146959360,u=0);if(r=0,u=0,(t=C(e))>1)if(t<=S)(r=C(I(t)))<=20?(u=0,l=t<<20-r&1048575):(u=t%(n=k(2,i=r-20))<<32-i,l=t/n&1048575);else for(i=t,u=0;0!==(i=C(n=i/2));)r++,u>>>=1,u|=(1&l)<<31,l>>>=1,n!==i&&(l|=524288);if(s=r+E,a=0===t,t=e-t,r<52&&0!==t)for(i=0;;){if((n=2*t)>=1?(t=n-1,a?(s--,a=!1):(i<<=1,i|=1,r++)):(t=n,a?0==--s&&(r++,a=!1):(i<<=1,r++)),20===r)l|=i,i=0;else if(52===r){u|=i;break}if(1===n){r<20?l|=i<<20-r:r<52&&(u|=i<<52-r);break}}return l|=s<<20,new B(l|=o,u)},L.longBitsToDouble=function(e){var t,n,i,r,a=e.high,o=e.low,s=a&1<<31?-1:1;for(i=((2146435072&a)>>20)-E,r=0,n=1<<19,t=1;t<=20;t++)a&n&&(r+=k(2,-t)),n>>>=1;for(n=1<<31,t=21;t<=52;t++)o&n&&(r+=k(2,-t)),n>>>=1;if(-1023===i){if(0===r)return 0*s;i=-1022}else{if(1024===i)return 0===r?s/0:NaN;r+=1}return s*r*k(2,i)});var z=function(t){i(r,t);var n=h(r);function r(t){var i;return e(this,r),(i=n.call(this,t)).name=Object.keys({RuntimeException:r})[0],i}return r}(v),O=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),t=r.call(this),a.constructor_.apply(u(t),arguments),t}return n(a,null,[{key:"constructor_",value:function(){if(0===arguments.length)z.constructor_.call(this);else if(1===arguments.length){var e=arguments[0];z.constructor_.call(this,e)}}}]),a}(z),D=function(){function t(){e(this,t)}return n(t,null,[{key:"shouldNeverReachHere",value:function(){if(0===arguments.length)t.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new O("Should never reach here"+(null!==e?": "+e:""))}}},{key:"isTrue",value:function(){if(1===arguments.length){var e=arguments[0];t.isTrue(e,null)}else if(2===arguments.length){var n=arguments[1];if(!arguments[0])throw null===n?new O:new O(n)}}},{key:"equals",value:function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];t.equals(e,n,null)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],a=arguments[2];if(!r.equals(i))throw new O("Expected "+i+" but encountered "+r+(null!==a?": "+a:""))}}}]),t}(),F=new ArrayBuffer(8),j=new Float64Array(F),Q=new Int32Array(F),U=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getM",value:function(){return L.NaN}},{key:"setOrdinate",value:function(e,n){switch(e){case t.X:this.x=n;break;case t.Y:this.y=n;break;case t.Z:this.setZ(n);break;default:throw new A("Invalid ordinate index: "+e)}}},{key:"equals2D",value:function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!M.equalsWithTolerance(this.x,t.x,n)&&!!M.equalsWithTolerance(this.y,t.y,n)}}},{key:"setM",value:function(e){throw new A("Invalid ordinate index: "+t.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(e){switch(e){case t.X:return this.x;case t.Y:return this.y;case t.Z:return this.getZ()}throw new A("Invalid ordinate index: "+e)}},{key:"equals3D",value:function(e){return this.x===e.x&&this.y===e.y&&(this.getZ()===e.getZ()||L.isNaN(this.getZ())&&L.isNaN(e.getZ()))}},{key:"equals",value:function(e){return e instanceof t&&this.equals2D(e)}},{key:"equalInZ",value:function(e,t){return M.equalsWithTolerance(this.getZ(),e.getZ(),t)}},{key:"setX",value:function(e){this.x=e}},{key:"compareTo",value:function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(e){this.z=e}},{key:"clone",value:function(){try{return null}catch(Sg){if(Sg instanceof CloneNotSupportedException)return D.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw Sg}}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.getZ()-e.getZ();return Math.sqrt(t*t+n*n+i*i)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(e){this.y=e}},{key:"distance",value:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}},{key:"hashCode",value:function(){var e=17;return 37*(e=37*e+t.hashCode(this.x))+t.hashCode(this.y)}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}},{key:"interfaces_",get:function(){return[x,b,w]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)t.constructor_.call(this,0,0);else if(1===arguments.length){var e=arguments[0];t.constructor_.call(this,e.x,e.y,e.getZ())}else if(2===arguments.length){var n=arguments[0],i=arguments[1];t.constructor_.call(this,n,i,t.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],a=arguments[1],o=arguments[2];this.x=r,this.y=a,this.z=o}}},{key:"hashCode",value:function(e){return j[0]=e,Q[0]^Q[1]}}]),t}(),V=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"compare",value:function(e,n){var i=t.compare(e.x,n.x);if(0!==i)return i;var r=t.compare(e.y,n.y);return 0!==r?r:this._dimensionsToTest<=2?0:t.compare(e.getZ(),n.getZ())}},{key:"interfaces_",get:function(){return[R]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,0===arguments.length)t.constructor_.call(this,2);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new A("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}}},{key:"compare",value:function(e,t){return e<t?-1:e>t?1:L.isNaN(e)?L.isNaN(t)?0:-1:L.isNaN(t)?1:0}}]),t}();U.DimensionalComparator=V,U.NULL_ORDINATE=L.NaN,U.X=0,U.Y=1,U.Z=2,U.M=3;var q=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()}},{key:"intersection",value:function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new t;var n=this._minx>e._minx?this._minx:e._minx,i=this._miny>e._miny?this._miny:e._miny;return new t(n,this._maxx<e._maxx?this._maxx:e._maxx,i,this._maxy<e._maxy?this._maxy:e._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(1===arguments.length){if(arguments[0]instanceof U){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof t){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return!this.isNull()&&i>=this._minx&&i<=this._maxx&&r>=this._miny&&r<=this._maxy}}},{key:"intersects",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof U){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(2===arguments.length){if(arguments[0]instanceof U&&arguments[1]instanceof U){var i=arguments[0],r=arguments[1];return!this.isNull()&&!((i.x<r.x?i.x:r.x)>this._maxx)&&!((i.x>r.x?i.x:r.x)<this._minx)&&!((i.y<r.y?i.y:r.y)>this._maxy)&&!((i.y>r.y?i.y:r.y)<this._miny)}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],o=arguments[1];return!this.isNull()&&!(a>this._maxx||a<this._minx||o>this._maxy||o<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return Math.sqrt(e*e+t*t)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(1===arguments.length){if(arguments[0]instanceof U){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=r,this._maxy=r):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0}},{key:"translate",value:function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(e){return!(!this.isNull()&&!e.isNull())||e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t}},{key:"expandBy",value:function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof U){var n=arguments[0];return this.covers(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return this.covers(i,r)}}},{key:"centre",value:function(){return this.isNull()?null:new U((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof U){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var a=arguments[0],o=arguments[1],s=arguments[2],l=arguments[3];a<o?(this._minx=a,this._maxx=o):(this._minx=o,this._maxx=a),s<l?(this._miny=s,this._maxy=l):(this._miny=l,this._maxy=s)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)}},{key:"hashCode",value:function(){var e=17;return 37*(e=37*(e=37*(e=37*e+U.hashCode(this._minx))+U.hashCode(this._maxx))+U.hashCode(this._miny))+U.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[x,w]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof U){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var a=arguments[0],o=arguments[1],s=arguments[2],l=arguments[3];this.init(a,o,s,l)}}},{key:"intersects",value:function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3],s=Math.min(a.x,o.x),l=Math.max(a.x,o.x),u=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(u>l)&&!(c<s)&&(s=Math.min(a.y,o.y),l=Math.max(a.y,o.y),u=Math.min(i.y,r.y),c=Math.max(i.y,r.y),!(u>l)&&!(c<s))}}}]),t}(),G=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(e){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(e){return this===e||this.equalsExact(e,0)}},{key:"geometryChanged",value:function(){this.apply(t.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(e){return null!==e&&this.norm().equalsExact(e.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var e;if(1===arguments.length){var t=arguments[0];return e=t,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return e=n,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,i)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(e){if(e.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION)throw new A("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n}},{key:"norm",value:function(){var e=this.copy();return e.normalize(),e}},{key:"reverse",value:function(){var e=this.reverseInternal();return null!=this.envelope&&(e.envelope=this.envelope.copy()),e.setSRID(this.getSRID()),e}},{key:"copy",value:function(){var e=this.copyInternal();return e.envelope=null==this._envelope?null:this._envelope.copy(),e._SRID=this._SRID,e._userData=this._userData,e}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new q(this._envelope)}},{key:"setSRID",value:function(e){this._SRID=e}},{key:"setUserData",value:function(e){this._userData=e}},{key:"compare",value:function(e,t){for(var n=e.iterator(),i=t.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),a=i.next(),o=r.compareTo(a);if(0!==o)return o}return n.hasNext()?1:i.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(e){return this.getClass()===e.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===t.TYPECODE_MULTIPOINT||this.getTypeCode()===t.TYPECODE_MULTILINESTRING||this.getTypeCode()===t.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[b,x,w]}},{key:"getClass",value:function(){return t}}],[{key:"hasNonEmptyElements",value:function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1}}]),t}();G.constructor_=function(e){e&&(this._envelope=null,this._userData=null,this._factory=e,this._SRID=e.getSRID())},G.TYPECODE_POINT=0,G.TYPECODE_MULTIPOINT=1,G.TYPECODE_LINESTRING=2,G.TYPECODE_LINEARRING=3,G.TYPECODE_MULTILINESTRING=4,G.TYPECODE_POLYGON=5,G.TYPECODE_MULTIPOLYGON=6,G.TYPECODE_GEOMETRYCOLLECTION=7,G.TYPENAME_POINT="Point",G.TYPENAME_MULTIPOINT="MultiPoint",G.TYPENAME_LINESTRING="LineString",G.TYPENAME_LINEARRING="LinearRing",G.TYPENAME_MULTILINESTRING="MultiLineString",G.TYPENAME_POLYGON="Polygon",G.TYPENAME_MULTIPOLYGON="MultiPolygon",G.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",G.geometryChangedFilter={get interfaces_(){return[_]},filter:function(e){e.geometryChangedAction()}};var H=function(){function t(){e(this,t)}return n(t,null,[{key:"toLocationSymbol",value:function(e){switch(e){case t.EXTERIOR:return"e";case t.BOUNDARY:return"b";case t.INTERIOR:return"i";case t.NONE:return"-"}throw new A("Unknown location value: "+e)}}]),t}();H.INTERIOR=0,H.BOUNDARY=1,H.EXTERIOR=2,H.NONE=-1;var X=function(){function t(){e(this,t)}return n(t,[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}]),t}(),W=function(t){i(r,t);var n=h(r);function r(t){var i;return e(this,r),(i=n.call(this,t)).name=Object.keys({NoSuchElementException:r})[0],i}return r}(v),Y=function(t){i(r,t);var n=h(r);function r(t){var i;return e(this,r),(i=n.call(this,t)).name=Object.keys({UnsupportedOperationException:r})[0],i}return r}(v),Z=function(t){i(a,t);var r=h(a);function a(){return e(this,a),r.apply(this,arguments)}return n(a,[{key:"contains",value:function(){}}]),a}(X),K=function(t,r){i(o,t);var a=h(o);function o(t){var n;return e(this,o),(n=a.call(this)).map=new Map,t instanceof X&&n.addAll(t),n}return n(o,[{key:"contains",value:function(e){var t=e.hashCode?e.hashCode():e;return!!this.map.has(t)}},{key:"add",value:function(e){var t=e.hashCode?e.hashCode():e;return!this.map.has(t)&&!!this.map.set(t,e)}},{key:"addAll",value:function(e){var t,n=m(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.add(i)}}catch(r){n.e(r)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new Y}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new J(this.map)}},{key:r,value:function(){return this.map}}]),o}(Z,Symbol.iterator),J=function(){function t(n){e(this,t),this.iterator=n.values();var i=this.iterator.next(),r=i.done,a=i.value;this.done=r,this.value=a}return n(t,[{key:"next",value:function(){if(this.done)throw new W;var e=this.value,t=this.iterator.next(),n=t.done,i=t.value;return this.done=n,this.value=i,e}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new Y}}]),t}(),$=function(){function t(){e(this,t)}return n(t,null,[{key:"opposite",value:function(e){return e===t.LEFT?t.RIGHT:e===t.RIGHT?t.LEFT:e}}]),t}();$.ON=0,$.LEFT=1,$.RIGHT=2;var ee=function(t){i(r,t);var n=h(r);function r(t){var i;return e(this,r),(i=n.call(this,t)).name=Object.keys({EmptyStackException:r})[0],i}return r}(v),te=function(t){i(r,t);var n=h(r);function r(t){var i;return e(this,r),(i=n.call(this,t)).name=Object.keys({IndexOutOfBoundsException:r})[0],i}return r}(v),ne=function(t){i(a,t);var r=h(a);function a(){return e(this,a),r.apply(this,arguments)}return n(a,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}]),a}(X),ie=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),(t=r.call(this)).array=[],t}return n(a,[{key:"add",value:function(e){return this.array.push(e),!0}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new te;return this.array[e]}},{key:"push",value:function(e){return this.array.push(e),e}},{key:"pop",value:function(){if(0===this.array.length)throw new ee;return this.array.pop()}},{key:"peek",value:function(){if(0===this.array.length)throw new ee;return this.array[this.array.length-1]}},{key:"empty",value:function(){return 0===this.array.length}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(e){return this.array.indexOf(e)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}]),a}(ne);function re(e,t){return e.interfaces_&&e.interfaces_.indexOf(t)>-1}var ae=function(){function t(n){e(this,t),this.str=n}return n(t,[{key:"append",value:function(e){this.str+=e}},{key:"setCharAt",value:function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)}},{key:"toString",value:function(){return this.str}}]),t}(),oe=function(){function t(n){e(this,t),this.value=n}return n(t,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(e){return this.value<e?-1:this.value>e?1:0}}],[{key:"compare",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"isNan",value:function(e){return Number.isNaN(e)}},{key:"valueOf",value:function(e){return new t(e)}}]),t}(),se=function(){function t(){e(this,t)}return n(t,null,[{key:"isWhitespace",value:function(e){return e<=32&&e>=0||127===e}},{key:"toUpperCase",value:function(e){return e.toUpperCase()}}]),t}(),le=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"le",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<=e._lo}},{key:"extractSignificantDigits",value:function(e,n){var i=this.abs(),r=t.magnitude(i._hi),a=t.TEN.pow(r);(i=i.divide(a)).gt(t.TEN)?(i=i.divide(t.TEN),r+=1):i.lt(t.ONE)&&(i=i.multiply(t.TEN),r-=1);for(var o=r+1,s=new ae,l=t.MAX_PRINT_DIGITS-1,u=0;u<=l;u++){e&&u===o&&s.append(".");var c=Math.trunc(i._hi);if(c<0)break;var h=!1,d=0;c>9?(h=!0,d="9"):d="0"+c,s.append(d),i=i.subtract(t.valueOf(c)).multiply(t.TEN),h&&i.selfAdd(t.TEN);var f=!0,p=t.magnitude(i._hi);if(p<0&&Math.abs(p)>=l-u&&(f=!1),!f)break}return n[0]=r,s.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var n=arguments[0];return this.add(-n)}}},{key:"equals",value:function(){if(1===arguments.length&&arguments[0]instanceof t){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}}},{key:"isZero",value:function(){return 0===this._hi&&0===this._lo}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(e){return this.le(e)?this:e}},{key:"selfDivide",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfDivide(n,0)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1],a=null,o=null,s=null,l=null,u=null,c=null,h=null,d=null;return u=this._hi/i,d=(a=(c=t.SPLIT*u)-(a=c-u))*(s=(d=t.SPLIT*i)-(s=d-i))-(h=u*i)+a*(l=i-s)+(o=u-a)*s+o*l,d=u+(c=(this._hi-h-d+this._lo-u*r)/i),this._hi=d,this._lo=u-d+c,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof t){var e=arguments[0],n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null;return i=(o=this._hi/e._hi)-(n=(s=t.SPLIT*o)-(n=s-o)),u=n*(r=(u=t.SPLIT*e._hi)-(r=u-e._hi))-(l=o*e._hi)+n*(a=e._hi-r)+i*r+i*a,new t(u=o+(s=(this._hi-l-u+this._lo-o*e._lo)/e._hi),o-u+s)}if("number"==typeof arguments[0]){var c=arguments[0];return L.isNaN(c)?t.createNaN():t.copy(this).selfDivide(c,0)}}},{key:"ge",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>=e._lo}},{key:"pow",value:function(e){if(0===e)return t.valueOf(1);var n=new t(this),i=t.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2==1&&i.selfMultiply(n),(r/=2)>0&&(n=n.sqr());else i=n;return e<0?i.reciprocal():i}},{key:"ceil",value:function(){if(this.isNaN())return t.NaN;var e=Math.ceil(this._hi),n=0;return e===this._hi&&(n=Math.ceil(this._lo)),new t(e,n)}},{key:"compareTo",value:function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var n=arguments[0];return this.init(n),this}}},{key:"max",value:function(e){return this.ge(e)?this:e}},{key:"sqrt",value:function(){if(this.isZero())return t.valueOf(0);if(this.isNegative())return t.NaN;var e=1/Math.sqrt(this._hi),n=this._hi*e,i=t.valueOf(n),r=this.subtract(i.sqr())._hi*(.5*e);return i.add(r)}},{key:"selfAdd",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var n=arguments[0],i=null,r=null,a=null,o=null,s=null,l=null;return o=(a=this._hi+n)-(s=a-this._hi),r=(l=(o=n-s+(this._hi-o))+this._lo)+(a-(i=a+l)),this._hi=i+r,this._lo=r+(i-this._hi),this}}else if(2===arguments.length){var u=arguments[0],c=arguments[1],h=null,d=null,f=null,p=null,g=null,m=null,y=null;p=this._hi+u,d=this._lo+c,g=p-(m=p-this._hi),f=d-(y=d-this._lo);var v=(h=p+(m=(g=u-m+(this._hi-g))+d))+(m=(f=c-y+(this._lo-f))+(m+(p-h))),A=m+(h-v);return this._hi=v,this._lo=A,this}}},{key:"selfMultiply",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfMultiply(n,0)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1],a=null,o=null,s=null,l=null,u=null,c=null;a=(u=t.SPLIT*this._hi)-this._hi,c=t.SPLIT*i,a=u-a,o=this._hi-a,s=c-i;var h=(u=this._hi*i)+(c=a*(s=c-s)-u+a*(l=i-s)+o*s+o*l+(this._hi*r+this._lo*i)),d=c+(a=u-h);return this._hi=h,this._lo=d,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return t.NaN;var e=Math.floor(this._hi),n=0;return e===this._hi&&(n=Math.floor(this._lo)),new t(e,n)}},{key:"negate",value:function(){return this.isNaN()?this:new t(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(Sg){if(Sg instanceof CloneNotSupportedException)return null;throw Sg}}},{key:"multiply",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return e.isNaN()?t.createNaN():t.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var n=arguments[0];return L.isNaN(n)?t.createNaN():t.copy(this).selfMultiply(n,0)}}},{key:"isNaN",value:function(){return L.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var e=t.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var e=this.getSpecialNumberString();if(null!==e)return e;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!0,n),r=n[0]+1,a=i;if("."===i.charAt(0))a="0"+i;else if(r<0)a="0."+t.stringOfChar("0",-r)+i;else if(-1===i.indexOf(".")){var o=r-i.length;a=i+t.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+a:a}},{key:"reciprocal",value:function(){var e,n,i,r,a=null,o=null,s=null,l=null;e=(i=1/this._hi)-(a=(s=t.SPLIT*i)-(a=s-i)),o=(l=t.SPLIT*this._hi)-this._hi;var u=i+(s=(1-(r=i*this._hi)-(l=a*(o=l-o)-r+a*(n=this._hi-o)+e*o+e*n)-i*this._lo)/this._hi);return new t(u,i-u+s)}},{key:"toSciNotation",value:function(){if(this.isZero())return t.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!1,n),r=t.SCI_NOT_EXPONENT_CHAR+n[0];if("0"===i.charAt(0))throw new IllegalStateException("Found leading zero: "+i);var a="";i.length>1&&(a=i.substring(1));var o=i.charAt(0)+"."+a;return this.isNegative()?"-"+o+r:o+r}},{key:"abs",value:function(){return this.isNaN()?t.NaN:this.isNegative()?this.negate():new t(this)}},{key:"isPositive",value:function(){return this._hi>0||0===this._hi&&this._lo>0}},{key:"lt",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<e._lo}},{key:"add",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return t.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var n=arguments[0];return t.copy(this).selfAdd(n)}}},{key:"init",value:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof t){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this._hi=i,this._lo=r}}},{key:"gt",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>e._lo}},{key:"isNegative",value:function(){return this._hi<0||0===this._hi&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?t.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[w,x,b]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var i=arguments[0];t.constructor_.call(this,t.parse(i))}}else if(2===arguments.length){var r=arguments[0],a=arguments[1];this.init(r,a)}}},{key:"determinant",value:function(){if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];return t.determinant(t.valueOf(e),t.valueOf(n),t.valueOf(i),t.valueOf(r))}if(arguments[3]instanceof t&&arguments[2]instanceof t&&arguments[0]instanceof t&&arguments[1]instanceof t){var a=arguments[1],o=arguments[2],s=arguments[3];return arguments[0].multiply(s).selfSubtract(a.multiply(o))}}},{key:"sqr",value:function(e){return t.valueOf(e).selfMultiply(e)}},{key:"valueOf",value:function(){if("string"==typeof arguments[0]){var e=arguments[0];return t.parse(e)}if("number"==typeof arguments[0])return new t(arguments[0])}},{key:"sqrt",value:function(e){return t.valueOf(e).sqrt()}},{key:"parse",value:function(e){for(var n=0,i=e.length;se.isWhitespace(e.charAt(n));)n++;var r=!1;if(n<i){var a=e.charAt(n);"-"!==a&&"+"!==a||(n++,"-"===a&&(r=!0))}for(var o=new t,s=0,l=0,u=0,c=!1;!(n>=i);){var h=e.charAt(n);if(n++,se.isDigit(h)){var d=h-"0";o.selfMultiply(t.TEN),o.selfAdd(d),s++}else{if("."!==h){if("e"===h||"E"===h){var f=e.substring(n);try{u=oe.parseInt(f)}catch(v){throw v instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+f+" in string "+e):v}break}throw new NumberFormatException("Unexpected character '"+h+"' at position "+n+" in string "+e)}l=s,c=!0}}var p=o;c||(l=s);var g=s-l-u;if(0===g)p=o;else if(g>0){var m=t.TEN.pow(g);p=o.divide(m)}else if(g<0){var y=t.TEN.pow(-g);p=o.multiply(y)}return r?p.negate():p}},{key:"createNaN",value:function(){return new t(L.NaN,L.NaN)}},{key:"copy",value:function(e){return new t(e)}},{key:"magnitude",value:function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=t&&(i+=1),i}},{key:"stringOfChar",value:function(e,t){for(var n=new ae,i=0;i<t;i++)n.append(e);return n.toString()}}]),t}();le.PI=new le(3.141592653589793,12246467991473532e-32),le.TWO_PI=new le(6.283185307179586,24492935982947064e-32),le.PI_2=new le(1.5707963267948966,6123233995736766e-32),le.E=new le(2.718281828459045,14456468917292502e-32),le.NaN=new le(L.NaN,L.NaN),le.EPS=123259516440783e-46,le.SPLIT=134217729,le.MAX_PRINT_DIGITS=32,le.TEN=le.valueOf(10),le.ONE=le.valueOf(1),le.SCI_NOT_EXPONENT_CHAR="E",le.SCI_NOT_ZERO="0.0E0";var ue=function(){function t(){e(this,t)}return n(t,null,[{key:"orientationIndex",value:function(e,n,i){var r=t.orientationIndexFilter(e,n,i);if(r<=1)return r;var a=le.valueOf(n.x).selfAdd(-e.x),o=le.valueOf(n.y).selfAdd(-e.y),s=le.valueOf(i.x).selfAdd(-n.x),l=le.valueOf(i.y).selfAdd(-n.y);return a.selfMultiply(l).selfSubtract(o.selfMultiply(s)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof le&&arguments[2]instanceof le&&arguments[0]instanceof le&&arguments[1]instanceof le){var e=arguments[1],t=arguments[2],n=arguments[3];return arguments[0].multiply(n).selfSubtract(e.multiply(t)).signum()}if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3],s=le.valueOf(i),l=le.valueOf(r),u=le.valueOf(a),c=le.valueOf(o);return s.multiply(c).selfSubtract(l.multiply(u)).signum()}}},{key:"intersection",value:function(e,t,n,i){var r=new le(e.y).selfSubtract(t.y),a=new le(t.x).selfSubtract(e.x),o=new le(e.x).selfMultiply(t.y).selfSubtract(new le(t.x).selfMultiply(e.y)),s=new le(n.y).selfSubtract(i.y),l=new le(i.x).selfSubtract(n.x),u=new le(n.x).selfMultiply(i.y).selfSubtract(new le(i.x).selfMultiply(n.y)),c=a.multiply(u).selfSubtract(l.multiply(o)),h=s.multiply(o).selfSubtract(r.multiply(u)),d=r.multiply(l).selfSubtract(s.multiply(a)),f=c.selfDivide(d).doubleValue(),p=h.selfDivide(d).doubleValue();return L.isNaN(f)||L.isInfinite(f)||L.isNaN(p)||L.isInfinite(p)?null:new U(f,p)}},{key:"orientationIndexFilter",value:function(e,n,i){var r=null,a=(e.x-i.x)*(n.y-i.y),o=(e.y-i.y)*(n.x-i.x),s=a-o;if(a>0){if(o<=0)return t.signum(s);r=a+o}else{if(!(a<0)||o>=0)return t.signum(s);r=-a-o}var l=t.DP_SAFE_EPSILON*r;return s>=l||-s>=l?t.signum(s):2}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}}]),t}();ue.DP_SAFE_EPSILON=1e-15;var ce=function(){function t(){e(this,t)}return n(t,[{key:"getM",value:function(e){if(this.hasM()){var t=this.getDimension()-this.getMeasures();return this.getOrdinate(e,t)}return L.NaN}},{key:"setOrdinate",value:function(e,t,n){}},{key:"getZ",value:function(e){return this.hasZ()?this.getOrdinate(e,2):L.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(e,t){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(e){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(e){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(e){}},{key:"copy",value:function(){}},{key:"getY",value:function(e){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[b]}}]),t}();ce.X=0,ce.Y=1,ce.Z=2,ce.M=3;var he=function(){function t(){e(this,t)}return n(t,null,[{key:"index",value:function(e,t,n){return ue.orientationIndex(e,t,n)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var e=arguments[0],n=e.length-1;if(n<3)throw new A("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=e[0],r=0,a=1;a<=n;a++){var o=e[a];o.y>i.y&&(i=o,r=a)}var s=r;do{(s-=1)<0&&(s=n)}while(e[s].equals2D(i)&&s!==r);var l=r;do{l=(l+1)%n}while(e[l].equals2D(i)&&l!==r);var u=e[s],c=e[l];if(u.equals2D(i)||c.equals2D(i)||u.equals2D(c))return!1;var h=t.index(u,i,c);return 0===h?u.x>c.x:h>0}if(re(arguments[0],ce)){var d=arguments[0],f=d.size()-1;if(f<3)throw new A("Ring has fewer than 4 points, so orientation cannot be determined");for(var p=d.getCoordinate(0),g=0,m=1;m<=f;m++){var y=d.getCoordinate(m);y.y>p.y&&(p=y,g=m)}var v=null,_=g;do{(_-=1)<0&&(_=f),v=d.getCoordinate(_)}while(v.equals2D(p)&&_!==g);var x=null,b=g;do{b=(b+1)%f,x=d.getCoordinate(b)}while(x.equals2D(p)&&b!==g);if(v.equals2D(p)||x.equals2D(p)||v.equals2D(x))return!1;var w=t.index(v,p,x);return 0===w?v.x>x.x:w>0}}}]),t}();he.CLOCKWISE=-1,he.RIGHT=he.CLOCKWISE,he.COUNTERCLOCKWISE=1,he.LEFT=he.COUNTERCLOCKWISE,he.COLLINEAR=0,he.STRAIGHT=he.COLLINEAR;var de=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n}},{key:"findRightmostEdgeAtVertex",value:function(){var e=this._minDe.getEdge().getCoordinates();D.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],i=he.index(this._minCoord,n,t),r=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&i===he.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&i===he.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(e,t){var n=e.getEdge().getCoordinates();if(t<0||t+1>=n.length||n[t].y===n[t+1].y)return-1;var i=$.LEFT;return n[t].y<n[t+1].y&&(i=$.RIGHT),i}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(e){for(var t=e.getEdge().getCoordinates(),n=0;n<t.length-1;n++)(null===this._minCoord||t[n].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=n,this._minCoord=t[n])}},{key:"findRightmostEdgeAtNode",value:function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}D.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===$.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}]),t}(),fe=function(t){i(a,t);var r=h(a);function a(t,n){var i;return e(this,a),(i=r.call(this,n?t+" [ "+n+" ]":t)).pt=n?new U(n):void 0,i.name=Object.keys({TopologyException:a})[0],i}return n(a,[{key:"getCoordinate",value:function(){return this.pt}}]),a}(z),pe=function(){function t(){e(this,t),this.array=[]}return n(t,[{key:"addLast",value:function(e){this.array.push(e)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return 0===this.array.length}}]),t}(),ge=function(t,r){i(o,t);var a=h(o);function o(t){var n;return e(this,o),(n=a.call(this)).array=[],t instanceof X&&n.addAll(t),n}return n(o,[{key:"interfaces_",get:function(){return[ne,X]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(e){return 1===arguments.length?this.array.push(e):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(e){var t,n=m(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.array.push(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"set",value:function(e,t){var n=this.array[e];return this.array[e]=t,n}},{key:"iterator",value:function(){return new me(this)}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new te;return this.array[e]}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"sort",value:function(e){e?this.array.sort((function(t,n){return e.compare(t,n)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(e){for(var t=0,n=this.array.length;t<n;t++)if(this.array[t]===e)return!!this.array.splice(t,1);return!1}},{key:r,value:function(){return this.array.values()}}]),o}(ne,Symbol.iterator),me=function(){function t(n){e(this,t),this.arrayList=n,this.position=0}return n(t,[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new W;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(e){return this.arrayList.set(this.position-1,e)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}]),t}(),ye=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"clearVisitedEdges",value:function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){t=i;break}}if(null===t)throw new fe("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var r=e.getEdges().iterator();r.hasNext();){var a=r.next();a.setVisited(!0),this.copySymDepths(a)}}},{key:"computeDepth",value:function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.getNode(),t.getLabel(),t.setEdgeDepths($.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)}},{key:"create",value:function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth($.RIGHT)>=1&&t.getDepth($.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}}},{key:"computeDepths",value:function(e){var t=new K,n=new pe,i=e.getNode();for(n.addLast(i),t.add(i),e.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();t.add(r),this.computeNodeDepth(r);for(var a=r.getEdges().iterator();a.hasNext();){var o=a.next().getSym();if(!o.isVisited()){var s=o.getNode();t.contains(s)||(n.addLast(s),t.add(s))}}}}},{key:"compareTo",value:function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(null===this._env){for(var e=new q,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)e.expandToInclude(n[i]);this._env=e}return this._env}},{key:"addReachable",value:function(e){var t=new ie;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}}},{key:"copySymDepths",value:function(e){var t=e.getSym();t.setDepth($.LEFT,e.getDepth($.RIGHT)),t.setDepth($.RIGHT,e.getDepth($.LEFT))}},{key:"add",value:function(e,t){e.setVisited(!0),this._nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||t.push(r)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new ge,this._nodes=new ge,this._rightMostCoord=null,this._env=null,this._finder=new de}}]),t}(),ve=function(){function t(){e(this,t)}return n(t,null,[{key:"intersection",value:function(e,t,n,i){var r=e.x<t.x?e.x:t.x,a=e.y<t.y?e.y:t.y,o=e.x>t.x?e.x:t.x,s=e.y>t.y?e.y:t.y,l=n.x<i.x?n.x:i.x,u=n.y<i.y?n.y:i.y,c=n.x>i.x?n.x:i.x,h=n.y>i.y?n.y:i.y,d=((r>l?r:l)+(o<c?o:c))/2,f=((a>u?a:u)+(s<h?s:h))/2,p=e.x-d,g=e.y-f,m=t.x-d,y=t.y-f,v=n.x-d,A=n.y-f,_=i.x-d,x=i.y-f,b=g-y,w=m-p,E=p*y-m*g,I=A-x,C=_-v,k=v*x-_*A,S=b*C-I*w,T=(w*k-C*E)/S,P=(I*E-b*k)/S;return L.isNaN(T)||L.isInfinite(T)||L.isNaN(P)||L.isInfinite(P)?null:new U(T+d,P+f)}}]),t}(),Ae=function(){function t(){e(this,t)}return n(t,null,[{key:"arraycopy",value:function(e,t,n,i,r){for(var a=0,o=t;o<t+r;o++)n[i+a]=e[o],a++}},{key:"getProperty",value:function(e){return{"line.separator":"\n"}[e]}}]),t}(),_e=function(){function t(){e(this,t)}return n(t,null,[{key:"log10",value:function(e){var n=Math.log(e);return L.isInfinite(n)||L.isNaN(n)?n:n/t.LOG_10}},{key:"min",value:function(e,t,n,i){var r=e;return t<r&&(r=t),n<r&&(r=n),i<r&&(r=i),r}},{key:"clamp",value:function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],a=arguments[2];return i<r?r:i>a?a:i}}},{key:"wrap",value:function(e,t){return e<0?t- -e%t:e%t}},{key:"max",value:function(){if(3===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[0];return e>n&&(n=e),t>n&&(n=t),n}if(4===arguments.length){var i=arguments[1],r=arguments[2],a=arguments[3],o=arguments[0];return i>o&&(o=i),r>o&&(o=r),a>o&&(o=a),o}}},{key:"average",value:function(e,t){return(e+t)/2}}]),t}();_e.LOG_10=Math.log(10);var xe=function(){function t(){e(this,t)}return n(t,null,[{key:"segmentToSegment",value:function(e,n,i,r){if(e.equals(n))return t.pointToSegment(e,i,r);if(i.equals(r))return t.pointToSegment(r,e,n);var a=!1;if(q.intersects(e,n,i,r)){var o=(n.x-e.x)*(r.y-i.y)-(n.y-e.y)*(r.x-i.x);if(0===o)a=!0;else{var s=(e.y-i.y)*(r.x-i.x)-(e.x-i.x)*(r.y-i.y),l=((e.y-i.y)*(n.x-e.x)-(e.x-i.x)*(n.y-e.y))/o,u=s/o;(u<0||u>1||l<0||l>1)&&(a=!0)}}else a=!0;return a?_e.min(t.pointToSegment(e,i,r),t.pointToSegment(n,i,r),t.pointToSegment(i,e,n),t.pointToSegment(r,e,n)):0}},{key:"pointToSegment",value:function(e,t,n){if(t.x===n.x&&t.y===n.y)return e.distance(t);var i=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),r=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;if(r<=0)return e.distance(t);if(r>=1)return e.distance(n);var a=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/i;return Math.abs(a)*Math.sqrt(i)}},{key:"pointToLinePerpendicular",value:function(e,t,n){var i=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),r=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/i;return Math.abs(r)*Math.sqrt(i)}},{key:"pointToSegmentString",value:function(e,n){if(0===n.length)throw new A("Line array must contain at least one vertex");for(var i=e.distance(n[0]),r=0;r<n.length-1;r++){var a=t.pointToSegment(e,n[r],n[r+1]);a<i&&(i=a)}return i}}]),t}(),be=function(){function t(){e(this,t)}return n(t,[{key:"create",value:function(){if(1===arguments.length)arguments[0]instanceof Array||re(arguments[0],ce);else if(2!==arguments.length&&3===arguments.length){var e=arguments[0],t=arguments[1];return this.create(e,t)}}}]),t}(),we=function(){function t(){e(this,t)}return n(t,[{key:"filter",value:function(e){}}]),t}(),Ee=function(){function t(){e(this,t)}return n(t,null,[{key:"ofLine",value:function(e){var t=e.size();if(t<=1)return 0;var n=0,i=new U;e.getCoordinate(0,i);for(var r=i.x,a=i.y,o=1;o<t;o++){e.getCoordinate(o,i);var s=i.x,l=i.y,u=s-r,c=l-a;n+=Math.sqrt(u*u+c*c),r=s,a=l}return n}}]),t}(),Ie=function t(){e(this,t)},Ce=function(){function t(){e(this,t)}return n(t,null,[{key:"copyCoord",value:function(e,t,n,i){for(var r=Math.min(e.getDimension(),n.getDimension()),a=0;a<r;a++)n.setOrdinate(i,a,e.getOrdinate(t,a))}},{key:"isRing",value:function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,ce.X)===e.getOrdinate(t-1,ce.X)&&e.getOrdinate(0,ce.Y)===e.getOrdinate(t-1,ce.Y)}},{key:"scroll",value:function(){if(2===arguments.length){if(re(arguments[0],ce)&&Number.isInteger(arguments[1])){var e=arguments[0],n=arguments[1];t.scroll(e,n,t.isRing(e))}else if(re(arguments[0],ce)&&arguments[1]instanceof U){var i=arguments[0],r=arguments[1],a=t.indexOf(r,i);if(a<=0)return null;t.scroll(i,a)}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],l=arguments[2];if(s<=0)return null;for(var u=o.copy(),c=l?o.size()-1:o.size(),h=0;h<c;h++)for(var d=0;d<o.getDimension();d++)o.setOrdinate(h,d,u.getOrdinate((s+h)%c,d));if(l)for(var f=0;f<o.getDimension();f++)o.setOrdinate(c,f,o.getOrdinate(0,f))}}},{key:"isEqual",value:function(e,t){var n=e.size();if(n!==t.size())return!1;for(var i=Math.min(e.getDimension(),t.getDimension()),r=0;r<n;r++)for(var a=0;a<i;a++){var o=e.getOrdinate(r,a),s=t.getOrdinate(r,a);if(e.getOrdinate(r,a)!==t.getOrdinate(r,a)&&(!L.isNaN(o)||!L.isNaN(s)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(1===arguments.length){var e=arguments[0];return t.minCoordinateIndex(e,0,e.size()-1)}if(3===arguments.length){for(var n=arguments[0],i=arguments[2],r=-1,a=null,o=arguments[1];o<=i;o++){var s=n.getCoordinate(o);(null===a||a.compareTo(s)>0)&&(a=s,r=o)}return r}}},{key:"extend",value:function(e,n,i){var r=e.create(i,n.getDimension()),a=n.size();if(t.copy(n,0,r,0,a),a>0)for(var o=a;o<i;o++)t.copy(n,a-1,r,o,1);return r}},{key:"reverse",value:function(e){for(var n=e.size()-1,i=Math.trunc(n/2),r=0;r<=i;r++)t.swap(e,r,n-r)}},{key:"swap",value:function(e,t,n){if(t===n)return null;for(var i=0;i<e.getDimension();i++){var r=e.getOrdinate(t,i);e.setOrdinate(t,i,e.getOrdinate(n,i)),e.setOrdinate(n,i,r)}}},{key:"copy",value:function(e,n,i,r,a){for(var o=0;o<a;o++)t.copyCoord(e,n+o,i,r+o)}},{key:"ensureValidRing",value:function(e,n){var i=n.size();return 0===i?n:i<=3?t.createClosedRing(e,n,4):n.getOrdinate(0,ce.X)===n.getOrdinate(i-1,ce.X)&&n.getOrdinate(0,ce.Y)===n.getOrdinate(i-1,ce.Y)?n:t.createClosedRing(e,n,i+1)}},{key:"indexOf",value:function(e,t){for(var n=0;n<t.size();n++)if(e.x===t.getOrdinate(n,ce.X)&&e.y===t.getOrdinate(n,ce.Y))return n;return-1}},{key:"createClosedRing",value:function(e,n,i){var r=e.create(i,n.getDimension()),a=n.size();t.copy(n,0,r,0,a);for(var o=a;o<i;o++)t.copy(n,0,r,o,1);return r}},{key:"minCoordinate",value:function(e){for(var t=null,n=0;n<e.size();n++){var i=e.getCoordinate(n);(null===t||t.compareTo(i)>0)&&(t=i)}return t}}]),t}(),ke=function(){function t(){e(this,t)}return n(t,null,[{key:"toDimensionSymbol",value:function(e){switch(e){case t.FALSE:return t.SYM_FALSE;case t.TRUE:return t.SYM_TRUE;case t.DONTCARE:return t.SYM_DONTCARE;case t.P:return t.SYM_P;case t.L:return t.SYM_L;case t.A:return t.SYM_A}throw new A("Unknown dimension value: "+e)}},{key:"toDimensionValue",value:function(e){switch(se.toUpperCase(e)){case t.SYM_FALSE:return t.FALSE;case t.SYM_TRUE:return t.TRUE;case t.SYM_DONTCARE:return t.DONTCARE;case t.SYM_P:return t.P;case t.SYM_L:return t.L;case t.SYM_A:return t.A}throw new A("Unknown dimension symbol: "+e)}}]),t}();ke.P=0,ke.L=1,ke.A=2,ke.FALSE=-1,ke.TRUE=-2,ke.DONTCARE=-3,ke.SYM_FALSE="F",ke.SYM_TRUE="T",ke.SYM_DONTCARE="*",ke.SYM_P="0",ke.SYM_L="1",ke.SYM_A="2";var Se=function(){function t(){e(this,t)}return n(t,[{key:"filter",value:function(e){}}]),t}(),Te=function(){function t(){e(this,t)}return n(t,[{key:"filter",value:function(e,t){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}]),t}(),Pe=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new q:this._points.expandEnvelope(new q)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new o(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._points.size()!==n._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),n._points.getCoordinate(i),t))return!1;return!0}return d(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t))){if(this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))>0){var n=this._points.copy();Ce.reverse(n),this._points=n}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ke.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var e=this._points.copy();return Ce.reverse(e),this.getFactory().createLineString(e)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return G.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Ee.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(1===arguments.length){for(var e=arguments[0],t=0,n=0;t<this._points.size()&&n<e._points.size();){var i=this._points.getCoordinate(t).compareTo(e._points.getCoordinate(n));if(0!==i)return i;t++,n++}return t<this._points.size()?1:n<e._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}}},{key:"apply",value:function(){if(re(arguments[0],we))for(var e=arguments[0],t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t));else if(re(arguments[0],Te)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else(re(arguments[0],Se)||re(arguments[0],_))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new Y}},{key:"isEquivalentClass",value:function(e){return e instanceof o}},{key:"getCoordinateN",value:function(e){return this._points.getCoordinate(e)}},{key:"getGeometryType",value:function(){return G.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return 0===this._points.size()}},{key:"init",value:function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new A("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e}},{key:"isCoordinate",value:function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))}},{key:"interfaces_",get:function(){return[Ie]}}],[{key:"constructor_",value:function(){if(this._points=null,0!==arguments.length&&2===arguments.length){var e=arguments[0],t=arguments[1];G.constructor_.call(this,t),this.init(e)}}}]),o}(G),Ne=function t(){e(this,t)},Me=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new q;var e=new q;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new o(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),t))}return d(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return ke.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return G.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}}},{key:"apply",value:function(){if(re(arguments[0],we)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(re(arguments[0],Te)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(re(arguments[0],Se)||re(arguments[0],_))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return G.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return 0===this._coordinates.size()}},{key:"init",value:function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),D.isTrue(e.size()<=1),this._coordinates=e}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Ne]}}],[{key:"constructor_",value:function(){this._coordinates=null;var e=arguments[0],t=arguments[1];G.constructor_.call(this,t),this.init(e)}}]),o}(G),Be=function(){function t(){e(this,t)}return n(t,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];return Math.abs(t.ofRingSigned(e))}if(re(arguments[0],ce)){var n=arguments[0];return Math.abs(t.ofRingSigned(n))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,i=1;i<e.length-1;i++){var r=e[i].x-n,a=e[i+1].y;t+=r*(e[i-1].y-a)}return t/2}if(re(arguments[0],ce)){var o=arguments[0],s=o.size();if(s<3)return 0;var l=new U,u=new U,c=new U;o.getCoordinate(0,u),o.getCoordinate(1,c);var h=u.x;c.x-=h;for(var d=0,f=1;f<s-1;f++)l.y=u.y,u.x=c.x,u.y=c.y,o.getCoordinate(f+1,c),c.x-=h,d+=u.x*(l.y-c.y);return d/2}}}]),t}(),Le=function(){function t(){e(this,t)}return n(t,null,[{key:"sort",value:function(){var e=arguments,t=arguments[0];if(1===arguments.length)t.sort((function(e,t){return e.compareTo(t)}));else if(2===arguments.length)t.sort((function(t,n){return e[1].compare(t,n)}));else if(3===arguments.length){var n=t.slice(arguments[1],arguments[2]);n.sort();var i=t.slice(0,arguments[1]).concat(n,t.slice(arguments[2],t.length));t.splice(0,t.length);var r,a=m(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;t.push(o)}}catch(d){a.e(d)}finally{a.f()}}else if(4===arguments.length){var s=t.slice(arguments[1],arguments[2]);s.sort((function(t,n){return e[3].compare(t,n)}));var l=t.slice(0,arguments[1]).concat(s,t.slice(arguments[2],t.length));t.splice(0,t.length);var u,c=m(l);try{for(c.s();!(u=c.n()).done;){var h=u.value;t.push(h)}}catch(d){c.e(d)}finally{c.f()}}}},{key:"asList",value:function(e){var t,n=new ge,i=m(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.add(r)}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"copyOf",value:function(e,t){return e.slice(0,t)}}]),t}(),Re=function t(){e(this,t)},ze=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)e[++t]=n[i];for(var r=0;r<this._holes.length;r++)for(var a=this._holes[r].getCoordinates(),o=0;o<a.length;o++)e[++t]=a[o];return e}},{key:"getArea",value:function(){var e=0;e+=Be.ofRing(this._shell.getCoordinateSequence());for(var t=0;t<this._holes.length;t++)e-=Be.ofRing(this._holes[t].getCoordinateSequence());return e}},{key:"copyInternal",value:function(){for(var e=this._shell.copy(),t=new Array(this._holes.length).fill(null),n=0;n<this._holes.length;n++)t[n]=this._holes[n].copy();return new o(e,t,this._factory)}},{key:"isRectangle",value:function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var i=e.getX(n);if(i!==t.getMinX()&&i!==t.getMaxX())return!1;var r=e.getY(n);if(r!==t.getMinY()&&r!==t.getMaxY())return!1}for(var a=e.getX(0),o=e.getY(0),s=1;s<=4;s++){var l=e.getX(s),u=e.getY(s);if(l!==a==(u!==o))return!1;a=l,o=u}return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e,i=this._shell,a=n._shell;if(!i.equalsExact(a,t)||this._holes.length!==n._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(n._holes[s],t))return!1;return!0}return d(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){if(0===arguments.length){this._shell=this.normalized(this._shell,!0);for(var e=0;e<this._holes.length;e++)this._holes[e]=this.normalized(this._holes[e],!1);Le.sort(this._holes)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(t.isEmpty())return null;var i=t.getCoordinateSequence(),r=Ce.minCoordinateIndex(i,0,i.size()-2);Ce.scroll(i,r,!0),he.isCCW(i)===n&&Ce.reverse(i)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var e=this.getExteriorRing().reverse(),t=new Array(this.getNumInteriorRing()).fill(null),n=0;n<t.length;n++)t[n]=this.getInteriorRingN(n).reverse();return this.getFactory().createPolygon(e,t)}},{key:"getTypeCode",value:function(){return G.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(e,t){var n=e.copy();return this.normalize(n,t),n}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0],t=this._shell,n=e._shell;return t.compareToSameClass(n)}if(2===arguments.length){var i=arguments[1],r=arguments[0],a=this._shell,o=r._shell,s=a.compareToSameClass(o,i);if(0!==s)return s;for(var l=this.getNumInteriorRing(),u=r.getNumInteriorRing(),c=0;c<l&&c<u;){var h=this.getInteriorRingN(c),d=r.getInteriorRingN(c),f=h.compareToSameClass(d,i);if(0!==f)return f;c++}return c<l?1:c<u?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],we)){var e=arguments[0];this._shell.apply(e);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(re(arguments[0],Te)){var n=arguments[0];if(this._shell.apply(n),!n.isDone())for(var i=0;i<this._holes.length&&(this._holes[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],Se))arguments[0].filter(this);else if(re(arguments[0],_)){var r=arguments[0];r.filter(this),this._shell.apply(r);for(var a=0;a<this._holes.length;a++)this._holes[a].apply(r)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)}},{key:"getGeometryType",value:function(){return G.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(e){return this._holes[e]}},{key:"interfaces_",get:function(){return[Re]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(G.constructor_.call(this,n),null===e&&(e=this.getFactory().createLinearRing()),null===t&&(t=[]),G.hasNullElements(t))throw new A("holes must not contain null elements");if(e.isEmpty()&&G.hasNonEmptyElements(t))throw new A("shell is empty but holes are not");this._shell=e,this._holes=t}}]),o}(G),Oe=function(t){i(r,t);var n=h(r);function r(){return e(this,r),n.apply(this,arguments)}return r}(Z),De=function(t){i(a,t);var r=h(a);function a(t){var n;return e(this,a),(n=r.call(this)).array=[],t instanceof X&&n.addAll(t),n}return n(a,[{key:"contains",value:function(e){var t,n=m(this.array);try{for(n.s();!(t=n.n()).done;)if(0===t.value.compareTo(e))return!0}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"add",value:function(e){if(this.contains(e))return!1;for(var t=0,n=this.array.length;t<n;t++)if(1===this.array[t].compareTo(e))return!!this.array.splice(t,0,e);return this.array.push(e),!0}},{key:"addAll",value:function(e){var t,n=m(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.add(i)}}catch(r){n.e(r)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new Y}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Fe(this.array)}}]),a}(Oe),Fe=function(){function t(n){e(this,t),this.array=n,this.position=0}return n(t,[{key:"next",value:function(){if(this.position===this.array.length)throw new W;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new Y}}]),t}(),je=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"computeEnvelopeInternal",value:function(){for(var e=new q,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e}},{key:"getGeometryN",value:function(e){return this._geometries[e]}},{key:"getCoordinates",value:function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)e[++t]=i[r];return e}},{key:"getArea",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e}},{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new o(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._geometries.length!==n._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(n._geometries[i],t))return!1;return!0}return d(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();Le.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var e=ke.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e}},{key:"reverseInternal",value:function(){for(var e=this._geometries.length,t=new ge(e),n=0;n<e;n++)t.add(this._geometries[n].reverse());return this.getFactory().buildGeometry(t)}},{key:"getTypeCode",value:function(){return G.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var e=ke.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e}},{key:"getLength",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0],t=new De(Le.asList(this._geometries)),n=new De(Le.asList(e._geometries));return this.compare(t,n)}if(2===arguments.length){for(var i=arguments[1],r=arguments[0],a=this.getNumGeometries(),o=r.getNumGeometries(),s=0;s<a&&s<o;){var l=this.getGeometryN(s),u=r.getGeometryN(s),c=l.compareToSameClass(u,i);if(0!==c)return c;s++}return s<a?1:s<o?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],we))for(var e=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(e);else if(re(arguments[0],Te)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],Se)){var r=arguments[0];r.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(r)}else if(re(arguments[0],_)){var o=arguments[0];o.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(o)}}},{key:"getBoundary",value:function(){return G.checkNotGeometryCollection(this),D.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return G.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,0!==arguments.length&&2===arguments.length){var e=arguments[0],t=arguments[1];if(G.constructor_.call(this,t),null===e&&(e=[]),G.hasNullElements(e))throw new A("geometries must not contain null elements");this._geometries=e}}}]),o}(G),Qe=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new o(e,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&d(r(o.prototype),"equalsExact",this).call(this,e,t)}return d(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(1===arguments.length&&Number.isInteger(arguments[0])){var e=arguments[0];return this._geometries[e].getCoordinate()}return d(r(o.prototype),"getCoordinate",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return ke.FALSE}},{key:"getTypeCode",value:function(){return G.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return G.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Ne]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];je.constructor_.call(this,e,t)}}]),o}(je),Ue=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"copyInternal",value:function(){return new o(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return ke.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||d(r(o.prototype),"isClosed",this).call(this)}},{key:"reverseInternal",value:function(){var e=this._points.copy();return Ce.reverse(e),this.getFactory().createLinearRing(e)}},{key:"getTypeCode",value:function(){return G.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!d(r(o.prototype),"isClosed",this).call(this))throw new A("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<o.MINIMUM_VALID_SIZE)throw new A("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return G.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Pe.constructor_.call(this,e,t),this.validateConstruction()}}]),o}(Pe);Ue.MINIMUM_VALID_SIZE=4;var Ve=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),t=r.call(this),a.constructor_.apply(u(t),arguments),t}return n(a,[{key:"setOrdinate",value:function(e,t){switch(e){case a.X:this.x=t;break;case a.Y:this.y=t;break;default:throw new A("Invalid ordinate index: "+e)}}},{key:"getZ",value:function(){return U.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case a.X:return this.x;case a.Y:return this.y}throw new A("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new A("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}}],[{key:"constructor_",value:function(){if(0===arguments.length)U.constructor_.call(this);else if(1===arguments.length){if(arguments[0]instanceof a){var e=arguments[0];U.constructor_.call(this,e.x,e.y)}else if(arguments[0]instanceof U){var t=arguments[0];U.constructor_.call(this,t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];U.constructor_.call(this,n,i,U.NULL_ORDINATE)}}}]),a}(U);Ve.X=0,Ve.Y=1,Ve.Z=-1,Ve.M=-1;var qe=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),t=r.call(this),a.constructor_.apply(u(t),arguments),t}return n(a,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,t){switch(e){case a.X:this.x=t;break;case a.Y:this.y=t;break;case a.M:this._m=t;break;default:throw new A("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getZ",value:function(){return U.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case a.X:return this.x;case a.Y:return this.y;case a.M:return this._m}throw new A("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new A("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)U.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof a){var e=arguments[0];U.constructor_.call(this,e.x,e.y),this._m=e._m}else if(arguments[0]instanceof U){var t=arguments[0];U.constructor_.call(this,t.x,t.y),this._m=this.getM()}}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];U.constructor_.call(this,n,i,U.NULL_ORDINATE),this._m=r}}}]),a}(U);qe.X=0,qe.Y=1,qe.Z=-1,qe.M=2;var Ge=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),t=r.call(this),a.constructor_.apply(u(t),arguments),t}return n(a,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,t){switch(e){case U.X:this.x=t;break;case U.Y:this.y=t;break;case U.Z:this.z=t;break;case U.M:this._m=t;break;default:throw new A("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getOrdinate",value:function(e){switch(e){case U.X:return this.x;case U.Y:return this.y;case U.Z:return this.getZ();case U.M:return this.getM()}throw new A("Invalid ordinate index: "+e)}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)U.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof a){var e=arguments[0];U.constructor_.call(this,e),this._m=e._m}else if(arguments[0]instanceof U){var t=arguments[0];U.constructor_.call(this,t),this._m=this.getM()}}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];U.constructor_.call(this,n,i,r),this._m=o}}}]),a}(U),He=function(){function t(){e(this,t)}return n(t,null,[{key:"measures",value:function(e){return e instanceof Ve?0:e instanceof qe||e instanceof Ge?1:0}},{key:"dimension",value:function(e){return e instanceof Ve?2:e instanceof qe?3:e instanceof Ge?4:3}},{key:"create",value:function(){if(1===arguments.length){var e=arguments[0];return t.create(e,0)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return 2===n?new Ve:3===n&&0===i?new U:3===n&&1===i?new qe:4===n&&1===i?new Ge:new U}}}]),t}(),Xe=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"getCoordinate",value:function(e){return this.get(e)}},{key:"addAll",value:function(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&re(arguments[0],X)){for(var e=arguments[1],t=!1,n=arguments[0].iterator();n.hasNext();)this.add(n.next(),e),t=!0;return t}return d(r(o.prototype),"addAll",this).apply(this,arguments)}},{key:"clone",value:function(){for(var e=d(r(o.prototype),"clone",this).call(this),t=0;t<this.size();t++)e.add(t,this.get(t).clone());return e}},{key:"toCoordinateArray",value:function(){if(0===arguments.length)return this.toArray(o.coordArrayType);if(1===arguments.length){if(arguments[0])return this.toArray(o.coordArrayType);for(var e=this.size(),t=new Array(e).fill(null),n=0;n<e;n++)t[n]=this.get(e-n-1);return t}}},{key:"add",value:function(){if(1===arguments.length){var e=arguments[0];return d(r(o.prototype),"add",this).call(this,e)}if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var t=arguments[0],n=arguments[1];return this.add(t,n,!0),!0}if(arguments[0]instanceof U&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;d(r(o.prototype),"add",this).call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var a=arguments[0],s=arguments[1];return this.add(a,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var l=arguments[0],u=arguments[1];if(arguments[2])for(var c=0;c<l.length;c++)this.add(l[c],u);else for(var h=l.length-1;h>=0;h--)this.add(l[h],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof U){var f=arguments[0],p=arguments[1];if(!arguments[2]){var g=this.size();if(g>0){if(f>0&&this.get(f-1).equals2D(p))return null;if(f<g&&this.get(f).equals2D(p))return null}}d(r(o.prototype),"add",this).call(this,f,p)}}else if(4===arguments.length){var m=arguments[0],y=arguments[1],v=arguments[2],A=arguments[3],_=1;v>A&&(_=-1);for(var x=v;x!==A;x+=_)this.add(m[x],y);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var e=this.get(0).copy();this.add(e,!1)}}}],[{key:"constructor_",value:function(){if(0!==arguments.length)if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.ensureCapacity(t.length),this.add(t,n)}}}]),o}(ge);Xe.coordArrayType=new Array(0).fill(null);var We=function(){function t(){e(this,t)}return n(t,null,[{key:"isRing",value:function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])}},{key:"ptNotInList",value:function(e,n){for(var i=0;i<e.length;i++){var r=e[i];if(t.indexOf(r,n)<0)return r}return null}},{key:"scroll",value:function(e,n){var i=t.indexOf(n,e);if(i<0)return null;var r=new Array(e.length).fill(null);Ae.arraycopy(e,i,r,0,e.length-i),Ae.arraycopy(e,0,r,e.length-i,i),Ae.arraycopy(r,0,e,0,e.length)}},{key:"equals",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],a=arguments[2];if(i===r)return!0;if(null===i||null===r||i.length!==r.length)return!1;for(var o=0;o<i.length;o++)if(0!==a.compare(i[o],r[o]))return!1;return!0}}},{key:"intersection",value:function(e,t){for(var n=new Xe,i=0;i<e.length;i++)t.intersects(e[i])&&n.add(e[i],!0);return n.toCoordinateArray()}},{key:"measures",value:function(e){if(null===e||0===e.length)return 0;var t,n=0,i=m(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n=Math.max(n,He.measures(r))}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"hasRepeatedPoints",value:function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(e){return t.hasRepeatedPoints(e)?new Xe(e,!1).toCoordinateArray():e}},{key:"reverse",value:function(e){for(var t=e.length-1,n=Math.trunc(t/2),i=0;i<=n;i++){var r=e[i];e[i]=e[t-i],e[t-i]=r}}},{key:"removeNull",value:function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var i=new Array(t).fill(null);if(0===t)return i;for(var r=0,a=0;a<e.length;a++)null!==e[a]&&(i[r++]=e[a]);return i}},{key:"copyDeep",value:function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=e[n].copy();return t}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3],s=arguments[4],l=0;l<s;l++)a[o+l]=i[r+l].copy()}},{key:"isEqualReversed",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=t[e.length-n-1];if(0!==i.compareTo(r))return!1}return!0}},{key:"envelope",value:function(e){for(var t=new q,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t}},{key:"toCoordinateArray",value:function(e){return e.toArray(t.coordArrayType)}},{key:"dimension",value:function(e){if(null===e||0===e.length)return 3;var t,n=0,i=m(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n=Math.max(n,He.dimension(r))}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"atLeastNCoordinatesOrNothing",value:function(e,t){return t.length>=e?t:[]}},{key:"indexOf",value:function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1}},{key:"increasingDirection",value:function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,i=e[t].compareTo(e[n]);if(0!==i)return i}return 1}},{key:"compare",value:function(e,t){for(var n=0;n<e.length&&n<t.length;){var i=e[n].compareTo(t[n]);if(0!==i)return i;n++}return n<t.length?-1:n<e.length?1:0}},{key:"minCoordinate",value:function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t}},{key:"extract",value:function(e,t,n){t=_e.clamp(t,0,e.length);var i=(n=_e.clamp(n,-1,e.length))-t+1;n<0&&(i=0),t>=e.length&&(i=0),n<t&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var a=0,o=t;o<=n;o++)r[a++]=e[o];return r}}]),t}(),Ye=function(){function t(){e(this,t)}return n(t,[{key:"compare",value:function(e,t){var n=e,i=t;return We.compare(n,i)}},{key:"interfaces_",get:function(){return[R]}}]),t}(),Ze=function(){function t(){e(this,t)}return n(t,[{key:"compare",value:function(e,t){var n=e,i=t;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=We.compare(n,i);return We.isEqualReversed(n,i)?0:r}},{key:"OLDcompare",value:function(e,t){var n=e,i=t;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=We.increasingDirection(n),a=We.increasingDirection(i),o=r>0?0:n.length-1,s=a>0?0:n.length-1,l=0;l<n.length;l++){var u=n[o].compareTo(i[s]);if(0!==u)return u;o+=r,s+=a}return 0}},{key:"interfaces_",get:function(){return[R]}}]),t}();We.ForwardComparator=Ye,We.BidirectionalComparator=Ze,We.coordArrayType=new Array(0).fill(null);var Ke=function(){function t(n){e(this,t),this.str=n}return n(t,[{key:"append",value:function(e){this.str+=e}},{key:"setCharAt",value:function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)}},{key:"toString",value:function(){return this.str}}]),t}(),Je=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getM",value:function(e){return this.hasM()?this._coordinates[e].getM():L.NaN}},{key:"setOrdinate",value:function(e,t,n){switch(t){case ce.X:this._coordinates[e].x=n;break;case ce.Y:this._coordinates[e].y=n;break;default:this._coordinates[e].setOrdinate(t,n)}}},{key:"getZ",value:function(e){return this.hasZ()?this._coordinates[e].getZ():L.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(e,t){switch(t){case ce.X:return this._coordinates[e].x;case ce.Y:return this._coordinates[e].y;default:return this._coordinates[e].getOrdinate(t)}}},{key:"getCoordinate",value:function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0];arguments[1].setCoordinate(this._coordinates[t])}}},{key:"getCoordinateCopy",value:function(e){var t=this.createCoordinate();return t.setCoordinate(this._coordinates[e]),t}},{key:"createCoordinate",value:function(){return He.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(e){return this._coordinates[e].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e}},{key:"copy",value:function(){for(var e=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++){var i=this.createCoordinate();i.setCoordinate(this._coordinates[n]),e[n]=i}return new t(e,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var e=new Ke(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"}},{key:"getY",value:function(e){return this._coordinates[e].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[ce,w]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];t.constructor_.call(this,e,We.dimension(e),We.measures(e))}else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var i=0;i<n;i++)this._coordinates[i]=new U}else if(re(arguments[0],ce)){var r=arguments[0];if(null===r)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._measures=r.getMeasures(),this._coordinates=new Array(r.size()).fill(null);for(var a=0;a<this._coordinates.length;a++)this._coordinates[a]=r.getCoordinateCopy(a)}}else if(2===arguments.length){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];t.constructor_.call(this,o,s,We.measures(o))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],u=arguments[1];this._coordinates=new Array(l).fill(null),this._dimension=u;for(var c=0;c<l;c++)this._coordinates[c]=He.create(u)}}else if(3===arguments.length)if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var h=arguments[0],d=arguments[1],f=arguments[2];this._dimension=d,this._measures=f,this._coordinates=null===h?new Array(0).fill(null):h}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],g=arguments[1],m=arguments[2];this._coordinates=new Array(p).fill(null),this._dimension=g,this._measures=m;for(var y=0;y<p;y++)this._coordinates[y]=this.createCoordinate()}}}]),t}(),$e=function(){function t(){e(this,t)}return n(t,[{key:"readResolve",value:function(){return t.instance()}},{key:"create",value:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Je(arguments[0]);if(re(arguments[0],ce))return new Je(arguments[0])}else{if(2===arguments.length){var e=arguments[1];return e>3&&(e=3),e<2&&(e=2),new Je(arguments[0],e)}if(3===arguments.length){var t=arguments[2],n=arguments[1]-t;return t>1&&(t=1),n>3&&(n=3),n<2&&(n=2),new Je(arguments[0],n+t,t)}}}},{key:"interfaces_",get:function(){return[be,w]}}],[{key:"instance",value:function(){return t.instanceObject}}]),t}();$e.instanceObject=new $e;var et=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new o(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&d(r(o.prototype),"equalsExact",this).call(this,e,t)}return d(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return G.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new ge,t=0;t<this._geometries.length;t++)for(var n=this._geometries[t].getBoundary(),i=0;i<n.getNumGeometries();i++)e.add(n.getGeometryN(i));var r=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(r))}},{key:"getGeometryType",value:function(){return G.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Re]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];je.constructor_.call(this,e,t)}}]),o}(je),tt=function(){function t(){e(this,t)}return n(t,[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}]),t}(),nt=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),(t=r.call(this)).map=new Map,t}return n(a,[{key:"get",value:function(e){return this.map.get(e)||null}},{key:"put",value:function(e,t){return this.map.set(e,t),t}},{key:"values",value:function(){for(var e=new ge,t=this.map.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e}},{key:"entrySet",value:function(){var e=new K;return this.map.entries().forEach((function(t){return e.add(t)})),e}},{key:"size",value:function(){return this.map.size()}}]),a}(tt),it=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;return this._modelType===n._modelType&&this._scale===n._scale}},{key:"compareTo",value:function(e){var t=e,n=this.getMaximumSignificantDigits(),i=t.getMaximumSignificantDigits();return oe.compare(n,i)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===t.FLOATING||this._modelType===t.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var e="UNKNOWN";return this._modelType===t.FLOATING?e="Floating":this._modelType===t.FLOATING_SINGLE?e="Floating-Single":this._modelType===t.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e}},{key:"makePrecise",value:function(){if("number"==typeof arguments[0]){var e=arguments[0];return L.isNaN(e)||this._modelType===t.FLOATING_SINGLE?e:this._modelType===t.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof U){var n=arguments[0];if(this._modelType===t.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}}},{key:"getMaximumSignificantDigits",value:function(){var e=16;return this._modelType===t.FLOATING?e=16:this._modelType===t.FLOATING_SINGLE?e=6:this._modelType===t.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e}},{key:"setScale",value:function(e){this._scale=Math.abs(e)}},{key:"interfaces_",get:function(){return[w,x]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof rt){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}}},{key:"mostPrecise",value:function(e,t){return e.compareTo(t)>=0?e:t}}]),t}(),rt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"readResolve",value:function(){return t.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){this._name=null;var e=arguments[0];this._name=e,t.nameToTypeMap.put(e,this)}}]),t}();rt.nameToTypeMap=new nt,it.Type=rt,it.FIXED=new rt("FIXED"),it.FLOATING=new rt("FLOATING"),it.FLOATING_SINGLE=new rt("FLOATING SINGLE"),it.maximumPreciseValue=9007199254740992;var at=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new o(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&d(r(o.prototype),"equalsExact",this).call(this,e,t)}return d(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ke.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return G.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new Y}},{key:"getGeometryType",value:function(){return G.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Ie]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];je.constructor_.call(this,e,t)}}]),o}(je),ot=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"createEmpty",value:function(e){switch(e){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new A("Invalid dimension: "+e)}}},{key:"toGeometry",value:function(e){return e.isNull()?this.createPoint():e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new U(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new U(e.getMinX(),e.getMinY()),new U(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new U(e.getMinX(),e.getMinY()),new U(e.getMinX(),e.getMaxY()),new U(e.getMaxX(),e.getMaxY()),new U(e.getMaxX(),e.getMinY()),new U(e.getMinX(),e.getMinY())]),null)}},{key:"createLineString",value:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLineString(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(re(arguments[0],ce))return new Pe(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return 0===arguments.length?new at(null,this):1===arguments.length?new at(arguments[0],this):void 0}},{key:"buildGeometry",value:function(e){for(var n=null,i=!1,r=!1,a=e.iterator();a.hasNext();){var o=a.next(),s=o.getTypeCode();null===n&&(n=s),s!==n&&(i=!0),o instanceof je&&(r=!0)}if(null===n)return this.createGeometryCollection();if(i||r)return this.createGeometryCollection(t.toGeometryArray(e));var l=e.iterator().next();if(e.size()>1){if(l instanceof ze)return this.createMultiPolygon(t.toPolygonArray(e));if(l instanceof Pe)return this.createMultiLineString(t.toLineStringArray(e));if(l instanceof Me)return this.createMultiPoint(t.toPointArray(e));D.shouldNeverReachHere("Unhandled geometry type: "+l.getGeometryType())}return l}},{key:"createMultiPointFromCoords",value:function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}},{key:"createPoint",value:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof U){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(re(arguments[0],ce))return new Me(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(re(arguments[0],ce)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Ue){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new ze(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return 0===arguments.length?new je(null,this):1===arguments.length?new je(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(re(arguments[0],ce))return new Ue(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return 0===arguments.length?new et(null,this):1===arguments.length?new et(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(0===arguments.length)return new Qe(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Qe(arguments[0],this);if(re(arguments[0],ce)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var t=new Array(e.size()).fill(null),n=0;n<e.size();n++){var i=this.getCoordinateSequenceFactory().create(1,e.getDimension(),e.getMeasures());Ce.copy(e,n,i,0,1),t[n]=this.createPoint(i)}return this.createMultiPoint(t)}}}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)t.constructor_.call(this,new it,0);else if(1===arguments.length){if(re(arguments[0],be)){var e=arguments[0];t.constructor_.call(this,new it,0,e)}else if(arguments[0]instanceof it){var n=arguments[0];t.constructor_.call(this,n,0,t.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];t.constructor_.call(this,i,r,t.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var a=arguments[0],o=arguments[1],s=arguments[2];this._precisionModel=a,this._coordinateSequenceFactory=s,this._SRID=o}}},{key:"toMultiPolygonArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toGeometryArray",value:function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return $e.instance()}},{key:"toMultiLineStringArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toLineStringArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toMultiPointArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toLinearRingArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toPointArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toPolygonArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"createPointFromInternalCoord",value:function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)}}]),t}(),st="XY",lt="XYZ",ut="XYM",ct="XYZM",ht={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},dt="EMPTY",ft=1,pt=2,gt=3,mt=4,yt=5,vt=6;for(var At in ht)ht[At].toUpperCase();var _t=function(){function t(n){e(this,t),this.wkt=n,this.index_=-1}return n(t,[{key:"isAlpha_",value:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}},{key:"isNumeric_",value:function(e,t){return e>="0"&&e<="9"||"."==e&&!(void 0!==t&&t)}},{key:"isWhiteSpace_",value:function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var e,t=this.nextChar_(),n=this.index_,i=t;if("("==t)e=pt;else if(","==t)e=yt;else if(")"==t)e=gt;else if(this.isNumeric_(t)||"-"==t)e=mt,i=this.readNumber_();else if(this.isAlpha_(t))e=ft,i=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(""!==t)throw new Error("Unexpected character: "+t);e=vt}return{position:n,value:i,type:e}}},{key:"readNumber_",value:function(){var e,t=this.index_,n=!1,i=!1;do{"."==e?n=!0:"e"!=e&&"E"!=e||(i=!0),e=this.nextChar_()}while(this.isNumeric_(e,n)||!i&&("e"==e||"E"==e)||i&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(t,this.index_--))}},{key:"readText_",value:function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()}}]),t}(),xt=function(){function t(n,i){e(this,t),this.lexer_=n,this.token_,this.layout_=st,this.factory=i}return n(t,[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(e){return this.token_.type==e}},{key:"match",value:function(e){var t=this.isTokenType(e);return t&&this.consume_(),t}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var e=st,t=this.token_;if(this.isTokenType(ft)){var n=t.value;"Z"===n?e=lt:"M"===n?e=ut:"ZM"===n&&(e=ct),e!==st&&this.consume_()}return e}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(pt)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(yt));if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(pt)){var e=this.parsePoint_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(pt)){var e=this.parsePointList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(pt)){var e=this.parseLineStringTextList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var e;if(this.match(pt)){if(e=this.token_.type==pt?this.parsePointTextList_():this.parsePointList_(),this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(pt)){var e=this.parseLineStringTextList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(pt)){var e=this.parsePolygonTextList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var e=[],t=this.layout_.length,n=0;n<t;++n){var i=this.token_;if(!this.match(mt))break;e.push(i.value)}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var e=[this.parsePoint_()];this.match(yt);)e.push(this.parsePoint_());return e}},{key:"parsePointTextList_",value:function(){for(var e=[this.parsePointText_()];this.match(yt);)e.push(this.parsePointText_());return e}},{key:"parseLineStringTextList_",value:function(){for(var e=[this.parseLineStringText_()];this.match(yt);)e.push(this.parseLineStringText_());return e}},{key:"parsePolygonTextList_",value:function(){for(var e=[this.parsePolygonText_()];this.match(yt);)e.push(this.parsePolygonText_());return e}},{key:"isEmptyGeometry_",value:function(){var e=this.isTokenType(ft)&&this.token_.value==dt;return e&&this.consume_(),e}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var e=this.factory,t=function(e){return s(U,f(e))},n=function(n){var i=n.map((function(n){return e.createLinearRing(n.map(t))}));return i.length>1?e.createPolygon(i[0],i.slice(1)):e.createPolygon(i[0])},i=this.token_;if(this.match(ft)){var r=i.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==r){var a=this.parseGeometryCollectionText_();return e.createGeometryCollection(a)}switch(r){case"POINT":var o=this.parsePointText_();return o?e.createPoint(s(U,f(o))):e.createPoint();case"LINESTRING":var l=this.parseLineStringText_().map(t);return e.createLineString(l);case"LINEARRING":var u=this.parseLineStringText_().map(t);return e.createLinearRing(u);case"POLYGON":var c=this.parsePolygonText_();return c&&0!==c.length?n(c):e.createPolygon();case"MULTIPOINT":var h=this.parseMultiPointText_();if(!h||0===h.length)return e.createMultiPoint();var d=h.map(t).map((function(t){return e.createPoint(t)}));return e.createMultiPoint(d);case"MULTILINESTRING":var p=this.parseMultiLineStringText_().map((function(n){return e.createLineString(n.map(t))}));return e.createMultiLineString(p);case"MULTIPOLYGON":var g=this.parseMultiPolygonText_();if(!g||0===g.length)return e.createMultiPolygon();var m=g.map(n);return e.createMultiPolygon(m);default:throw new Error("Invalid geometry type: "+r)}}throw new Error(this.formatErrorMessage_())}}]),t}();function bt(e){if(e.isEmpty())return"";var t=e.getCoordinate(),n=[t.x,t.y];return void 0===t.z||Number.isNaN(t.z)||n.push(t.z),void 0===t.m||Number.isNaN(t.m)||n.push(t.m),n.join(" ")}function wt(e){for(var t=e.getCoordinates().map((function(e){var t=[e.x,e.y];return void 0===e.z||Number.isNaN(e.z)||t.push(e.z),void 0===e.m||Number.isNaN(e.m)||t.push(e.m),t})),n=[],i=0,r=t.length;i<r;++i)n.push(t[i].join(" "));return n.join(", ")}function Et(e){var t=[];t.push("("+wt(e.getExteriorRing())+")");for(var n=0,i=e.getNumInteriorRing();n<i;++n)t.push("("+wt(e.getInteriorRingN(n))+")");return t.join(", ")}var It={Point:bt,LineString:wt,LinearRing:wt,Polygon:Et,MultiPoint:function(e){for(var t=[],n=0,i=e.getNumGeometries();n<i;++n)t.push("("+bt(e.getGeometryN(n))+")");return t.join(", ")},MultiLineString:function(e){for(var t=[],n=0,i=e.getNumGeometries();n<i;++n)t.push("("+wt(e.getGeometryN(n))+")");return t.join(", ")},MultiPolygon:function(e){for(var t=[],n=0,i=e.getNumGeometries();n<i;++n)t.push("("+Et(e.getGeometryN(n))+")");return t.join(", ")},GeometryCollection:function(e){for(var t=[],n=0,i=e.getNumGeometries();n<i;++n)t.push(Ct(e.getGeometryN(n)));return t.join(", ")}};function Ct(e){var t=e.getGeometryType(),n=It[t];t=t.toUpperCase();var i=function(e){var t="";if(e.isEmpty())return t;var n=e.getCoordinate();return void 0===n.z||Number.isNaN(n.z)||(t+="Z"),void 0===n.m||Number.isNaN(n.m)||(t+="M"),t}(e);return i.length>0&&(t+=" "+i),e.isEmpty()?t+" "+dt:t+" ("+n(e)+")"}var kt=function(){function t(n){e(this,t),this.geometryFactory=n||new ot,this.precisionModel=this.geometryFactory.getPrecisionModel()}return n(t,[{key:"read",value:function(e){var t=new _t(e);return new xt(t,this.geometryFactory).parse()}},{key:"write",value:function(e){return Ct(e)}}]),t}(),St=function(){function t(n){e(this,t),this.parser=new kt(n)}return n(t,[{key:"write",value:function(e){return this.parser.write(e)}}],[{key:"toLineString",value:function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"}}]),t}(),Tt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getIndexAlongSegment",value:function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]}},{key:"getTopologySummary",value:function(){var e=new Ke;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()}},{key:"computeIntersection",value:function(e,t,n,i){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(e,t,n,i)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"isInteriorIntersection",value:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[e][0])&&!this._intPt[t].equals2D(this._inputLines[e][1]))return!0;return!1}}},{key:"getIntersection",value:function(e){return this._intPt[e]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==t.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(e,n){return t.computeEdgeDistance(this._intPt[n],this._inputLines[e][0],this._inputLines[e][1])}},{key:"isCollinear",value:function(){return this._result===t.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return St.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+St.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(e,t){return this._inputLines[e][t]}},{key:"isIntersection",value:function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new U,this._intPt[1]=new U,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(e,t,n){var i=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y),a=-1;if(e.equals(t))a=0;else if(e.equals(n))a=i>r?i:r;else{var o=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);0!==(a=i>r?o:s)||e.equals(t)||(a=Math.max(o,s))}return D.isTrue(!(0===a&&!e.equals(t)),"Bad distance calculation"),a}},{key:"nonRobustComputeEdgeDistance",value:function(e,t,n){var i=e.x-t.x,r=e.y-t.y,a=Math.sqrt(i*i+r*r);return D.isTrue(!(0===a&&!e.equals(t)),"Invalid distance calculation"),a}}]),t}();Tt.DONT_INTERSECT=0,Tt.DO_INTERSECT=1,Tt.COLLINEAR=2,Tt.NO_INTERSECTION=0,Tt.POINT_INTERSECTION=1,Tt.COLLINEAR_INTERSECTION=2;var Pt=function(t){i(o,t);var a=h(o);function o(){return e(this,o),a.call(this)}return n(o,[{key:"isInSegmentEnvelopes",value:function(e){var t=new q(this._inputLines[0][0],this._inputLines[0][1]),n=new q(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)}},{key:"computeIntersection",value:function(){if(3!==arguments.length)return d(r(o.prototype),"computeIntersection",this).apply(this,arguments);var e=arguments[0],t=arguments[1],n=arguments[2];if(this._isProper=!1,q.intersects(t,n,e)&&0===he.index(t,n,e)&&0===he.index(n,t,e))return this._isProper=!0,(e.equals(t)||e.equals(n))&&(this._isProper=!1),this._result=Tt.POINT_INTERSECTION,null;this._result=Tt.NO_INTERSECTION}},{key:"intersection",value:function(e,t,n,i){var r=this.intersectionSafe(e,t,n,i);return this.isInSegmentEnvelopes(r)||(r=new U(o.nearestEndpoint(e,t,n,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(r),r}},{key:"checkDD",value:function(e,t,n,i,r){var a=ue.intersection(e,t,n,i),o=this.isInSegmentEnvelopes(a);Ae.out.println("DD in env = "+o+"  --------------------- "+a),r.distance(a)>1e-4&&Ae.out.println("Distance = "+r.distance(a))}},{key:"intersectionSafe",value:function(e,t,n,i){var r=ve.intersection(e,t,n,i);return null===r&&(r=o.nearestEndpoint(e,t,n,i)),r}},{key:"computeCollinearIntersection",value:function(e,t,n,i){var r=q.intersects(e,t,n),a=q.intersects(e,t,i),o=q.intersects(n,i,e),s=q.intersects(n,i,t);return r&&a?(this._intPt[0]=n,this._intPt[1]=i,Tt.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=e,this._intPt[1]=t,Tt.COLLINEAR_INTERSECTION):r&&o?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||a||s?Tt.COLLINEAR_INTERSECTION:Tt.POINT_INTERSECTION):r&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||a||o?Tt.COLLINEAR_INTERSECTION:Tt.POINT_INTERSECTION):a&&o?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||r||s?Tt.COLLINEAR_INTERSECTION:Tt.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||r||o?Tt.COLLINEAR_INTERSECTION:Tt.POINT_INTERSECTION):Tt.NO_INTERSECTION}},{key:"computeIntersect",value:function(e,t,n,i){if(this._isProper=!1,!q.intersects(e,t,n,i))return Tt.NO_INTERSECTION;var r=he.index(e,t,n),a=he.index(e,t,i);if(r>0&&a>0||r<0&&a<0)return Tt.NO_INTERSECTION;var o=he.index(n,i,e),s=he.index(n,i,t);return o>0&&s>0||o<0&&s<0?Tt.NO_INTERSECTION:0===r&&0===a&&0===o&&0===s?this.computeCollinearIntersection(e,t,n,i):(0===r||0===a||0===o||0===s?(this._isProper=!1,e.equals2D(n)||e.equals2D(i)?this._intPt[0]=e:t.equals2D(n)||t.equals2D(i)?this._intPt[0]=t:0===r?this._intPt[0]=new U(n):0===a?this._intPt[0]=new U(i):0===o?this._intPt[0]=new U(e):0===s&&(this._intPt[0]=new U(t))):(this._isProper=!0,this._intPt[0]=this.intersection(e,t,n,i)),Tt.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(e,t,n,i){var r=e,a=xe.pointToSegment(e,n,i),o=xe.pointToSegment(t,n,i);return o<a&&(a=o,r=t),(o=xe.pointToSegment(n,e,t))<a&&(a=o,r=n),(o=xe.pointToSegment(i,e,t))<a&&(a=o,r=i),r}}]),o}(Tt),Nt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"countSegment",value:function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,i=t.x;return n>i&&(n=t.x,i=e.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var r=he.index(e,t,this._p);if(r===he.COLLINEAR)return this._isPointOnSegment=!0,null;t.y<e.y&&(r=-r),r===he.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==H.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?H.BOUNDARY:this._crossingCount%2==1?H.INTERIOR:H.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof U&&re(arguments[1],ce)){for(var e=arguments[1],n=new t(arguments[0]),i=new U,r=new U,a=1;a<e.size();a++)if(e.getCoordinate(a,i),e.getCoordinate(a-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof U&&arguments[1]instanceof Array){for(var o=arguments[1],s=new t(arguments[0]),l=1;l<o.length;l++){var u=o[l],c=o[l-1];if(s.countSegment(u,c),s.isOnSegment())return s.getLocation()}return s.getLocation()}}}]),t}(),Mt=function(){function t(){e(this,t)}return n(t,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof U&&re(arguments[1],ce)){for(var e=arguments[0],t=arguments[1],n=new Pt,i=new U,r=new U,a=t.size(),o=1;o<a;o++)if(t.getCoordinate(o-1,i),t.getCoordinate(o,r),n.computeIntersection(e,i,r),n.hasIntersection())return!0;return!1}if(arguments[0]instanceof U&&arguments[1]instanceof Array){for(var s=arguments[0],l=arguments[1],u=new Pt,c=1;c<l.length;c++){var h=l[c-1],d=l[c];if(u.computeIntersection(s,h,d),u.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(e,t){return Nt.locatePointInRing(e,t)}},{key:"isInRing",value:function(e,n){return t.locateInRing(e,n)!==H.EXTERIOR}}]),t}(),Bt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"setAllLocations",value:function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e}},{key:"isNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==H.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(e){for(var t=0;t<this.location.length;t++)this.location[t]===H.NONE&&(this.location[t]=e)}},{key:"isLine",value:function(){return 1===this.location.length}},{key:"merge",value:function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[$.ON]=this.location[$.ON],t[$.LEFT]=H.NONE,t[$.RIGHT]=H.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===H.NONE&&n<e.location.length&&(this.location[n]=e.location[n])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var e=this.location[$.LEFT];this.location[$.LEFT]=this.location[$.RIGHT],this.location[$.RIGHT]=e}},{key:"toString",value:function(){var e=new ae;return this.location.length>1&&e.append(H.toLocationSymbol(this.location[$.LEFT])),e.append(H.toLocationSymbol(this.location[$.ON])),this.location.length>1&&e.append(H.toLocationSymbol(this.location[$.RIGHT])),e.toString()}},{key:"setLocations",value:function(e,t,n){this.location[$.ON]=e,this.location[$.LEFT]=t,this.location[$.RIGHT]=n}},{key:"get",value:function(e){return e<this.location.length?this.location[e]:H.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===H.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(1===arguments.length){var e=arguments[0];this.setLocation($.ON,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.location[t]=n}}},{key:"init",value:function(e){this.location=new Array(e).fill(null),this.setAllLocations(H.NONE)}},{key:"isEqualOnSide",value:function(e,t){return this.location[t]===e.location[t]}},{key:"allPositionsEqual",value:function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[$.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var a=arguments[0],o=arguments[1],s=arguments[2];this.init(3),this.location[$.ON]=a,this.location[$.LEFT]=o,this.location[$.RIGHT]=s}}}]),t}(),Lt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getGeometryCount",value:function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e}},{key:"setAllLocations",value:function(e,t){this.elt[e].setAllLocations(t)}},{key:"isNull",value:function(e){return this.elt[e].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}}},{key:"isLine",value:function(e){return this.elt[e].isLine()}},{key:"merge",value:function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new Bt(e.elt[t]):this.elt[t].merge(e.elt[t])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get($.ON)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}}},{key:"toString",value:function(){var e=new ae;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()}},{key:"isArea",value:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}}},{key:"isAnyNull",value:function(e){return this.elt[e].isAnyNull()}},{key:"setLocation",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation($.ON,t)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}}},{key:"isEqualOnSide",value:function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)}},{key:"allPositionsEqual",value:function(e,t){return this.elt[e].allPositionsEqual(t)}},{key:"toLine",value:function(e){this.elt[e].isArea()&&(this.elt[e]=new Bt(this.elt[e].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Bt(e),this.elt[1]=new Bt(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Bt(n.elt[0]),this.elt[1]=new Bt(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new Bt(H.NONE),this.elt[1]=new Bt(H.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var a=arguments[0],o=arguments[1],s=arguments[2];this.elt[0]=new Bt(a,o,s),this.elt[1]=new Bt(a,o,s)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Bt(H.NONE,H.NONE,H.NONE),this.elt[1]=new Bt(H.NONE,H.NONE,H.NONE),this.elt[l].setLocations(u,c,h)}}},{key:"toLineLabel",value:function(e){for(var n=new t(H.NONE),i=0;i<2;i++)n.setLocation(i,e.getLocation(i));return n}}]),t}(),Rt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"computeRing",value:function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=he.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"computePoints",value:function(e){this._startDe=e;var t=e,n=!0;do{if(null===t)throw new fe("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new fe("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var i=t.getLabel();D.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(t.getEdge(),t.isForward(),n),n=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(e){return this._pts.get(e)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var e=this._startDe;do{var t=e.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(e,t,n){var i=e.getCoordinates();if(t){var r=1;n&&(r=0);for(var a=r;a<i.length;a++)this._pts.add(i[a])}else{var o=i.length-2;n&&(o=i.length-1);for(var s=o;s>=0;s--)this._pts.add(i[s])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)}},{key:"containsPoint",value:function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e)||!Mt.isInRing(e,t.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(e))return!1;return!0}},{key:"addHole",value:function(e){this._holes.add(e)}},{key:"isShell",value:function(){return null===this._shell}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[1],n=arguments[0].getLocation(t,$.RIGHT);if(n===H.NONE)return null;if(this._label.getLocation(t)===H.NONE)return this._label.setLocation(t,n),null}}},{key:"setShell",value:function(e){this._shell=e,null!==e&&e.addHole(this)}},{key:"toPolygon",value:function(e){for(var t=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();return e.createPolygon(this.getLinearRing(),t)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new ge,this._pts=new ge,this._label=new Lt(H.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ge,this._geometryFactory=null,0!==arguments.length&&2===arguments.length){var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()}}}]),t}(),zt=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),t=r.call(this),a.constructor_.apply(u(t),arguments),t}return n(a,[{key:"setEdgeRing",value:function(e,t){e.setMinEdgeRing(t)}},{key:"getNext",value:function(e){return e.getNextMin()}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Rt.constructor_.call(this,e,t)}}]),a}(Rt),Ot=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),t=r.call(this),a.constructor_.apply(u(t),arguments),t}return n(a,[{key:"buildMinimalRings",value:function(){var e=new ge,t=this._startDe;do{if(null===t.getMinEdgeRing()){var n=new zt(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e}},{key:"setEdgeRing",value:function(e,t){e.setEdgeRing(t)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)}},{key:"getNext",value:function(e){return e.getNext()}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Rt.constructor_.call(this,e,t)}}]),a}(Rt),Dt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"setVisited",value:function(e){this._isVisited=e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(e){this._label=e}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(e){this._isCovered=e,this._isCoveredSet=!0}},{key:"updateIM",value:function(e){D.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length){var e=arguments[0];this._label=e}}}]),t}(),Ft=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"isIncidentEdgeInResult",value:function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(e){e.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(e){}},{key:"computeMergedLocation",value:function(e,t){var n=H.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){var i=e.getLocation(t);n!==H.BOUNDARY&&(n=i)}return n}},{key:"setLabel",value:function(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return d(r(o.prototype),"setLabel",this).apply(this,arguments);var e=arguments[0],t=arguments[1];null===this._label?this._label=new Lt(e,t):this._label.setLocation(e,t)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof o){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof Lt)for(var t=arguments[0],n=0;n<2;n++){var i=this.computeMergedLocation(t,n);this._label.getLocation(n)===H.NONE&&this._label.setLocation(n,i)}}},{key:"add",value:function(e){this._edges.insert(e),e.setNode(this)}},{key:"setLabelBoundary",value:function(e){if(null===this._label)return null;var t=H.NONE;null!==this._label&&(t=this._label.getLocation(e));var n=null;switch(t){case H.BOUNDARY:n=H.INTERIOR;break;case H.INTERIOR:default:n=H.BOUNDARY}this._label.setLocation(e,n)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var e=arguments[0],t=arguments[1];this._coord=e,this._edges=t,this._label=new Lt(0,H.NONE)}}]),o}(Dt),jt=function(t){i(r,t);var n=h(r);function r(){return e(this,r),n.apply(this,arguments)}return r}(tt);function Qt(e){return null==e?0:e.color}function Ut(e){return null==e?null:e.parent}function Vt(e,t){null!==e&&(e.color=t)}function qt(e){return null==e?null:e.left}function Gt(e){return null==e?null:e.right}var Ht=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),(t=r.call(this)).root_=null,t.size_=0,t}return n(a,[{key:"get",value:function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null}},{key:"put",value:function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=e.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var a=r.value;return r.value=t,a}r=r.right}}while(null!==r);var o={key:e,left:null,right:null,value:t,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=o:n.right=o,this.fixAfterInsertion(o),this.size_++,null}},{key:"fixAfterInsertion",value:function(e){var t;for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)Ut(e)===qt(Ut(Ut(e)))?1===Qt(t=Gt(Ut(Ut(e))))?(Vt(Ut(e),0),Vt(t,0),Vt(Ut(Ut(e)),1),e=Ut(Ut(e))):(e===Gt(Ut(e))&&(e=Ut(e),this.rotateLeft(e)),Vt(Ut(e),0),Vt(Ut(Ut(e)),1),this.rotateRight(Ut(Ut(e)))):1===Qt(t=qt(Ut(Ut(e))))?(Vt(Ut(e),0),Vt(t,0),Vt(Ut(Ut(e)),1),e=Ut(Ut(e))):(e===qt(Ut(e))&&(e=Ut(e),this.rotateRight(e)),Vt(Ut(e),0),Vt(Ut(Ut(e)),1),this.rotateLeft(Ut(Ut(e))));this.root_.color=0}},{key:"values",value:function(){var e=new ge,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=a.successor(t));)e.add(t.value);return e}},{key:"entrySet",value:function(){var e=new K,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=a.successor(t));)e.add(t);return e}},{key:"rotateLeft",value:function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}}},{key:"rotateRight",value:function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}}},{key:"getFirstEntry",value:function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return!0;t=t.right}}return!1}}],[{key:"successor",value:function(e){var t;if(null===e)return null;if(null!==e.right){for(t=e.right;null!==t.left;)t=t.left;return t}t=e.parent;for(var n=e;null!==t&&n===t.right;)n=t,t=t.parent;return t}}]),a}(jt),Xt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"find",value:function(e){return this.nodeMap.get(e)}},{key:"addNode",value:function(){if(arguments[0]instanceof U){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof Ft){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}}},{key:"print",value:function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(e){for(var t=new ge,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(e)===H.BOUNDARY&&t.add(i)}return t}},{key:"add",value:function(e){var t=e.getCoordinate();this.addNode(t).add(e)}}],[{key:"constructor_",value:function(){this.nodeMap=new Ht,this.nodeFact=null;var e=arguments[0];this.nodeFact=e}}]),t}(),Wt=function(){function t(){e(this,t)}return n(t,null,[{key:"isNorthern",value:function(e){return e===t.NE||e===t.NW}},{key:"isOpposite",value:function(e,t){return e!==t&&(e-t+4)%4===2}},{key:"commonHalfPlane",value:function(e,t){if(e===t)return e;if((e-t+4)%4===2)return-1;var n=e<t?e:t;return 0===n&&3===(e>t?e:t)?3:n}},{key:"isInHalfPlane",value:function(e,n){return n===t.SE?e===t.SE||e===t.SW:e===n||e===n+1}},{key:"quadrant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];if(0===e&&0===n)throw new A("Cannot compute the quadrant for point ( "+e+", "+n+" )");return e>=0?n>=0?t.NE:t.SE:n>=0?t.NW:t.SW}if(arguments[0]instanceof U&&arguments[1]instanceof U){var i=arguments[0],r=arguments[1];if(r.x===i.x&&r.y===i.y)throw new A("Cannot compute the quadrant for two identical points "+i);return r.x>=i.x?r.y>=i.y?t.NE:t.SE:r.y>=i.y?t.NW:t.SW}}}]),t}();Wt.NE=0,Wt.NW=1,Wt.SW=2,Wt.SE=3;var Yt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"compareDirection",value:function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:he.index(e._p0,e._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(e){this._node=e}},{key:"print",value:function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);e.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)}},{key:"compareTo",value:function(e){var t=e;return this.compareDirection(t)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf(".");return"  "+t.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label}},{key:"computeLabel",value:function(e){}},{key:"init",value:function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=Wt.quadrant(this._dx,this._dy),D.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];t.constructor_.call(this,n,i,r,null)}else if(4===arguments.length){var a=arguments[0],o=arguments[1],s=arguments[2],l=arguments[3];t.constructor_.call(this,a),this.init(o,s),this._label=l}}}]),t}(),Zt=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(e){return this._depth[e]}},{key:"setVisited",value:function(e){this._isVisited=e}},{key:"computeDirectedLabel",value:function(){this._label=new Lt(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new fe("assigned depths do not match",this.getCoordinate());this._depth[e]=t}},{key:"isInteriorAreaEdge",value:function(){for(var e=!0,t=0;t<2;t++)this._label.isArea(t)&&this._label.getLocation(t,$.LEFT)===H.INTERIOR&&this._label.getLocation(t,$.RIGHT)===H.INTERIOR||(e=!1);return e}},{key:"setNextMin",value:function(e){this._nextMin=e}},{key:"print",value:function(e){d(r(o.prototype),"print",this).call(this,e),e.print(" "+this._depth[$.LEFT]+"/"+this._depth[$.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")}},{key:"setMinEdgeRing",value:function(e){this._minEdgeRing=e}},{key:"isLineEdge",value:function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,H.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,H.EXTERIOR);return e&&t&&n}},{key:"setEdgeRing",value:function(e){this._edgeRing=e}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)}},{key:"setSym",value:function(e){this._sym=e}},{key:"setVisitedEdge",value:function(e){this.setVisited(e),this._sym.setVisited(e)}},{key:"setEdgeDepths",value:function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;e===$.LEFT&&(i=-1);var r=$.opposite(e),a=t+n*i;this.setDepth(e,t),this.setDepth(r,a)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(e){this._next=e}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var e=arguments[0],t=arguments[1];if(Yt.constructor_.call(this,e),this._isForward=t,t)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var n=e.getNumPoints()-1;this.init(e.getCoordinate(n),e.getCoordinate(n-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(e,t){return e===H.EXTERIOR&&t===H.INTERIOR?1:e===H.INTERIOR&&t===H.EXTERIOR?-1:0}}]),o}(Yt),Kt=function(){function t(){e(this,t)}return n(t,[{key:"createNode",value:function(e){return new Ft(e,null)}}]),t}(),Jt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"printEdges",value:function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var n=this._edges.get(t);n.print(e),n.eiList.print(e)}}},{key:"find",value:function(e){return this._nodes.find(e)}},{key:"addNode",value:function(){if(arguments[0]instanceof Ft){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof U){var t=arguments[0];return this._nodes.addNode(t)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(e){Ae.out.println(e)}},{key:"isBoundaryNode",value:function(e,t){var n=this._nodes.find(t);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(e)===H.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(e,t,n,i){return!!e.equals(n)&&he.index(e,t,i)===he.COLLINEAR&&Wt.quadrant(e,t)===Wt.quadrant(n,i)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(e){Ae.out.print(e)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(e,t){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(e,t,r[0],r[1])||this.matchInSameDirection(e,t,r[r.length-1],r[r.length-2]))return i}return null}},{key:"insertEdge",value:function(e){this._edges.add(e)}},{key:"findEdgeEnd",value:function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null}},{key:"addEdges",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this._edges.add(n);var i=new Zt(n,!0),r=new Zt(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}}},{key:"add",value:function(e){this._nodes.add(e),this._edgeEndList.add(e)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(e,t){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(e.equals(r[0])&&t.equals(r[1]))return i}return null}}],[{key:"constructor_",value:function(){if(this._edges=new ge,this._nodes=null,this._edgeEndList=new ge,0===arguments.length)this._nodes=new Xt(new Kt);else if(1===arguments.length){var e=arguments[0];this._nodes=new Xt(e)}}},{key:"linkResultDirectedEdges",value:function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()}}]),t}(),$t=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"sortShellsAndHoles",value:function(e,t,n){for(var i=e.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):t.add(r)}}},{key:"computePolygons",value:function(e){for(var t=new ge,n=e.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);t.add(i)}return t}},{key:"placeFreeHoles",value:function(e,n){for(var i=n.iterator();i.hasNext();){var r=i.next();if(null===r.getShell()){var a=t.findEdgeRingContaining(r,e);if(null===a)throw new fe("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(a)}}}},{key:"buildMinimalEdgeRings",value:function(e,t,n){for(var i=new ge,r=e.iterator();r.hasNext();){var a=r.next();if(a.getMaxNodeDegree()>2){a.linkDirectedEdgesForMinimalEdgeRings();var o=a.buildMinimalRings(),s=this.findShell(o);null!==s?(this.placePolygonHoles(s,o),t.add(s)):n.addAll(o)}else i.add(a)}return i}},{key:"buildMaximalEdgeRings",value:function(e){for(var t=new ge,n=e.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new Ot(i,this._geometryFactory);t.add(r),r.setInResult()}}return t}},{key:"placePolygonHoles",value:function(e,t){for(var n=t.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(e)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(e){for(var t=0,n=null,i=e.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,t++)}return D.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n}},{key:"add",value:function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],n=arguments[1];Jt.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(t),r=new ge,a=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(a,this._shellList,r),this.placeFreeHoles(this._shellList,r)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new ge;var e=arguments[0];this._geometryFactory=e}},{key:"findEdgeRingContaining",value:function(e,t){for(var n=e.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),a=null,o=null,s=t.iterator();s.hasNext();){var l=s.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();if(!c.equals(i)&&c.contains(i)){r=We.ptNotInList(n.getCoordinates(),u.getCoordinates());var h=!1;Mt.isInRing(r,u.getCoordinates())&&(h=!0),h&&(null===a||o.contains(c))&&(o=(a=l).getLinearRing().getEnvelopeInternal())}}return a}}]),t}(),en=function(){function t(){e(this,t)}return n(t,[{key:"getBounds",value:function(){}}]),t}(),tn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[en,w]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t}}]),t}(),nn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"poll",value:function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(e){for(var t=null,n=this._items.get(e);2*e<=this._size&&((t=2*e)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(n)<0);e=t)this._items.set(e,this._items.get(t));this._items.set(e,n)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return 0===this._size}},{key:"add",value:function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new ge,this._items.add(null)}}]),t}(),rn=function(){function t(){e(this,t)}return n(t,[{key:"insert",value:function(e,t){}},{key:"remove",value:function(e,t){}},{key:"query",value:function(){}}]),t}(),an=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(e){D.isTrue(null===this._bounds),this._childBoundables.add(e)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[en,w]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new ge,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length){var e=arguments[0];this._level=e}}}]),t}(),on={reverseOrder:function(){return{compare:function(e,t){return t.compareTo(e)}}},min:function(e){return on.sort(e),e.get(0)},sort:function(e,t){var n=e.toArray();t?Le.sort(n,t):Le.sort(n);for(var i=e.iterator(),r=0,a=n.length;r<a;r++)i.next(),i.set(n[r])},singletonList:function(e){var t=new ge;return t.add(e),t}},sn=function(){function t(){e(this,t)}return n(t,null,[{key:"maxDistance",value:function(e,n,i,r,a,o,s,l){var u=t.distance(e,n,a,o);return u=Math.max(u,t.distance(e,n,s,l)),u=Math.max(u,t.distance(i,r,a,o)),Math.max(u,t.distance(i,r,s,l))}},{key:"distance",value:function(e,t,n,i){var r=n-e,a=i-t;return Math.sqrt(r*r+a*a)}},{key:"maximumDistance",value:function(e,n){var i=Math.min(e.getMinX(),n.getMinX()),r=Math.min(e.getMinY(),n.getMinY()),a=Math.max(e.getMaxX(),n.getMaxX()),o=Math.max(e.getMaxY(),n.getMaxY());return t.distance(i,r,a,o)}},{key:"minMaxDistance",value:function(e,n){var i=e.getMinX(),r=e.getMinY(),a=e.getMaxX(),o=e.getMaxY(),s=n.getMinX(),l=n.getMinY(),u=n.getMaxX(),c=n.getMaxY(),h=t.maxDistance(i,r,i,o,s,l,s,c);return h=Math.min(h,t.maxDistance(i,r,i,o,s,l,u,l)),h=Math.min(h,t.maxDistance(i,r,i,o,u,c,s,c)),h=Math.min(h,t.maxDistance(i,r,i,o,u,c,u,l)),h=Math.min(h,t.maxDistance(i,r,a,r,s,l,s,c)),h=Math.min(h,t.maxDistance(i,r,a,r,s,l,u,l)),h=Math.min(h,t.maxDistance(i,r,a,r,u,c,s,c)),h=Math.min(h,t.maxDistance(i,r,a,r,u,c,u,l)),h=Math.min(h,t.maxDistance(a,o,i,o,s,l,s,c)),h=Math.min(h,t.maxDistance(a,o,i,o,s,l,u,l)),h=Math.min(h,t.maxDistance(a,o,i,o,u,c,s,c)),h=Math.min(h,t.maxDistance(a,o,i,o,u,c,u,l)),h=Math.min(h,t.maxDistance(a,o,a,r,s,l,s,c)),h=Math.min(h,t.maxDistance(a,o,a,r,s,l,u,l)),h=Math.min(h,t.maxDistance(a,o,a,r,u,c,s,c)),Math.min(h,t.maxDistance(a,o,a,r,u,c,u,l))}}]),t}(),ln=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"maximumDistance",value:function(){return sn.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(e,n){var i=t.isComposite(this._boundable1),r=t.isComposite(this._boundable2);if(i&&r)return t.area(this._boundable1)>t.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,e,n),null):(this.expand(this._boundable2,this._boundable1,!0,e,n),null);if(i)return this.expand(this._boundable1,this._boundable2,!1,e,n),null;if(r)return this.expand(this._boundable2,this._boundable1,!0,e,n),null;throw new A("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(t.isComposite(this._boundable1)||t.isComposite(this._boundable2))}},{key:"compareTo",value:function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0}},{key:"expand",value:function(e,n,i,r,a){for(var o=e.getChildBoundables().iterator();o.hasNext();){var s=o.next(),l=null;(l=i?new t(n,s,this._itemDistance):new t(s,n,this._itemDistance)).getDistance()<a&&r.add(l)}}},{key:"getBoundable",value:function(e){return 0===e?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()}},{key:"area",value:function(e){return e.getBounds().getArea()}},{key:"isComposite",value:function(e){return e instanceof an}}]),t}(),un=function(){function t(){e(this,t)}return n(t,[{key:"visitItem",value:function(e){}}]),t}(),cn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"queryInternal",value:function(){if(re(arguments[2],un)&&arguments[0]instanceof Object&&arguments[1]instanceof an)for(var e=arguments[0],t=arguments[2],n=arguments[1].getChildBoundables(),i=0;i<n.size();i++){var r=n.get(i);this.getIntersectsOp().intersects(r.getBounds(),e)&&(r instanceof an?this.queryInternal(e,r,t):r instanceof tn?t.visitItem(r.getItem()):D.shouldNeverReachHere())}else if(re(arguments[2],ne)&&arguments[0]instanceof Object&&arguments[1]instanceof an)for(var a=arguments[0],o=arguments[2],s=arguments[1].getChildBoundables(),l=0;l<s.size();l++){var u=s.get(l);this.getIntersectsOp().intersects(u.getBounds(),a)&&(u instanceof an?this.queryInternal(a,u,o):u instanceof tn?o.add(u.getItem()):D.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(e){return e.get(e.size()-1)}},{key:"size",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();n instanceof an?e+=this.size(n):n instanceof tn&&(e+=1)}return e}}},{key:"removeItem",value:function(e,t){for(var n=null,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof tn&&r.getItem()===t&&(n=r)}return null!==n&&(e.getChildBoundables().remove(n),!0)}},{key:"itemsTree",value:function(){if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new ge:e}if(1===arguments.length){for(var t=arguments[0],n=new ge,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof an){var a=this.itemsTree(r);null!==a&&n.add(a)}else r instanceof tn?n.add(r.getItem()):D.shouldNeverReachHere()}return n.size()<=0?null:n}}},{key:"insert",value:function(e,t){D.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new tn(e,t))}},{key:"boundablesAtLevel",value:function(){if(1===arguments.length){var e=arguments[0],t=new ge;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(D.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var a=i.getChildBoundables().iterator();a.hasNext();){var o=a.next();o instanceof an?this.boundablesAtLevel(n,o,r):(D.isTrue(o instanceof tn),-1===n&&r.add(o))}return null}}},{key:"query",value:function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new ge;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,t),t}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,i)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],a=this.removeItem(i,r);if(a)return!0;for(var o=null,s=i.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof an&&(a=this.remove(n,l,r))){o=l;break}}return null!==o&&o.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(o),a}}},{key:"createHigherLevels",value:function(e,t){D.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)}},{key:"depth",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();if(n instanceof an){var i=this.depth(n);i>e&&(e=i)}}return e+1}}},{key:"createParentBoundables",value:function(e,t){D.isTrue(!e.isEmpty());var n=new ge;n.add(this.createNode(t));var i=new ge(e);on.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var a=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(t)),this.lastNode(n).addChildBoundable(a)}return n}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new ge,this._nodeCapacity=null,0===arguments.length)t.constructor_.call(this,t.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];D.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}}},{key:"compareDoubles",value:function(e,t){return e>t?1:e<t?-1:0}}]),t}();cn.IntersectsOp=function(){},cn.DEFAULT_NODE_CAPACITY=10;var hn=function(){function t(){e(this,t)}return n(t,[{key:"distance",value:function(e,t){}}]),t}(),dn=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"createParentBoundablesFromVerticalSlices",value:function(e,t){D.isTrue(e.length>0);for(var n=new ge,i=0;i<e.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[i],t));return n}},{key:"nearestNeighbourK",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.nearestNeighbourK(e,L.POSITIVE_INFINITY,t)}if(3===arguments.length){var n=arguments[0],i=arguments[2],r=arguments[1],a=new nn;a.add(n);for(var s=new nn;!a.isEmpty()&&r>=0;){var l=a.poll(),u=l.getDistance();if(u>=r)break;l.isLeaves()?s.size()<i?s.add(l):(s.peek().getDistance()>u&&(s.poll(),s.add(l)),r=s.peek().getDistance()):l.expandToQueue(a,r)}return o.getItems(s)}}},{key:"createNode",value:function(e){return new fn(e)}},{key:"size",value:function(){return 0===arguments.length?d(r(o.prototype),"size",this).call(this):d(r(o.prototype),"size",this).apply(this,arguments)}},{key:"insert",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof q))return d(r(o.prototype),"insert",this).apply(this,arguments);var e=arguments[0],t=arguments[1];if(e.isNull())return null;d(r(o.prototype),"insert",this).call(this,e,t)}},{key:"getIntersectsOp",value:function(){return o.intersectsOp}},{key:"verticalSlices",value:function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),i=new Array(t).fill(null),r=e.iterator(),a=0;a<t;a++){i[a]=new ge;for(var o=0;r.hasNext()&&o<n;){var s=r.next();i[a].add(s),o++}}return i}},{key:"query",value:function(){if(1===arguments.length){var e=arguments[0];return d(r(o.prototype),"query",this).call(this,e)}if(2===arguments.length){var t=arguments[0],n=arguments[1];d(r(o.prototype),"query",this).call(this,t,n)}}},{key:"getComparator",value:function(){return o.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(e,t){return d(r(o.prototype),"createParentBoundables",this).call(this,e,t)}},{key:"remove",value:function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof q){var e=arguments[0],t=arguments[1];return d(r(o.prototype),"remove",this).call(this,e,t)}return d(r(o.prototype),"remove",this).apply(this,arguments)}},{key:"depth",value:function(){return 0===arguments.length?d(r(o.prototype),"depth",this).call(this):d(r(o.prototype),"depth",this).apply(this,arguments)}},{key:"createParentBoundables",value:function(e,t){D.isTrue(!e.isEmpty());var n=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),i=new ge(e);on.sort(i,o.xComparator);var r=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(r,t)}},{key:"nearestNeighbour",value:function(){if(1===arguments.length){if(re(arguments[0],hn)){var e=arguments[0];if(this.isEmpty())return null;var t=new ln(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof ln){var n=arguments[0],i=L.POSITIVE_INFINITY,r=null,a=new nn;for(a.add(n);!a.isEmpty()&&i>0;){var o=a.poll(),s=o.getDistance();if(s>=i)break;o.isLeaves()?(i=s,r=o):o.expandToQueue(a,i)}return null===r?null:[r.getBoundable(0).getItem(),r.getBoundable(1).getItem()]}}else{if(2===arguments.length){var l=arguments[0],u=arguments[1];if(this.isEmpty()||l.isEmpty())return null;var c=new ln(this.getRoot(),l.getRoot(),u);return this.nearestNeighbour(c)}if(3===arguments.length){var h=arguments[2],d=new tn(arguments[0],arguments[1]),f=new ln(this.getRoot(),d,h);return this.nearestNeighbour(f)[0]}if(4===arguments.length){var p=arguments[2],g=arguments[3],m=new tn(arguments[0],arguments[1]),y=new ln(this.getRoot(),m,p);return this.nearestNeighbourK(y,g)}}}},{key:"isWithinDistance",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=L.POSITIVE_INFINITY,i=new nn;for(i.add(e);!i.isEmpty();){var r=i.poll(),a=r.getDistance();if(a>t)return!1;if(r.maximumDistance()<=t)return!0;if(r.isLeaves()){if((n=a)<=t)return!0}else r.expandToQueue(i,n)}return!1}if(3===arguments.length){var o=arguments[0],s=arguments[1],l=arguments[2],u=new ln(this.getRoot(),o.getRoot(),s);return this.isWithinDistance(u,l)}}},{key:"interfaces_",get:function(){return[rn,w]}}],[{key:"constructor_",value:function(){if(0===arguments.length)o.constructor_.call(this,o.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];cn.constructor_.call(this,e)}}},{key:"centreX",value:function(e){return o.avg(e.getMinX(),e.getMaxX())}},{key:"avg",value:function(e,t){return(e+t)/2}},{key:"getItems",value:function(e){for(var t=new Array(e.size()).fill(null),n=0;!e.isEmpty();){var i=e.poll();t[n]=i.getBoundable(0).getItem(),n++}return t}},{key:"centreY",value:function(e){return o.avg(e.getMinY(),e.getMaxY())}}]),o}(cn),fn=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),t=r.call(this),a.constructor_.apply(u(t),arguments),t}return n(a,[{key:"computeBounds",value:function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new q(n.getBounds()):e.expandToInclude(n.getBounds())}return e}}],[{key:"constructor_",value:function(){var e=arguments[0];an.constructor_.call(this,e)}}]),a}(an);dn.STRtreeNode=fn,dn.xComparator=new(function(){function t(){e(this,t)}return n(t,[{key:"interfaces_",get:function(){return[R]}},{key:"compare",value:function(e,t){return cn.compareDoubles(dn.centreX(e.getBounds()),dn.centreX(t.getBounds()))}}]),t}()),dn.yComparator=new(function(){function t(){e(this,t)}return n(t,[{key:"interfaces_",get:function(){return[R]}},{key:"compare",value:function(e,t){return cn.compareDoubles(dn.centreY(e.getBounds()),dn.centreY(t.getBounds()))}}]),t}()),dn.intersectsOp=new(function(){function t(){e(this,t)}return n(t,[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(e,t){return e.intersects(t)}}]),t}()),dn.DEFAULT_NODE_CAPACITY=10;var pn=function(){function t(){e(this,t)}return n(t,null,[{key:"relativeSign",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"compare",value:function(e,n,i){if(n.equals2D(i))return 0;var r=t.relativeSign(n.x,i.x),a=t.relativeSign(n.y,i.y);switch(e){case 0:return t.compareValue(r,a);case 1:return t.compareValue(a,r);case 2:return t.compareValue(a,-r);case 3:return t.compareValue(-r,a);case 4:return t.compareValue(-r,-a);case 5:return t.compareValue(-a,-r);case 6:return t.compareValue(-a,r);case 7:return t.compareValue(r,-a)}return D.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0}}]),t}(),gn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:this._isInterior?t._isInterior?pn.compare(this._segmentOctant,this.coord,t.coord):1:-1}},{key:"isEndPoint",value:function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3];this._segString=e,this.coord=new U(t),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!t.equals2D(e.getCoordinate(n))}}]),t}(),mn=function(){function t(){e(this,t)}return n(t,[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}]),t}(),yn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getSplitCoordinates",value:function(){var e=new Xe;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var i=t.next();this.addEdgeCoordinates(n,i,e),n=i}return e.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var e=new ge;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this._edge.getCoordinate(n),n)}}},{key:"createSplitEdgePts",value:function(e,t){var n=t.segmentIndex-e.segmentIndex+2;if(2===n)return[new U(e.coord),new U(t.coord)];var i=this._edge.getCoordinate(t.segmentIndex),r=t.isInterior()||!t.coord.equals2D(i);r||n--;var a=new Array(n).fill(null),o=0;a[o++]=new U(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)a[o++]=this._edge.getCoordinate(s);return r&&(a[o]=new U(t.coord)),a}},{key:"print",value:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"findCollapsesFromExistingVertices",value:function(e){for(var t=0;t<this._edge.size()-2;t++){var n=this._edge.getCoordinate(t);this._edge.getCoordinate(t+1);var i=this._edge.getCoordinate(t+2);n.equals2D(i)&&e.add(oe.valueOf(t+1))}}},{key:"addEdgeCoordinates",value:function(e,t,n){var i=this.createSplitEdgePts(e,t);n.add(i,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var i=t.next(),r=this.createSplitEdge(n,i);e.add(r),n=i}}},{key:"findCollapseIndex",value:function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var i=t.segmentIndex-e.segmentIndex;return t.isInterior()||i--,1===i&&(n[0]=e.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(e){for(var t=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,t)&&e.add(oe.valueOf(t[0])),i=r}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)}},{key:"createSplitEdge",value:function(e,t){var n=this.createSplitEdgePts(e,t);return new xn(n,this._edge.getData())}},{key:"add",value:function(e,t){var n=new gn(this._edge,e,t,this._edge.getSegmentOctant(t)),i=this._nodeMap.get(n);return null!==i?(D.isTrue(i.coord.equals2D(e),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)}},{key:"checkSplitEdgesCorrectness",value:function(e){var t=this._edge.getCoordinates(),n=e.get(0).getCoordinate(0);if(!n.equals2D(t[0]))throw new z("bad split edge start point at "+n);var i=e.get(e.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(t[t.length-1]))throw new z("bad split edge end point at "+r)}}],[{key:"constructor_",value:function(){this._nodeMap=new Ht,this._edge=null;var e=arguments[0];this._edge=e}}]),t}(),vn=function(){function t(){e(this,t)}return n(t,null,[{key:"octant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];if(0===e&&0===n)throw new A("Cannot compute the octant for point ( "+e+", "+n+" )");var i=Math.abs(e),r=Math.abs(n);return e>=0?n>=0?i>=r?0:1:i>=r?7:6:n>=0?i>=r?3:2:i>=r?4:5}if(arguments[0]instanceof U&&arguments[1]instanceof U){var a=arguments[0],o=arguments[1],s=o.x-a.x,l=o.y-a.y;if(0===s&&0===l)throw new A("Cannot compute the octant for two identical points "+a);return t.octant(s,l)}}}]),t}(),An=function(){function t(){e(this,t)}return n(t,[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(e){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(e){}},{key:"getData",value:function(){}}]),t}(),_n=function(){function t(){e(this,t)}return n(t,[{key:"addIntersection",value:function(e,t){}},{key:"interfaces_",get:function(){return[An]}}]),t}(),xn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(e){return this._pts[e]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))}},{key:"setData",value:function(e){this._data=e}},{key:"safeOctant",value:function(e,t){return e.equals2D(t)?0:vn.octant(e,t)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var n=arguments[1],i=arguments[3],r=new U(arguments[0].getIntersection(i));this.addIntersection(r,n)}}},{key:"toString",value:function(){return St.toLineString(new Je(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(e,t){var n=t,i=n+1;if(i<this._pts.length){var r=this._pts[i];e.equals2D(r)&&(n=i)}return this._nodeList.add(e,n)}},{key:"addIntersections",value:function(e,t,n){for(var i=0;i<e.getIntersectionNum();i++)this.addIntersection(e,t,n,i)}},{key:"interfaces_",get:function(){return[_n]}}],[{key:"constructor_",value:function(){this._nodeList=new yn(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t}},{key:"getNodedSubstrings",value:function(){if(1===arguments.length){var e=arguments[0],n=new ge;return t.getNodedSubstrings(e,n),n}if(2===arguments.length)for(var i=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(i)}}]),t}(),bn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof t){var e=arguments[0],n=he.index(this.p0,this.p1,e.p0),i=he.index(this.p0,this.p1,e.p1);return n>=0&&i>=0||n<=0&&i<=0?Math.max(n,i):0}if(arguments[0]instanceof U){var r=arguments[0];return he.index(this.p0,this.p1,r)}}},{key:"toGeometry",value:function(e){return e.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)}},{key:"intersection",value:function(e){var t=new Pt;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof U){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new U(e);var n=this.projectionFactor(e),i=new U;return i.x=this.p0.x+n*(this.p1.x-this.p0.x),i.y=this.p0.y+n*(this.p1.y-this.p0.y),i}if(arguments[0]instanceof t){var r=arguments[0],a=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(a>=1&&o>=1||a<=0&&o<=0)return null;var s=this.project(r.p0);a<0&&(s=this.p0),a>1&&(s=this.p1);var l=this.project(r.p1);return o<0&&(l=this.p0),o>1&&(l=this.p1),new t(s,l)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(e){return 0===e?this.p0:this.p1}},{key:"distancePerpendicular",value:function(e){return xe.pointToLinePerpendicular(e,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return t.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=t*t+n*n;return i<=0?L.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/i}},{key:"closestPoints",value:function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),i=L.MAX_VALUE,r=null,a=this.closestPoint(e.p0);i=a.distance(e.p0),n[0]=a,n[1]=e.p0;var o=this.closestPoint(e.p1);(r=o.distance(e.p1))<i&&(i=r,n[0]=o,n[1]=e.p1);var s=e.closestPoint(this.p0);(r=s.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=s);var l=e.closestPoint(this.p1);return(r=l.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=l),n}},{key:"closestPoint",value:function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)}},{key:"reverse",value:function(){var e=this.p0;this.p0=this.p1,this.p1=e}},{key:"equalsTopo",value:function(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)}},{key:"lineIntersection",value:function(e){return ve.intersection(this.p0,this.p1,e.p0,e.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),i=this.p0.y+e*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,a=this.p1.y-this.p0.y,o=Math.sqrt(r*r+a*a),s=0,l=0;if(0!==t){if(o<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");s=t*r/o,l=t*a/o}return new U(n-l,i+s)}},{key:"setCoordinates",value:function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}}},{key:"segmentFraction",value:function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||L.isNaN(t))&&(t=1),t}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(e){var t=this.p1.getY()-this.p0.getY(),n=this.p0.getX()-this.p1.getX(),i=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),r=t*t+n*n,a=t*t-n*n,o=e.getX(),s=e.getY();return new U((-a*o-2*t*n*s-2*t*i)/r,(a*s-2*t*n*o-2*n*i)/r)}},{key:"distance",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return xe.segmentToSegment(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof U){var n=arguments[0];return xe.pointToSegment(n,this.p0,this.p1)}}},{key:"pointAlong",value:function(e){var t=new U;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t}},{key:"hashCode",value:function(){var e=L.doubleToLongBits(this.p0.x);e^=31*L.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=L.doubleToLongBits(this.p1.x);return n^=31*L.doubleToLongBits(this.p1.y),t^Math.trunc(n)^Math.trunc(n>>32)}},{key:"interfaces_",get:function(){return[x,w]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,0===arguments.length)t.constructor_.call(this,new U,new U);else if(1===arguments.length){var e=arguments[0];t.constructor_.call(this,e.p0,e.p1)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.p0=n,this.p1=i}else if(4===arguments.length){var r=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];t.constructor_.call(this,new U(r,a),new U(o,s))}}},{key:"midPoint",value:function(e,t){return new U((e.x+t.x)/2,(e.y+t.y)/2)}}]),t}(),wn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"overlap",value:function(){if(2!==arguments.length&&4===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[3];arguments[0].getLineSegment(e,this._overlapSeg1),t.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new bn,this._overlapSeg2=new bn}}]),t}(),En=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getLineSegment",value:function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]}},{key:"computeSelect",value:function(e,t,n,i){var r=this._pts[t],a=this._pts[n];if(n-t==1)return i.select(this,t),null;if(!e.intersects(r,a))return null;var o=Math.trunc((t+n)/2);t<o&&this.computeSelect(e,t,o,i),o<n&&this.computeSelect(e,o,n,i)}},{key:"getCoordinates",value:function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e}},{key:"computeOverlaps",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.computeOverlaps(this._start,this._end,e,e._start,e._end,t)}else if(6===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],a=arguments[3],o=arguments[4],s=arguments[5];if(i-n==1&&o-a==1)return s.overlap(this,n,r,a),null;if(!this.overlaps(n,i,r,a,o))return null;var l=Math.trunc((n+i)/2),u=Math.trunc((a+o)/2);n<l&&(a<u&&this.computeOverlaps(n,l,r,a,u,s),u<o&&this.computeOverlaps(n,l,r,u,o,s)),l<i&&(a<u&&this.computeOverlaps(l,i,r,a,u,s),u<o&&this.computeOverlaps(l,i,r,u,o,s))}}},{key:"setId",value:function(e){this._id=e}},{key:"select",value:function(e,t){this.computeSelect(e,this._start,this._end,t)}},{key:"getEnvelope",value:function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new q(e,t)}return this._env}},{key:"overlaps",value:function(e,t,n,i,r){return q.intersects(this._pts[e],this._pts[t],n._pts[i],n._pts[r])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=i}}]),t}(),In=function(){function t(){e(this,t)}return n(t,null,[{key:"findChainEnd",value:function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var i=Wt.quadrant(e[n],e[n+1]),r=t+1;r<e.length&&(e[r-1].equals2D(e[r])||Wt.quadrant(e[r-1],e[r])===i);)r++;return r-1}},{key:"getChains",value:function(){if(1===arguments.length){var e=arguments[0];return t.getChains(e,null)}if(2===arguments.length){var n=arguments[0],i=arguments[1],r=new ge,a=0;do{var o=t.findChainEnd(n,a),s=new En(n,a,o,i);r.add(s),a=o}while(a<n.length-1);return r}}}]),t}(),Cn=function(){function t(){e(this,t)}return n(t,[{key:"computeNodes",value:function(e){}},{key:"getNodedSubstrings",value:function(){}}]),t}(),kn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"setSegmentIntersector",value:function(e){this._segInt=e}},{key:"interfaces_",get:function(){return[Cn]}}],[{key:"constructor_",value:function(){if(this._segInt=null,0!==arguments.length&&1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}}}]),t}(),Sn=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),t=r.call(this),a.constructor_.apply(u(t),arguments),t}return n(a,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return xn.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(e){for(var t=In.getChains(e.getCoordinates(),e).iterator();t.hasNext();){var n=t.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var e=new Tn(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var n=t.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,e),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new ge,this._index=new dn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0!==arguments.length&&1===arguments.length){var e=arguments[0];kn.constructor_.call(this,e)}}}]),a}(kn),Tn=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"overlap",value:function(){if(4!==arguments.length)return d(r(o.prototype),"overlap",this).apply(this,arguments);var e=arguments[1],t=arguments[2],n=arguments[3],i=arguments[0].getContext(),a=t.getContext();this._si.processIntersections(i,e,a,n)}}],[{key:"constructor_",value:function(){this._si=null;var e=arguments[0];this._si=e}}]),o}(wn);Sn.SegmentOverlapAction=Tn;var Pn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"isDeletable",value:function(e,t,n,i){var r=this._inputLine[e],a=this._inputLine[t],o=this._inputLine[n];return!!this.isConcave(r,a,o)&&!!this.isShallow(r,a,o,i)&&this.isShallowSampled(r,a,e,n,i)}},{key:"deleteShallowConcavities",value:function(){for(var e=1,n=this.findNextNonDeletedIndex(e),i=this.findNextNonDeletedIndex(n),r=!1;i<this._inputLine.length;){var a=!1;this.isDeletable(e,n,i,this._distanceTol)&&(this._isDeleted[n]=t.DELETE,a=!0,r=!0),e=a?i:n,n=this.findNextNonDeletedIndex(e),i=this.findNextNonDeletedIndex(n)}return r}},{key:"isShallowConcavity",value:function(e,t,n,i){return he.index(e,t,n)===this._angleOrientation&&xe.pointToSegment(t,e,n)<i}},{key:"isShallowSampled",value:function(e,n,i,r,a){var o=Math.trunc((r-i)/t.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=i;s<r;s+=o)if(!this.isShallow(e,n,this._inputLine[s],a))return!1;return!0}},{key:"isConcave",value:function(e,t,n){return he.index(e,t,n)===this._angleOrientation}},{key:"simplify",value:function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=he.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(e){for(var n=e+1;n<this._inputLine.length&&this._isDeleted[n]===t.DELETE;)n++;return n}},{key:"isShallow",value:function(e,t,n,i){return xe.pointToSegment(t,e,n)<i}},{key:"collapseLine",value:function(){for(var e=new Xe,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==t.DELETE&&e.add(this._inputLine[n]);return e.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=he.COUNTERCLOCKWISE;var e=arguments[0];this._inputLine=e}},{key:"simplify",value:function(e,n){return new t(e).simplify(n)}}]),t}();Pn.INIT=0,Pn.DELETE=1,Pn.KEEP=1,Pn.NUM_PTS_TO_CHECK=10;var Nn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getCoordinates",value:function(){return this._ptList.toArray(t.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"addPt",value:function(e){var t=new U(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var i=e.length-1;i>=0;i--)this.addPt(e[i])}},{key:"isRedundant",value:function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance}},{key:"toString",value:function(){return(new ot).createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var e=new U(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)}},{key:"setMinimumVertexDistance",value:function(e){this._minimimVertexDistance=e}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ge}}]),t}();Nn.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Mn=function(){function t(){e(this,t)}return n(t,null,[{key:"toDegrees",value:function(e){return 180*e/Math.PI}},{key:"normalize",value:function(e){for(;e>Math.PI;)e-=t.PI_TIMES_2;for(;e<=-Math.PI;)e+=t.PI_TIMES_2;return e}},{key:"angle",value:function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1],i=n.x-t.x,r=n.y-t.y;return Math.atan2(r,i)}}},{key:"isAcute",value:function(e,t,n){var i=e.x-t.x,r=e.y-t.y;return i*(n.x-t.x)+r*(n.y-t.y)>0}},{key:"isObtuse",value:function(e,t,n){var i=e.x-t.x,r=e.y-t.y;return i*(n.x-t.x)+r*(n.y-t.y)<0}},{key:"interiorAngle",value:function(e,n,i){var r=t.angle(n,e),a=t.angle(n,i);return Math.abs(a-r)}},{key:"normalizePositive",value:function(e){if(e<0){for(;e<0;)e+=t.PI_TIMES_2;e>=t.PI_TIMES_2&&(e=0)}else{for(;e>=t.PI_TIMES_2;)e-=t.PI_TIMES_2;e<0&&(e=0)}return e}},{key:"angleBetween",value:function(e,n,i){var r=t.angle(n,e),a=t.angle(n,i);return t.diff(r,a)}},{key:"diff",value:function(e,t){var n=null;return(n=e<t?t-e:e-t)>Math.PI&&(n=2*Math.PI-n),n}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"getTurn",value:function(e,n){var i=Math.sin(n-e);return i>0?t.COUNTERCLOCKWISE:i<0?t.CLOCKWISE:t.NONE}},{key:"angleBetweenOriented",value:function(e,n,i){var r=t.angle(n,e),a=t.angle(n,i)-r;return a<=-Math.PI?a+t.PI_TIMES_2:a>Math.PI?a-t.PI_TIMES_2:a}}]),t}();Mn.PI_TIMES_2=2*Math.PI,Mn.PI_OVER_2=Math.PI/2,Mn.PI_OVER_4=Math.PI/4,Mn.COUNTERCLOCKWISE=he.COUNTERCLOCKWISE,Mn.CLOCKWISE=he.CLOCKWISE,Mn.NONE=he.COLLINEAR;var Bn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"addNextSegment",value:function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=he.index(this._s0,this._s1,this._s2),i=n===he.CLOCKWISE&&this._side===$.LEFT||n===he.COUNTERCLOCKWISE&&this._side===$.RIGHT;0===n?this.addCollinear(t):i?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)}},{key:"addLineEndCap",value:function(e,t){var n=new bn(e,t),i=new bn;this.computeOffsetSegment(n,$.LEFT,this._distance,i);var r=new bn;this.computeOffsetSegment(n,$.RIGHT,this._distance,r);var a=t.x-e.x,o=t.y-e.y,s=Math.atan2(o,a);switch(this._bufParams.getEndCapStyle()){case y.CAP_ROUND:this._segList.addPt(i.p1),this.addDirectedFillet(t,s+Math.PI/2,s-Math.PI/2,he.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case y.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case y.CAP_SQUARE:var l=new U;l.x=Math.abs(this._distance)*Math.cos(s),l.y=Math.abs(this._distance)*Math.sin(s);var u=new U(i.p1.x+l.x,i.p1.y+l.y),c=new U(r.p1.x+l.x,r.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(e,t,n,i){var r=ve.intersection(t.p0,t.p1,n.p0,n.p1);if(null!==r&&(i<=0?1:r.distance(e)/Math.abs(i))<=this._bufParams.getMitreLimit())return this._segList.addPt(r),null;this.addLimitedMitreJoin(t,n,i,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(e,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*t.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===y.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===y.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(e){this._segList.addPt(new U(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new U(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new U(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new U(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(e,t){this._segList.addPts(e,t)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(e,t,n,i,r){var a=t.x-e.x,o=t.y-e.y,s=Math.atan2(o,a),l=n.x-e.x,u=n.y-e.y,c=Math.atan2(u,l);i===he.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(t),this.addDirectedFillet(e,s,c,i,r),this._segList.addPt(n)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(e,t,n,i){var r=this._seg0.p1,a=Mn.angle(r,this._seg0.p0),o=Mn.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,s=Mn.normalize(a+o),l=Mn.normalize(s+Math.PI),u=i*n,c=n-u*Math.abs(Math.sin(o)),h=r.x+u*Math.cos(l),d=r.y+u*Math.sin(l),f=new U(h,d),p=new bn(r,f),g=p.pointAlongOffset(1,c),m=p.pointAlongOffset(1,-c);this._side===$.LEFT?(this._segList.addPt(g),this._segList.addPt(m)):(this._segList.addPt(m),this._segList.addPt(g))}},{key:"addDirectedFillet",value:function(e,t,n,i,r){var a=i===he.CLOCKWISE?-1:1,o=Math.abs(t-n),s=Math.trunc(o/this._filletAngleQuantum+.5);if(s<1)return null;for(var l=o/s,u=new U,c=0;c<s;c++){var h=t+a*c*l;u.x=e.x+r*Math.cos(h),u.y=e.y+r*Math.sin(h),this._segList.addPt(u)}}},{key:"computeOffsetSegment",value:function(e,t,n,i){var r=t===$.LEFT?1:-1,a=e.p1.x-e.p0.x,o=e.p1.y-e.p0.y,s=Math.sqrt(a*a+o*o),l=r*n*a/s,u=r*n*o/s;i.p0.x=e.p0.x-u,i.p0.y=e.p0.y+l,i.p1.x=e.p1.x-u,i.p1.y=e.p1.y+l}},{key:"addInsideTurn",value:function(e,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*t.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new U((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var r=new U((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(e){var t=new U(e.x+this._distance,e.y);this._segList.addPt(t),this.addDirectedFillet(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)}},{key:"init",value:function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Nn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*t.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===y.JOIN_BEVEL||this._bufParams.getJoinStyle()===y.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,he.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new bn,this._seg1=new bn,this._offset0=new bn,this._offset1=new bn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new Pt,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===y.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)}}]),t}();Bn.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Bn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Bn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Bn.MAX_CLOSING_SEG_LEN_FACTOR=80;var Ln=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getOffsetCurve",value:function(e,t){if(this._distance=t,0===t)return null;var n=t<0,i=Math.abs(t),r=this.getSegGen(i);e.length<=1?this.computePointCurve(e[0],r):this.computeOffsetCurve(e,n,r);var a=r.getCoordinates();return n&&We.reverse(a),a}},{key:"computeSingleSidedBufferCurve",value:function(e,t,n){var i=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var r=Pn.simplify(e,-i),a=r.length-1;n.initSideSegments(r[a],r[a-1],$.LEFT),n.addFirstSegment();for(var o=a-2;o>=0;o--)n.addNextSegment(r[o],!0)}else{n.addSegments(e,!1);var s=Pn.simplify(e,i),l=s.length-1;n.initSideSegments(s[0],s[1],$.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment(),n.closeRing()}},{key:"computeRingBufferCurve",value:function(e,t,n){var i=this.simplifyTolerance(this._distance);t===$.RIGHT&&(i=-i);var r=Pn.simplify(e,i),a=r.length-1;n.initSideSegments(r[a-1],r[0],t);for(var o=1;o<=a;o++){var s=1!==o;n.addNextSegment(r[o],s)}n.closeRing()}},{key:"computeLineBufferCurve",value:function(e,t){var n=this.simplifyTolerance(this._distance),i=Pn.simplify(e,n),r=i.length-1;t.initSideSegments(i[0],i[1],$.LEFT);for(var a=2;a<=r;a++)t.addNextSegment(i[a],!0);t.addLastSegment(),t.addLineEndCap(i[r-1],i[r]);var o=Pn.simplify(e,-n),s=o.length-1;t.initSideSegments(o[s],o[s-1],$.LEFT);for(var l=s-2;l>=0;l--)t.addNextSegment(o[l],!0);t.addLastSegment(),t.addLineEndCap(o[1],o[0]),t.closeRing()}},{key:"computePointCurve",value:function(e,t){switch(this._bufParams.getEndCapStyle()){case y.CAP_ROUND:t.createCircle(e);break;case y.CAP_SQUARE:t.createSquare(e)}}},{key:"getLineCurve",value:function(e,t){if(this._distance=t,this.isLineOffsetEmpty(t))return null;var n=Math.abs(t),i=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],i);else if(this._bufParams.isSingleSided()){var r=t<0;this.computeSingleSidedBufferCurve(e,r,i)}else this.computeLineBufferCurve(e,i);return i.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(e){return e*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(e,n,i){if(this._distance=i,e.length<=2)return this.getLineCurve(e,i);if(0===i)return t.copyCoordinates(e);var r=this.getSegGen(i);return this.computeRingBufferCurve(e,n,r),r.getCoordinates()}},{key:"computeOffsetCurve",value:function(e,t,n){var i=this.simplifyTolerance(this._distance);if(t){var r=Pn.simplify(e,-i),a=r.length-1;n.initSideSegments(r[a],r[a-1],$.LEFT),n.addFirstSegment();for(var o=a-2;o>=0;o--)n.addNextSegment(r[o],!0)}else{var s=Pn.simplify(e,i),l=s.length-1;n.initSideSegments(s[0],s[1],$.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(e){return 0===e||e<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(e){return new Bn(this._precisionModel,this._bufParams,e)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t}},{key:"copyCoordinates",value:function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new U(e[n]);return t}}]),t}(),Rn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"findStabbedSegments",value:function(){if(1===arguments.length){for(var e=arguments[0],t=new ge,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();e.y<r.getMinY()||e.y>r.getMaxY()||this.findStabbedSegments(e,i.getDirectedEdges(),t)}return t}if(3===arguments.length)if(re(arguments[2],ne)&&arguments[0]instanceof U&&arguments[1]instanceof Zt){for(var a=arguments[0],o=arguments[1],s=arguments[2],l=o.getEdge().getCoordinates(),u=0;u<l.length-1;u++)if(this._seg.p0=l[u],this._seg.p1=l[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<a.x)&&!(this._seg.isHorizontal()||a.y<this._seg.p0.y||a.y>this._seg.p1.y||he.index(this._seg.p0,this._seg.p1,a)===he.RIGHT)){var c=o.getDepth($.LEFT);this._seg.p0.equals(l[u])||(c=o.getDepth($.RIGHT));var h=new zn(this._seg,c);s.add(h)}}else if(re(arguments[2],ne)&&arguments[0]instanceof U&&re(arguments[1],ne))for(var d=arguments[0],f=arguments[2],p=arguments[1].iterator();p.hasNext();){var g=p.next();g.isForward()&&this.findStabbedSegments(d,g,f)}}},{key:"getDepth",value:function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:on.min(t)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new bn;var e=arguments[0];this._subgraphs=e}}]),t}(),zn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"compareTo",value:function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==n||0!==(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(t._upwardSeg)}},{key:"compareX",value:function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new bn(e),this._leftDepth=t}}]),t}();Rn.DepthSegment=zn;var On=function(t){i(a,t);var r=h(a);function a(){var t;return e(this,a),t=r.call(this),a.constructor_.apply(u(t),arguments),t}return n(a,null,[{key:"constructor_",value:function(){v.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}]),a}(v),Dn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getY",value:function(){var e=this.y/this.w;if(L.isNaN(e)||L.isInfinite(e))throw new On;return e}},{key:"getX",value:function(){var e=this.x/this.w;if(L.isNaN(e)||L.isInfinite(e))throw new On;return e}},{key:"getCoordinate",value:function(){var e=new U;return e.x=this.getX(),e.y=this.getY(),e}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],a=arguments[1];this.x=r.y*a.w-a.y*r.w,this.y=a.x*r.w-r.x*a.w,this.w=r.x*a.y-a.x*r.y}else if(arguments[0]instanceof U&&arguments[1]instanceof U){var o=arguments[0],s=arguments[1];this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var h=arguments[0],d=arguments[1],f=arguments[2],p=arguments[3],g=h.y-d.y,m=d.x-h.x,y=h.x*d.y-d.x*h.y,v=f.y-p.y,A=p.x-f.x,_=f.x*p.y-p.x*f.y;this.x=m*_-A*y,this.y=v*y-g*_,this.w=g*A-v*m}}}]),t}(),Fn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"area",value:function(){return t.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return t.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(e){if(null===e)throw new A("Supplied point is null.");return t.interpolateZ(e,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return t.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return t.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return t.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return t.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return t.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return t.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.p0=e,this.p1=t,this.p2=n}},{key:"area",value:function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)}},{key:"signedArea",value:function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2}},{key:"det",value:function(e,t,n,i){return e*i-t*n}},{key:"interpolateZ",value:function(e,t,n,i){var r=t.x,a=t.y,o=n.x-r,s=i.x-r,l=n.y-a,u=i.y-a,c=o*u-s*l,h=e.x-r,d=e.y-a,f=(u*h-s*d)/c,p=(-l*h+o*d)/c;return t.getZ()+f*(n.getZ()-t.getZ())+p*(i.getZ()-t.getZ())}},{key:"longestSideLength",value:function(e,t,n){var i=e.distance(t),r=t.distance(n),a=n.distance(e),o=i;return r>o&&(o=r),a>o&&(o=a),o}},{key:"circumcentreDD",value:function(e,t,n){var i=le.valueOf(e.x).subtract(n.x),r=le.valueOf(e.y).subtract(n.y),a=le.valueOf(t.x).subtract(n.x),o=le.valueOf(t.y).subtract(n.y),s=le.determinant(i,r,a,o).multiply(2),l=i.sqr().add(r.sqr()),u=a.sqr().add(o.sqr()),c=le.determinant(r,l,o,u),h=le.determinant(i,l,a,u),d=le.valueOf(n.x).subtract(c.divide(s)).doubleValue(),f=le.valueOf(n.y).add(h.divide(s)).doubleValue();return new U(d,f)}},{key:"isAcute",value:function(e,t,n){return!!Mn.isAcute(e,t,n)&&!!Mn.isAcute(t,n,e)&&!!Mn.isAcute(n,e,t)}},{key:"circumcentre",value:function(e,n,i){var r=i.x,a=i.y,o=e.x-r,s=e.y-a,l=n.x-r,u=n.y-a,c=2*t.det(o,s,l,u),h=t.det(s,o*o+s*s,u,l*l+u*u),d=t.det(o,o*o+s*s,l,l*l+u*u);return new U(r-h/c,a+d/c)}},{key:"perpendicularBisector",value:function(e,t){var n=t.x-e.x,i=t.y-e.y,r=new Dn(e.x+n/2,e.y+i/2,1),a=new Dn(e.x-i+n/2,e.y+n+i/2,1);return new Dn(r,a)}},{key:"angleBisector",value:function(e,t,n){var i=t.distance(e),r=i/(i+t.distance(n)),a=n.x-e.x,o=n.y-e.y;return new U(e.x+r*a,e.y+r*o)}},{key:"area3D",value:function(e,t,n){var i=t.x-e.x,r=t.y-e.y,a=t.getZ()-e.getZ(),o=n.x-e.x,s=n.y-e.y,l=n.getZ()-e.getZ(),u=r*l-a*s,c=a*o-i*l,h=i*s-r*o,d=u*u+c*c+h*h;return Math.sqrt(d)/2}},{key:"centroid",value:function(e,t,n){var i=(e.x+t.x+n.x)/3,r=(e.y+t.y+n.y)/3;return new U(i,r)}},{key:"inCentre",value:function(e,t,n){var i=t.distance(n),r=e.distance(n),a=e.distance(t),o=i+r+a,s=(i*e.x+r*t.x+a*n.x)/o,l=(i*e.y+r*t.y+a*n.y)/o;return new U(s,l)}}]),t}(),jn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"addRingSide",value:function(e,t,n,i,r){if(0===t&&e.length<Ue.MINIMUM_VALID_SIZE)return null;var a=i,o=r;e.length>=Ue.MINIMUM_VALID_SIZE&&he.isCCW(e)&&(a=r,o=i,n=$.opposite(n));var s=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(s,a,o)}},{key:"addRingBothSides",value:function(e,t){this.addRingSide(e,t,$.LEFT,H.EXTERIOR,H.INTERIOR),this.addRingSide(e,t,$.RIGHT,H.INTERIOR,H.EXTERIOR)}},{key:"addPoint",value:function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,H.EXTERIOR,H.INTERIOR)}},{key:"addPolygon",value:function(e){var t=this._distance,n=$.LEFT;this._distance<0&&(t=-this._distance,n=$.RIGHT);var i=e.getExteriorRing(),r=We.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance)||this._distance<=0&&r.length<3)return null;this.addRingSide(r,t,n,H.EXTERIOR,H.INTERIOR);for(var a=0;a<e.getNumInteriorRing();a++){var o=e.getInteriorRingN(a),s=We.removeRepeatedPoints(o.getCoordinates());this._distance>0&&this.isErodedCompletely(o,-this._distance)||this.addRingSide(s,t,$.opposite(n),H.INTERIOR,H.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(e,t){var n=new Fn(e[0],e[1],e[2]),i=n.inCentre();return xe.pointToSegment(i,n.p0,n.p1)<Math.abs(t)}},{key:"addLineString",value:function(e){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var t=We.removeRepeatedPoints(e.getCoordinates());if(We.isRing(t)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(t,this._distance);else{var n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,H.EXTERIOR,H.INTERIOR)}}},{key:"addCurve",value:function(e,t,n){if(null===e||e.length<2)return null;var i=new xn(e,new Lt(0,H.BOUNDARY,t,n));this._curveList.add(i)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(e){if(e.isEmpty())return null;if(e instanceof ze)this.addPolygon(e);else if(e instanceof Pe)this.addLineString(e);else if(e instanceof Me)this.addPoint(e);else if(e instanceof Qe)this.addCollection(e);else if(e instanceof at)this.addCollection(e);else if(e instanceof et)this.addCollection(e);else{if(!(e instanceof je))throw new Y(e.getGeometryType());this.addCollection(e)}}},{key:"isErodedCompletely",value:function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var i=e.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return t<0&&2*Math.abs(t)>r}},{key:"addCollection",value:function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ge;var e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n}}]),t}(),Qn=function(){function t(){e(this,t)}return n(t,[{key:"locate",value:function(e){}}]),t}(),Un=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,t.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new W;var e=this._parent.getGeometryN(this._index++);return e instanceof je?(this._subcollectionIterator=new t(e),this._subcollectionIterator.next()):e}},{key:"remove",value:function(){throw new Y(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[mn]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()}},{key:"isAtomic",value:function(e){return!(e instanceof je)}}]),t}(),Vn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"locate",value:function(e){return t.locate(e,this._geom)}},{key:"interfaces_",get:function(){return[Qn]}}],[{key:"constructor_",value:function(){this._geom=null;var e=arguments[0];this._geom=e}},{key:"locatePointInPolygon",value:function(e,n){if(n.isEmpty())return H.EXTERIOR;var i=n.getExteriorRing(),r=t.locatePointInRing(e,i);if(r!==H.INTERIOR)return r;for(var a=0;a<n.getNumInteriorRing();a++){var o=n.getInteriorRingN(a),s=t.locatePointInRing(e,o);if(s===H.BOUNDARY)return H.BOUNDARY;if(s===H.INTERIOR)return H.EXTERIOR}return H.INTERIOR}},{key:"locatePointInRing",value:function(e,t){return t.getEnvelopeInternal().intersects(e)?Mt.locateInRing(e,t.getCoordinates()):H.EXTERIOR}},{key:"containsPointInPolygon",value:function(e,n){return H.EXTERIOR!==t.locatePointInPolygon(e,n)}},{key:"locateInGeometry",value:function(e,n){if(n instanceof ze)return t.locatePointInPolygon(e,n);if(n instanceof je)for(var i=new Un(n);i.hasNext();){var r=i.next();if(r!==n){var a=t.locateInGeometry(e,r);if(a!==H.EXTERIOR)return a}}return H.EXTERIOR}},{key:"isContained",value:function(e,n){return H.EXTERIOR!==t.locate(e,n)}},{key:"locate",value:function(e,n){return n.isEmpty()?H.EXTERIOR:n.getEnvelopeInternal().intersects(e)?t.locateInGeometry(e,n):H.EXTERIOR}}]),t}(),qn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getNextCW",value:function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)}},{key:"propagateSideLabels",value:function(e){for(var t=H.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(e)&&i.getLocation(e,$.LEFT)!==H.NONE&&(t=i.getLocation(e,$.LEFT))}if(t===H.NONE)return null;for(var r=t,a=this.iterator();a.hasNext();){var o=a.next(),s=o.getLabel();if(s.getLocation(e,$.ON)===H.NONE&&s.setLocation(e,$.ON,r),s.isArea(e)){var l=s.getLocation(e,$.LEFT),u=s.getLocation(e,$.RIGHT);if(u!==H.NONE){if(u!==r)throw new fe("side location conflict",o.getCoordinate());l===H.NONE&&D.shouldNeverReachHere("found single null side (at "+o.getCoordinate()+")"),r=l}else D.isTrue(s.getLocation(e,$.LEFT)===H.NONE,"found single null side"),s.setLocation(e,$.RIGHT,r),s.setLocation(e,$.LEFT,r)}}}},{key:"getCoordinate",value:function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null}},{key:"print",value:function(e){Ae.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"isAreaLabelsConsistent",value:function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,i=t.get(n).getLabel().getLocation(e,$.LEFT);D.isTrue(i!==H.NONE,"Found unlabelled area edge");for(var r=i,a=this.iterator();a.hasNext();){var o=a.next().getLabel();D.isTrue(o.isArea(e),"Found non-area edge");var s=o.getLocation(e,$.LEFT),l=o.getLocation(e,$.RIGHT);if(s===l||l!==r)return!1;r=s}return!0}},{key:"findIndex",value:function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return null===this._edgeList&&(this._edgeList=new ge(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(e,t,n){return this._ptInAreaLocation[e]===H.NONE&&(this._ptInAreaLocation[e]=Vn.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]}},{key:"toString",value:function(){var e=new ae;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()}},{key:"computeEdgeEndLabels",value:function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)}},{key:"computeLabelling",value:function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===H.BOUNDARY&&(t[r]=!0);for(var a=this.iterator();a.hasNext();)for(var o=a.next(),s=o.getLabel(),l=0;l<2;l++)if(s.isAnyNull(l)){var u=H.NONE;if(t[l])u=H.EXTERIOR;else{var c=o.getCoordinate();u=this.getLocation(l,c,e)}s.setAllLocationsIfNull(l,u)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(e,t){this._edgeMap.put(e,t),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Ht,this._edgeList=null,this._ptInAreaLocation=[H.NONE,H.NONE]}}]),t}(),Gn=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var e=null,t=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),a=r.getSym();if(r.getLabel().isArea())switch(null===e&&r.isInResult()&&(e=r),n){case this._SCANNING_FOR_INCOMING:if(!a.isInResult())continue;t=a,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;t.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===e)throw new fe("no outgoing dirEdge found",this.getCoordinate());D.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}}},{key:"insert",value:function(e){var t=e;this.insertEdgeEnd(t,t)}},{key:"getRightmostEdge",value:function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var i=e.get(t-1),r=n.getQuadrant(),a=i.getQuadrant();return Wt.isNorthern(r)&&Wt.isNorthern(a)?n:Wt.isNorthern(r)||Wt.isNorthern(a)?0!==n.getDy()?n:0!==i.getDy()?i:(D.shouldNeverReachHere("found two horizontal edges incident on node"),null):i}},{key:"print",value:function(e){Ae.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}}},{key:"getResultAreaEdges",value:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ge;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(e){for(var t=this.iterator();t.hasNext();){var n=t.next().getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var e=null,t=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===t&&(t=r),null!==e&&r.setNext(e),e=i}t.setNext(e)}},{key:"computeDepths",value:function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),n=e.getDepth($.LEFT),i=e.getDepth($.RIGHT),r=this.computeDepths(t+1,this._edgeList.size(),n);if(this.computeDepths(0,t,r)!==i)throw new fe("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var a=arguments[1],o=arguments[2],s=arguments[0];s<a;s++){var l=this._edgeList.get(s);l.setEdgeDepths($.RIGHT,o),o=l.getDepth($.LEFT)}return o}}},{key:"mergeSymLabels",value:function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(e){for(var t=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var a=this._resultAreaEdgeList.get(r),o=a.getSym();switch(null===t&&a.getEdgeRing()===e&&(t=a),i){case this._SCANNING_FOR_INCOMING:if(o.getEdgeRing()!==e)continue;n=o,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(a.getEdgeRing()!==e)continue;n.setNextMin(a),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(D.isTrue(null!==t,"found null for first outgoing dirEdge"),D.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),n.setNextMin(t))}},{key:"getOutgoingDegree",value:function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();)t.next().isInResult()&&e++;return e}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var e=H.NONE,t=this.iterator();t.hasNext();){var n=t.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=H.INTERIOR;break}if(i.isInResult()){e=H.EXTERIOR;break}}}if(e===H.NONE)return null;for(var r=e,a=this.iterator();a.hasNext();){var o=a.next(),s=o.getSym();o.isLineEdge()?o.getEdge().setCovered(r===H.INTERIOR):(o.isInResult()&&(r=H.EXTERIOR),s.isInResult()&&(r=H.INTERIOR))}}},{key:"computeLabelling",value:function(e){d(r(o.prototype),"computeLabelling",this).call(this,e),this._label=new Lt(H.NONE);for(var t=this.iterator();t.hasNext();)for(var n=t.next().getEdge().getLabel(),i=0;i<2;i++){var a=n.getLocation(i);a!==H.INTERIOR&&a!==H.BOUNDARY||this._label.setLocation(i,H.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}]),o}(qn),Hn=function(t){i(a,t);var r=h(a);function a(){return e(this,a),r.call(this)}return n(a,[{key:"createNode",value:function(e){return new Ft(e,new Gn)}}]),a}(Kt),Xn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"compareTo",value:function(e){var n=e;return t.compareOriented(this._pts,this._orientation,n._pts,n._orientation)}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)}},{key:"orientation",value:function(e){return 1===We.increasingDirection(e)}},{key:"compareOriented",value:function(e,t,n,i){for(var r=t?1:-1,a=i?1:-1,o=t?e.length:-1,s=i?n.length:-1,l=t?0:e.length-1,u=i?0:n.length-1;;){var c=e[l].compareTo(n[u]);if(0!==c)return c;var h=(l+=r)===o,d=(u+=a)===s;if(h&&!d)return-1;if(!h&&d)return 1;if(h&&d)return 0}}}]),t}(),Wn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"print",value:function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var n=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&e.print(","),e.print(i[r].x+" "+i[r].y);e.println(")")}e.print(")  ")}},{key:"addAll",value:function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())}},{key:"findEdgeIndex",value:function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(e){return this._edges.get(e)}},{key:"findEqualEdge",value:function(e){var t=new Xn(e.getCoordinates());return this._ocaMap.get(t)}},{key:"add",value:function(e){this._edges.add(e);var t=new Xn(e.getCoordinates());this._ocaMap.put(t,e)}}],[{key:"constructor_",value:function(){this._edges=new ge,this._ocaMap=new Ht}}]),t}(),Yn=function(){function t(){e(this,t)}return n(t,[{key:"processIntersections",value:function(e,t,n,i){}},{key:"isDone",value:function(){}}]),t}(),Zn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"isTrivialIntersection",value:function(e,n,i,r){if(e===i&&1===this._li.getIntersectionNum()){if(t.isAdjacentSegments(n,r))return!0;if(e.isClosed()){var a=e.size()-1;if(0===n&&r===a||0===r&&n===a)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(e,t,n,i){if(e===n&&t===i)return null;this.numTests++;var r=e.getCoordinates()[t],a=e.getCoordinates()[t+1],o=n.getCoordinates()[i],s=n.getCoordinates()[i+1];this._li.computeIntersection(r,a,o,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,i)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Yn]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e}},{key:"isAdjacentSegments",value:function(e,t){return 1===Math.abs(e-t)}}]),t}(),Kn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)}},{key:"compareTo",value:function(e){var t=e;return this.compare(t.segmentIndex,t.dist)}},{key:"isEndPoint",value:function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new U(e),this.segmentIndex=t,this.dist=n}}]),t}(),Jn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"print",value:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var i=t.next(),r=this.createSplitEdge(n,i);e.add(r),n=i}}},{key:"addEndpoints",value:function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)}},{key:"createSplitEdge",value:function(e,t){var n=t.segmentIndex-e.segmentIndex+2,i=this.edge.pts[t.segmentIndex],r=t.dist>0||!t.coord.equals2D(i);r||n--;var a=new Array(n).fill(null),o=0;a[o++]=new U(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)a[o++]=this.edge.pts[s];return r&&(a[o]=t.coord),new ri(a,new Lt(this.edge._label))}},{key:"add",value:function(e,t,n){var i=new Kn(e,t,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)}},{key:"isIntersection",value:function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Ht,this.edge=null;var e=arguments[0];this.edge=e}}]),t}(),$n=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])||t.isTrue(this._matrix[H.INTERIOR][H.BOUNDARY])||t.isTrue(this._matrix[H.BOUNDARY][H.INTERIOR])||t.isTrue(this._matrix[H.BOUNDARY][H.BOUNDARY]))&&this._matrix[H.EXTERIOR][H.INTERIOR]===ke.FALSE&&this._matrix[H.EXTERIOR][H.BOUNDARY]===ke.FALSE}},{key:"isCoveredBy",value:function(){return(t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])||t.isTrue(this._matrix[H.INTERIOR][H.BOUNDARY])||t.isTrue(this._matrix[H.BOUNDARY][H.INTERIOR])||t.isTrue(this._matrix[H.BOUNDARY][H.BOUNDARY]))&&this._matrix[H.INTERIOR][H.EXTERIOR]===ke.FALSE&&this._matrix[H.BOUNDARY][H.EXTERIOR]===ke.FALSE}},{key:"set",value:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var n=Math.trunc(t/3),i=t%3;this._matrix[n][i]=ke.toDimensionValue(e.charAt(t))}else if(3===arguments.length){var r=arguments[0],a=arguments[1],o=arguments[2];this._matrix[r][a]=o}}},{key:"isContains",value:function(){return t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&this._matrix[H.EXTERIOR][H.INTERIOR]===ke.FALSE&&this._matrix[H.EXTERIOR][H.BOUNDARY]===ke.FALSE}},{key:"setAtLeast",value:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var n=Math.trunc(t/3),i=t%3;this.setAtLeast(n,i,ke.toDimensionValue(e.charAt(t)))}else if(3===arguments.length){var r=arguments[0],a=arguments[1],o=arguments[2];this._matrix[r][a]<o&&(this._matrix[r][a]=o)}}},{key:"setAtLeastIfValid",value:function(e,t,n){e>=0&&t>=0&&this.setAtLeast(e,t,n)}},{key:"isWithin",value:function(){return t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&this._matrix[H.INTERIOR][H.EXTERIOR]===ke.FALSE&&this._matrix[H.BOUNDARY][H.EXTERIOR]===ke.FALSE}},{key:"isTouches",value:function(e,n){return e>n?this.isTouches(n,e):(e===ke.A&&n===ke.A||e===ke.L&&n===ke.L||e===ke.L&&n===ke.A||e===ke.P&&n===ke.A||e===ke.P&&n===ke.L)&&this._matrix[H.INTERIOR][H.INTERIOR]===ke.FALSE&&(t.isTrue(this._matrix[H.INTERIOR][H.BOUNDARY])||t.isTrue(this._matrix[H.BOUNDARY][H.INTERIOR])||t.isTrue(this._matrix[H.BOUNDARY][H.BOUNDARY]))}},{key:"isOverlaps",value:function(e,n){return e===ke.P&&n===ke.P||e===ke.A&&n===ke.A?t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&t.isTrue(this._matrix[H.INTERIOR][H.EXTERIOR])&&t.isTrue(this._matrix[H.EXTERIOR][H.INTERIOR]):e===ke.L&&n===ke.L&&1===this._matrix[H.INTERIOR][H.INTERIOR]&&t.isTrue(this._matrix[H.INTERIOR][H.EXTERIOR])&&t.isTrue(this._matrix[H.EXTERIOR][H.INTERIOR])}},{key:"isEquals",value:function(e,n){return e===n&&t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&this._matrix[H.INTERIOR][H.EXTERIOR]===ke.FALSE&&this._matrix[H.BOUNDARY][H.EXTERIOR]===ke.FALSE&&this._matrix[H.EXTERIOR][H.INTERIOR]===ke.FALSE&&this._matrix[H.EXTERIOR][H.BOUNDARY]===ke.FALSE}},{key:"toString",value:function(){for(var e=new Ke("123456789"),t=0;t<3;t++)for(var n=0;n<3;n++)e.setCharAt(3*t+n,ke.toDimensionSymbol(this._matrix[t][n]));return e.toString()}},{key:"setAll",value:function(e){for(var t=0;t<3;t++)for(var n=0;n<3;n++)this._matrix[t][n]=e}},{key:"get",value:function(e,t){return this._matrix[e][t]}},{key:"transpose",value:function(){var e=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=e,e=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=e,e=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=e,this}},{key:"matches",value:function(e){if(9!==e.length)throw new A("Should be length 9: "+e);for(var n=0;n<3;n++)for(var i=0;i<3;i++)if(!t.matches(this._matrix[n][i],e.charAt(3*n+i)))return!1;return!0}},{key:"add",value:function(e){for(var t=0;t<3;t++)for(var n=0;n<3;n++)this.setAtLeast(t,n,e.get(t,n))}},{key:"isDisjoint",value:function(){return this._matrix[H.INTERIOR][H.INTERIOR]===ke.FALSE&&this._matrix[H.INTERIOR][H.BOUNDARY]===ke.FALSE&&this._matrix[H.BOUNDARY][H.INTERIOR]===ke.FALSE&&this._matrix[H.BOUNDARY][H.BOUNDARY]===ke.FALSE}},{key:"isCrosses",value:function(e,n){return e===ke.P&&n===ke.L||e===ke.P&&n===ke.A||e===ke.L&&n===ke.A?t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&t.isTrue(this._matrix[H.INTERIOR][H.EXTERIOR]):e===ke.L&&n===ke.P||e===ke.A&&n===ke.P||e===ke.A&&n===ke.L?t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&t.isTrue(this._matrix[H.EXTERIOR][H.INTERIOR]):e===ke.L&&n===ke.L&&0===this._matrix[H.INTERIOR][H.INTERIOR]}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(ke.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var e=arguments[0];t.constructor_.call(this),this.set(e)}else if(arguments[0]instanceof t){var n=arguments[0];t.constructor_.call(this),this._matrix[H.INTERIOR][H.INTERIOR]=n._matrix[H.INTERIOR][H.INTERIOR],this._matrix[H.INTERIOR][H.BOUNDARY]=n._matrix[H.INTERIOR][H.BOUNDARY],this._matrix[H.INTERIOR][H.EXTERIOR]=n._matrix[H.INTERIOR][H.EXTERIOR],this._matrix[H.BOUNDARY][H.INTERIOR]=n._matrix[H.BOUNDARY][H.INTERIOR],this._matrix[H.BOUNDARY][H.BOUNDARY]=n._matrix[H.BOUNDARY][H.BOUNDARY],this._matrix[H.BOUNDARY][H.EXTERIOR]=n._matrix[H.BOUNDARY][H.EXTERIOR],this._matrix[H.EXTERIOR][H.INTERIOR]=n._matrix[H.EXTERIOR][H.INTERIOR],this._matrix[H.EXTERIOR][H.BOUNDARY]=n._matrix[H.EXTERIOR][H.BOUNDARY],this._matrix[H.EXTERIOR][H.EXTERIOR]=n._matrix[H.EXTERIOR][H.EXTERIOR]}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return n===ke.SYM_DONTCARE||n===ke.SYM_TRUE&&(e>=0||e===ke.TRUE)||n===ke.SYM_FALSE&&e===ke.FALSE||n===ke.SYM_P&&e===ke.P||n===ke.SYM_L&&e===ke.L||n===ke.SYM_A&&e===ke.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var i=arguments[1];return new t(arguments[0]).matches(i)}}},{key:"isTrue",value:function(e){return e>=0||e===ke.TRUE}}]),t}(),ei=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(e){return null===e||0===e.length?null:(this.ensureCapacity(this._size+e.length),Ae.arraycopy(e,0,this._data,this._size,e.length),void(this._size+=e.length))}},{key:"ensureCapacity",value:function(e){if(e<=this._data.length)return null;var t=Math.max(e,2*this._data.length);this._data=Le.copyOf(this._data,t)}},{key:"toArray",value:function(){var e=new Array(this._size).fill(null);return Ae.arraycopy(this._data,0,e,0,this._size),e}},{key:"add",value:function(e){this.ensureCapacity(this._size+1),this._data[this._size]=e,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,0===arguments.length)t.constructor_.call(this,10);else if(1===arguments.length){var e=arguments[0];this._data=new Array(e).fill(null)}}}]),t}(),ti=function(){function t(){e(this,t)}return n(t,[{key:"getChainStartIndices",value:function(e){var t=0,n=new ei(Math.trunc(e.length/2));n.add(t);do{var i=this.findChainEnd(e,t);n.add(i),t=i}while(t<e.length-1);return n.toArray()}},{key:"findChainEnd",value:function(e,t){for(var n=Wt.quadrant(e[t],e[t+1]),i=t+1;i<e.length&&Wt.quadrant(e[i-1],e[i])===n;)i++;return i-1}},{key:"OLDgetChainStartIndices",value:function(e){var n=0,i=new ge;i.add(n);do{var r=this.findChainEnd(e,n);i.add(r),n=r}while(n<e.length-1);return t.toIntArray(i)}}],[{key:"toIntArray",value:function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t}}]),t}(),ni=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n}},{key:"getMinX",value:function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n}},{key:"computeIntersectsForChain",value:function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3],l=arguments[4],u=arguments[5];if(a-r==1&&l-s==1)return u.addIntersections(this.e,r,o.e,s),null;if(!this.overlaps(r,a,o,s,l))return null;var c=Math.trunc((r+a)/2),h=Math.trunc((s+l)/2);r<c&&(s<h&&this.computeIntersectsForChain(r,c,o,s,h,u),h<l&&this.computeIntersectsForChain(r,c,o,h,l,u)),c<a&&(s<h&&this.computeIntersectsForChain(c,a,o,s,h,u),h<l&&this.computeIntersectsForChain(c,a,o,h,l,u))}}},{key:"overlaps",value:function(e,t,n,i,r){return q.intersects(this.pts[e],this.pts[t],n.pts[i],n.pts[r])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<e.startIndex.length-1;i++)this.computeIntersectsForChain(n,e,i,t)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new ti;this.startIndex=t.getChainStartIndices(this.pts)}}]),t}(),ii=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getDepth",value:function(e,t){return this._depth[e][t]}},{key:"setDepth",value:function(e,t,n){this._depth[e][t]=n}},{key:"isNull",value:function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(this._depth[e][n]!==t.NULL_VALUE)return!1;return!0}if(1===arguments.length){var i=arguments[0];return this._depth[i][1]===t.NULL_VALUE}if(2===arguments.length){var r=arguments[0],a=arguments[1];return this._depth[r][a]===t.NULL_VALUE}}},{key:"normalize",value:function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),t<0&&(t=0);for(var n=1;n<3;n++){var i=0;this._depth[e][n]>t&&(i=1),this._depth[e][n]=i}}}},{key:"getDelta",value:function(e){return this._depth[e][$.RIGHT]-this._depth[e][$.LEFT]}},{key:"getLocation",value:function(e,t){return this._depth[e][t]<=0?H.EXTERIOR:H.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(1===arguments.length)for(var e=arguments[0],n=0;n<2;n++)for(var i=1;i<3;i++){var r=e.getLocation(n,i);r!==H.EXTERIOR&&r!==H.INTERIOR||(this.isNull(n,i)?this._depth[n][i]=t.depthAtLocation(r):this._depth[n][i]+=t.depthAtLocation(r))}else if(3===arguments.length){var a=arguments[0],o=arguments[1];arguments[2]===H.INTERIOR&&this._depth[a][o]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE}},{key:"depthAtLocation",value:function(e){return e===H.EXTERIOR?0:e===H.INTERIOR?1:t.NULL_VALUE}}]),t}();ii.NULL_VALUE=-1;var ri=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new o(e,Lt.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(e){this._isIsolated=e}},{key:"setName",value:function(e){this._name=e}},{key:"equals",value:function(e){if(!(e instanceof o))return!1;var t=e;if(this.pts.length!==t.pts.length)return!1;for(var n=!0,i=!0,r=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(t.pts[a])||(n=!1),this.pts[a].equals2D(t.pts[--r])||(i=!1),!n&&!i)return!1;return!0}},{key:"getCoordinate",value:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}}},{key:"print",value:function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(e){o.updateIM(this._label,e)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")}},{key:"getMonotoneChainEdge",value:function(){return null===this._mce&&(this._mce=new ni(this)),this._mce}},{key:"getEnvelope",value:function(){if(null===this._env){this._env=new q;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env}},{key:"addIntersection",value:function(e,t,n,i){var r=new U(e.getIntersection(i)),a=t,o=e.getEdgeDistance(n,i),s=a+1;if(s<this.pts.length){var l=this.pts[s];r.equals2D(l)&&(a=s,o=0)}this.eiList.add(r,a,o)}},{key:"toString",value:function(){var e=new Ke;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()}},{key:"isPointwiseEqual",value:function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0}},{key:"setDepthDelta",value:function(e){this._depthDelta=e}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(e,t,n){for(var i=0;i<e.getIntersectionNum();i++)this.addIntersection(e,t,n,i)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Jn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ii,this._depthDelta=0,1===arguments.length){var e=arguments[0];o.constructor_.call(this,e,null)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.pts=t,this._label=n}}},{key:"updateIM",value:function(){if(!(2===arguments.length&&arguments[1]instanceof $n&&arguments[0]instanceof Lt))return d(r(o),"updateIM",this).apply(this,arguments);var e=arguments[0],t=arguments[1];t.setAtLeastIfValid(e.getLocation(0,$.ON),e.getLocation(1,$.ON),1),e.isArea()&&(t.setAtLeastIfValid(e.getLocation(0,$.LEFT),e.getLocation(1,$.LEFT),2),t.setAtLeastIfValid(e.getLocation(0,$.RIGHT),e.getLocation(1,$.RIGHT),2))}}]),o}(Dt),ai=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"setWorkingPrecisionModel",value:function(e){this._workingPrecisionModel=e}},{key:"insertUniqueEdge",value:function(e){var n=this._edgeList.findEqualEdge(e);if(null!==n){var i=n.getLabel(),r=e.getLabel();n.isPointwiseEqual(e)||(r=new Lt(e.getLabel())).flip(),i.merge(r);var a=t.depthDelta(r),o=n.getDepthDelta()+a;n.setDepthDelta(o)}else this._edgeList.add(e),e.setDepthDelta(t.depthDelta(e.getLabel()))}},{key:"buildSubgraphs",value:function(e,t){for(var n=new ge,i=e.iterator();i.hasNext();){var r=i.next(),a=r.getRightmostCoordinate(),o=new Rn(n).getDepth(a);r.computeDepth(o),r.findResultEdges(),n.add(r),t.add(r.getDirectedEdges(),r.getNodes())}}},{key:"createSubgraphs",value:function(e){for(var t=new ge,n=e.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new ye;r.create(i),t.add(r)}}return on.sort(t,on.reverseOrder()),t}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new Sn,n=new Pt;return n.setPrecisionModel(e),t.setSegmentIntersector(new Zn(n)),t}},{key:"buffer",value:function(e,t){var n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var i=new Ln(n,this._bufParams),r=new jn(e,t,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new Jt(new Hn),this._graph.addEdges(this._edgeList.getEdges());var a=this.createSubgraphs(this._graph),o=new $t(this._geomFact);this.buildSubgraphs(a,o);var s=o.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)}},{key:"computeNodedEdges",value:function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),a=r.getCoordinates();if(2!==a.length||!a[0].equals2D(a[1])){var o=r.getData(),s=new ri(r.getCoordinates(),new Lt(o));this.insertUniqueEdge(s)}}}},{key:"setNoder",value:function(e){this._workingNoder=e}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Wn;var e=arguments[0];this._bufParams=e}},{key:"depthDelta",value:function(e){var t=e.getLocation(0,$.LEFT),n=e.getLocation(0,$.RIGHT);return t===H.INTERIOR&&n===H.EXTERIOR?1:t===H.EXTERIOR&&n===H.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(e){for(var t=new ot,n=new ge;e.hasNext();){var i=e.next(),r=t.createLineString(i.getCoordinates());n.add(r)}return t.buildGeometry(n)}}]),t}(),oi=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"rescale",value:function(){if(re(arguments[0],X))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&Ae.out.println(n)}}},{key:"scale",value:function(){if(re(arguments[0],X)){for(var e=arguments[0],t=new ge(e.size()),n=e.iterator();n.hasNext();){var i=n.next();t.add(new xn(this.scale(i.getCoordinates()),i.getData()))}return t}if(arguments[0]instanceof Array){for(var r=arguments[0],a=new Array(r.length).fill(null),o=0;o<r.length;o++)a[o]=new U(Math.round((r[o].x-this._offsetX)*this._scaleFactor),Math.round((r[o].y-this._offsetY)*this._scaleFactor),r[o].getZ());return We.removeRepeatedPoints(a)}}},{key:"isIntegerPrecision",value:function(){return 1===this._scaleFactor}},{key:"getNodedSubstrings",value:function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e}},{key:"computeNodes",value:function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)}},{key:"interfaces_",get:function(){return[Cn]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],n=arguments[1];t.constructor_.call(this,e,n,0,0)}else if(4===arguments.length){var i=arguments[0],r=arguments[1];this._noder=i,this._scaleFactor=r,this._isScaled=!this.isIntegerPrecision()}}}]),t}(),si=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"checkEndPtVertexIntersections",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next().getCoordinates();this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),a=1;a<r.length-1;a++)if(r[a].equals(n))throw new z("found endpt/interior pt intersection at index "+a+" :pt "+n)}},{key:"checkInteriorIntersections",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var t=e.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(t,i)}else if(2===arguments.length)for(var r=arguments[0],a=arguments[1],o=r.getCoordinates(),s=a.getCoordinates(),l=0;l<o.length-1;l++)for(var u=0;u<s.length-1;u++)this.checkInteriorIntersections(r,l,a,u);else if(4===arguments.length){var c=arguments[0],h=arguments[1],d=arguments[2],f=arguments[3];if(c===d&&h===f)return null;var p=c.getCoordinates()[h],g=c.getCoordinates()[h+1],m=d.getCoordinates()[f],y=d.getCoordinates()[f+1];if(this._li.computeIntersection(p,g,m,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,g)||this.hasInteriorIntersection(this._li,m,y)))throw new z("found non-noded intersection at "+p+"-"+g+" and "+m+"-"+y)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])}},{key:"hasInteriorIntersection",value:function(e,t,n){for(var i=0;i<e.getIntersectionNum();i++){var r=e.getIntersection(i);if(!r.equals(t)&&!r.equals(n))return!0}return!1}},{key:"checkCollapse",value:function(e,n,i){if(e.equals(i))throw new z("found non-noded collapse at "+t.fact.createLineString([e,n,i]))}}],[{key:"constructor_",value:function(){this._li=new Pt,this._segStrings=null;var e=arguments[0];this._segStrings=e}}]),t}();si.fact=new ot;var li=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"intersectsScaled",value:function(e,t){var n=Math.min(e.x,t.x),i=Math.max(e.x,t.x),r=Math.min(e.y,t.y),a=Math.max(e.y,t.y),o=this._maxx<n||this._minx>i||this._maxy<r||this._miny>a;if(o)return!1;var s=this.intersectsToleranceSquare(e,t);return D.isTrue(!(o&&s),"Found bad envelope test"),s}},{key:"initCorners",value:function(e){var t=.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new U(this._maxx,this._maxy),this._corner[1]=new U(this._minx,this._maxy),this._corner[2]=new U(this._minx,this._miny),this._corner[3]=new U(this._maxx,this._miny)}},{key:"intersects",value:function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(e){return Math.round(e*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)}},{key:"getSafeEnvelope",value:function(){if(null===this._safeEnv){var e=t.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new q(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(e,t){var n=!1,i=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!i)||!!e.equals(this._pt)||!!t.equals(this._pt))))}},{key:"addSnappedNode",value:function(e,t){var n=e.getCoordinate(t),i=e.getCoordinate(t+1);return!!this.intersects(n,i)&&(e.addIntersection(this.getCoordinate(),t),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new A("Scale factor must be non-zero");1!==t&&(this._pt=new U(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new U,this._p1Scaled=new U),this.initCorners(this._pt)}}]),t}();li.SAFE_ENV_EXPANSION_FACTOR=.75;var ui=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"select",value:function(){if(1!==arguments.length&&2===arguments.length){var e=arguments[1];arguments[0].getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new bn}}]),t}(),ci=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"snap",value:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var i=arguments[0],r=arguments[1],a=arguments[2],o=i.getSafeEnvelope(),s=new hi(i,r,a);return this._index.query(o,new(function(){function t(){e(this,t)}return n(t,[{key:"interfaces_",get:function(){return[un]}},{key:"visitItem",value:function(e){e.select(o,s)}}]),t}())),s.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var e=arguments[0];this._index=e}}]),t}(),hi=function(t){i(o,t);var a=h(o);function o(){var t;return e(this,o),t=a.call(this),o.constructor_.apply(u(t),arguments),t}return n(o,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof En))return d(r(o.prototype),"select",this).apply(this,arguments);var e=arguments[1],t=arguments[0].getContext();if(this._parentEdge===t&&(e===this._hotPixelVertexIndex||e+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(t,e)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this._hotPixel=e,this._parentEdge=t,this._hotPixelVertexIndex=n}}]),o}(ui);ci.HotPixelSnapAction=hi;var di=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"processIntersections",value:function(e,t,n,i){if(e===n&&t===i)return null;var r=e.getCoordinates()[t],a=e.getCoordinates()[t+1],o=n.getCoordinates()[i],s=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,a,o,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));e.addIntersections(this._li,t,0),n.addIntersections(this._li,i,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Yn]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new ge}}]),t}(),fi=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"checkCorrectness",value:function(e){var t=xn.getNodedSubstrings(e),n=new si(t);try{n.checkValid()}catch(i){if(!(i instanceof v))throw i;i.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return xn.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)}},{key:"findInteriorIntersections",value:function(e,t){var n=new di(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(re(arguments[0],X))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof xn)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var a=new li(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(a,n,r)&&n.addIntersection(i[r],r)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e,this._noder=new Sn,this._pointSnapper=new ci(this._noder.getIndex()),this.snapRound(e,this._li)}},{key:"computeIntersectionSnaps",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),i=new li(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}}},{key:"interfaces_",get:function(){return[Cn]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Pt,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()}}]),t}(),pi=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"bufferFixedPrecision",value:function(e){var t=new oi(new fi(new it(1)),e.getScale()),n=new ai(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(0===arguments.length){for(var e=t.MAX_PRECISION_DIGITS;e>=0;e--){try{this.bufferReducedPrecision(e)}catch(a){if(!(a instanceof fe))throw a;this._saveException=a}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=t.precisionScaleFactor(this._argGeom,this._distance,n),r=new it(i);this.bufferFixedPrecision(r)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===it.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(e){this._bufParams.setQuadrantSegments(e)}},{key:"bufferOriginalPrecision",value:function(){try{var e=new ai(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof z))throw t;this._saveException=t}}},{key:"getResultGeometry",value:function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(e){this._bufParams.setEndCapStyle(e)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new y,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._argGeom=t,this._bufParams=n}}},{key:"bufferOp",value:function(){if(2===arguments.length){var e=arguments[1];return new t(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof G&&"number"==typeof arguments[1]){var n=arguments[1],i=arguments[2],r=new t(arguments[0]);return r.setQuadrantSegments(i),r.getResultGeometry(n)}if(arguments[2]instanceof y&&arguments[0]instanceof G&&"number"==typeof arguments[1]){var a=arguments[1];return new t(arguments[0],arguments[2]).getResultGeometry(a)}}else if(4===arguments.length){var o=arguments[1],s=arguments[2],l=arguments[3],u=new t(arguments[0]);return u.setQuadrantSegments(s),u.setEndCapStyle(l),u.getResultGeometry(o)}}},{key:"precisionScaleFactor",value:function(e,t,n){var i=e.getEnvelopeInternal(),r=_e.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(t>0?t:0),a=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,a)}}]),t}();pi.CAP_ROUND=y.CAP_ROUND,pi.CAP_BUTT=y.CAP_FLAT,pi.CAP_FLAT=y.CAP_FLAT,pi.CAP_SQUARE=y.CAP_SQUARE,pi.MAX_PRECISION_DIGITS=12;var gi=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],mi=function(){function t(n){e(this,t),this.geometryFactory=n||new ot}return n(t,[{key:"read",value:function(e){var t,n=(t="string"==typeof e?JSON.parse(e):e).type;if(!yi[n])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==gi.indexOf(n)?yi[n].call(this,t.coordinates):"GeometryCollection"===n?yi[n].call(this,t.geometries):yi[n].call(this,t)}},{key:"write",value:function(e){var t=e.getGeometryType();if(!vi[t])throw new Error("Geometry is not supported");return vi[t].call(this,e)}}]),t}(),yi={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var i=e.geometry.type;if(!yi[i])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=yi.bbox.call(this,e.bbox)),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.call(this,e.bbox)),t},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push(s(U,f(i)))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new U(e[0],e[1]),new U(e[2],e[1]),new U(e[2],e[3]),new U(e[0],e[3]),new U(e[0],e[1])])},Point:function(e){var t=s(U,f(e));return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(yi.Point.call(this,e[n]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=yi.coordinates.call(this,e);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(yi.LineString.call(this,e[n]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=yi.coordinates.call(this,e[0]),n=this.geometryFactory.createLinearRing(t),i=[],r=1;r<e.length;++r){var a=e[r],o=yi.coordinates.call(this,a),s=this.geometryFactory.createLinearRing(o);i.push(s)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push(yi.Polygon.call(this,i))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push(this.read(i))}return this.geometryFactory.createGeometryCollection(t)}},vi={coordinate:function(e){var t=[e.x,e.y];return e.z&&t.push(e.z),e.m&&t.push(e.m),t},Point:function(e){return{type:"Point",coordinates:vi.coordinate.call(this,e.getCoordinate())}},MultiPoint:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var i=e._geometries[n],r=vi.Point.call(this,i);t.push(r.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),i=0;i<n.length;++i){var r=n[i];t.push(vi.coordinate.call(this,r))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var i=e._geometries[n],r=vi.LineString.call(this,i);t.push(r.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=vi.LineString.call(this,e._shell);t.push(n.coordinates);for(var i=0;i<e._holes.length;++i){var r=e._holes[i],a=vi.LineString.call(this,r);t.push(a.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var i=e._geometries[n],r=vi.Polygon.call(this,i);t.push(r.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var i=e._geometries[n],r=i.getGeometryType();t.push(vi[r].call(this,i))}return{type:"GeometryCollection",geometries:t}}};return{BufferOp:pi,GeoJSONReader:function(){function t(n){e(this,t),this.parser=new mi(n||new ot)}return n(t,[{key:"read",value:function(e){return this.parser.read(e)}}]),t}(),GeoJSONWriter:function(){function t(){e(this,t),this.parser=new mi(this.geometryFactory)}return n(t,[{key:"write",value:function(e){return this.parser.write(e)}}]),t}()}}()}(lf);const uf=si(lf.exports);function cf(){return new hf}function hf(){this.reset()}hf.prototype={constructor:hf,reset:function(){this.s=this.t=0},add:function(e){ff(df,e,this.t),ff(this,df.s,this.s),this.s?this.t+=df.t:this.s=df.t},valueOf:function(){return this.s}};var df=new hf;function ff(e,t,n){var i=e.s=t+n,r=i-t,a=i-r;e.t=t-a+(n-r)}var pf=1e-6,gf=Math.PI,mf=gf/2,yf=gf/4,vf=2*gf,Af=180/gf,_f=gf/180,xf=Math.abs,bf=Math.atan,wf=Math.atan2,Ef=Math.cos,If=Math.sin,Cf=Math.sqrt;function kf(e){return e>1?0:e<-1?gf:Math.acos(e)}function Sf(e){return e>1?mf:e<-1?-mf:Math.asin(e)}function Tf(){}function Pf(e,t){e&&Mf.hasOwnProperty(e.type)&&Mf[e.type](e,t)}var Nf={Feature:function(e,t){Pf(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Pf(n[i].geometry,t)}},Mf={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Bf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Bf(n[i],t,0)},Polygon:function(e,t){Lf(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Lf(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Pf(n[i],t)}};function Bf(e,t,n){var i,r=-1,a=e.length-n;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function Lf(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Bf(e[n],t,1);t.polygonEnd()}function Rf(e){return[wf(e[1],e[0]),Sf(e[2])]}function zf(e){var t=e[0],n=e[1],i=Ef(n);return[i*Ef(t),i*If(t),If(n)]}function Of(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Df(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ff(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function jf(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Qf(e){var t=Cf(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Uf(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}function Vf(e,t){return[e>gf?e-vf:e<-gf?e+vf:e,t]}function qf(e){return function(t,n){return[(t+=e)>gf?t-vf:t<-gf?t+vf:t,n]}}function Gf(e){var t=qf(e);return t.invert=qf(-e),t}function Hf(e,t){var n=Ef(e),i=If(e),r=Ef(t),a=If(t);function o(e,t){var o=Ef(t),s=Ef(e)*o,l=If(e)*o,u=If(t),c=u*n+s*i;return[wf(l*r-c*a,s*n-u*i),Sf(c*r+l*a)]}return o.invert=function(e,t){var o=Ef(t),s=Ef(e)*o,l=If(e)*o,u=If(t),c=u*r-l*a;return[wf(l*r+u*a,s*n+c*i),Sf(c*n-s*i)]},o}function Xf(e,t){(t=zf(t))[0]-=e,Qf(t);var n=kf(-t[1]);return((-t[2]<0?-n:n)+vf-pf)%vf}function Wf(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Tf,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Yf(e,t){return xf(e[0]-t[0])<pf&&xf(e[1]-t[1])<pf}function Zf(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Kf(e,t,n,i,r){var a,o,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],o=e[t];if(Yf(i,o)){for(r.lineStart(),a=0;a<t;++a)r.point((i=e[a])[0],i[1]);return void r.lineEnd()}s.push(n=new Zf(i,e,null,!0)),l.push(n.o=new Zf(i,null,n,!1)),s.push(n=new Zf(o,e,null,!1)),l.push(n.o=new Zf(o,null,n,!0))}})),s.length){for(l.sort(t),Jf(s),Jf(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var u,c,h=s[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;u=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(a=0,o=u.length;a<o;++a)r.point((c=u[a])[0],c[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(u=d.p.z,a=u.length-1;a>=0;--a)r.point((c=u[a])[0],c[1]);else i(d.x,d.p.x,-1,r);d=d.p}u=(d=d.o).z,f=!f}while(!d.v);r.lineEnd()}}}function Jf(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function $f(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ep(e){for(var t,n,i,r=e.length,a=-1,o=0;++a<r;)o+=e[a].length;for(n=new Array(o);--r>=0;)for(t=(i=e[r]).length;--t>=0;)n[--o]=i[t];return n}cf(),cf(),cf(),Vf.invert=Vf,function(e){1===e.length&&(e=function(e){return function(t,n){return $f(e(t),n)}}(e))}($f);var tp=1e9,np=-tp;function ip(e,t,n,i){function r(r,a){return e<=r&&r<=n&&t<=a&&a<=i}function a(r,a,s,u){var c=0,h=0;if(null==r||(c=o(r,s))!==(h=o(a,s))||l(r,a)<0^s>0)do{u.point(0===c||3===c?e:n,c>1?i:t)}while((c=(c+s+4)%4)!==h);else u.point(a[0],a[1])}function o(i,r){return xf(i[0]-e)<pf?r>0?0:3:xf(i[0]-n)<pf?r>0?2:1:xf(i[1]-t)<pf?r>0?1:0:r>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=o(e,1),i=o(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var l,u,c,h,d,f,p,g,m,y,v,A=o,_=Wf(),x={point:b,lineStart:function(){x.point=w,u&&u.push(c=[]),y=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(w(h,d),f&&m&&_.rejoin(),l.push(_.result())),x.point=b,m&&A.lineEnd()},polygonStart:function(){A=_,l=[],u=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,r=u.length;n<r;++n)for(var a,o,s=u[n],l=1,c=s.length,h=s[0],d=h[0],f=h[1];l<c;++l)a=d,o=f,h=s[l],d=h[0],f=h[1],o<=i?f>i&&(d-a)*(i-o)>(f-o)*(e-a)&&++t:f<=i&&(d-a)*(i-o)<(f-o)*(e-a)&&--t;return t}(),n=v&&t,r=(l=ep(l)).length;(n||r)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),r&&Kf(l,s,t,a,o),o.polygonEnd()),A=o,l=u=c=null}};function b(e,t){r(e,t)&&A.point(e,t)}function w(a,o){var s=r(a,o);if(u&&c.push([a,o]),y)h=a,d=o,f=s,y=!1,s&&(A.lineStart(),A.point(a,o));else if(s&&m)A.point(a,o);else{var l=[p=Math.max(np,Math.min(tp,p)),g=Math.max(np,Math.min(tp,g))],_=[a=Math.max(np,Math.min(tp,a)),o=Math.max(np,Math.min(tp,o))];!function(e,t,n,i,r,a){var o,s=e[0],l=e[1],u=0,c=1,h=t[0]-s,d=t[1]-l;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>u&&(u=o)}if(o=r-s,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<c&&(c=o)}if(o=i-l,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<c&&(c=o)}else if(d>0){if(o>c)return;o>u&&(u=o)}if(o=a-l,d||!(o<0)){if(o/=d,d<0){if(o>c)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<c&&(c=o)}return u>0&&(e[0]=s+u*h,e[1]=l+u*d),c<1&&(t[0]=s+c*h,t[1]=l+c*d),!0}}}}}(l,_,e,t,n,i)?s&&(A.lineStart(),A.point(a,o),v=!1):(m||(A.lineStart(),A.point(l[0],l[1])),A.point(_[0],_[1]),s||A.lineEnd(),v=!1)}p=a,g=o,m=s}return x}}var rp=cf();function ap(e){return e}cf(),cf(),cf();var op=1/0,sp=op,lp=-op,up=lp,cp={point:function(e,t){e<op&&(op=e),e>lp&&(lp=e),t<sp&&(sp=t),t>up&&(up=t)},lineStart:Tf,lineEnd:Tf,polygonStart:Tf,polygonEnd:Tf,result:function(){var e=[[op,sp],[lp,up]];return lp=up=-(sp=op=1/0),e}};function hp(e,t,n,i){return function(r,a){var o,s,l,u=t(a),c=r.invert(i[0],i[1]),h=Wf(),d=t(h),f=!1,p={point:g,lineStart:y,lineEnd:v,polygonStart:function(){p.point=A,p.lineStart=_,p.lineEnd=x,s=[],o=[]},polygonEnd:function(){p.point=g,p.lineStart=y,p.lineEnd=v,s=ep(s);var e=function(e,t){var n=t[0],i=t[1],r=[If(n),-Ef(n),0],a=0,o=0;rp.reset();for(var s=0,l=e.length;s<l;++s)if(c=(u=e[s]).length)for(var u,c,h=u[c-1],d=h[0],f=h[1]/2+yf,p=If(f),g=Ef(f),m=0;m<c;++m,d=v,p=_,g=x,h=y){var y=u[m],v=y[0],A=y[1]/2+yf,_=If(A),x=Ef(A),b=v-d,w=b>=0?1:-1,E=w*b,I=E>gf,C=p*_;if(rp.add(wf(C*w*If(E),g*x+C*Ef(E))),a+=I?b+w*vf:b,I^d>=n^v>=n){var k=Df(zf(h),zf(y));Qf(k);var S=Df(r,k);Qf(S);var T=(I^b>=0?-1:1)*Sf(S[2]);(i>T||i===T&&(k[0]||k[1]))&&(o+=I^b>=0?1:-1)}}return(a<-pf||a<pf&&rp<-pf)^1&o}(o,c);s.length?(f||(a.polygonStart(),f=!0),Kf(s,fp,e,n,a)):e&&(f||(a.polygonStart(),f=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),s=o=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function g(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&a.point(t,n)}function m(e,t){var n=r(e,t);u.point(n[0],n[1])}function y(){p.point=m,u.lineStart()}function v(){p.point=g,u.lineEnd()}function A(e,t){l.push([e,t]);var n=r(e,t);d.point(n[0],n[1])}function _(){d.lineStart(),l=[]}function x(){A(l[0][0],l[0][1]),d.lineEnd();var e,t,n,i,r=d.clean(),u=h.result(),c=u.length;if(l.pop(),o.push(l),l=null,c){if(1&r){if((t=(n=u[0]).length-1)>0){for(f||(a.polygonStart(),f=!0),a.lineStart(),e=0;e<t;++e)a.point((i=n[e])[0],i[1]);a.lineEnd()}return}c>1&&2&r&&u.push(u.pop().concat(u.shift())),s.push(u.filter(dp))}}return p}}function dp(e){return e.length>1}function fp(e,t){return((e=e.x)[0]<0?e[1]-mf-pf:mf-e[1])-((t=t.x)[0]<0?t[1]-mf-pf:mf-t[1])}cf();const pp=hp((function(){return!0}),(function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?gf:-gf,l=xf(a-n);xf(l-gf)<pf?(e.point(n,i=(i+o)/2>0?mf:-mf),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(a,i),t=0):r!==s&&l>=gf&&(xf(n-r)<pf&&(n-=r*pf),xf(a-s)<pf&&(a-=s*pf),i=function(e,t,n,i){var r,a,o=If(e-n);return xf(o)>pf?bf((If(t)*(a=Ef(i))*If(n)-If(i)*(r=Ef(t))*If(e))/(r*a*o)):(t+i)/2}(n,i,a,o),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=a,i=o),r=s},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}}),(function(e,t,n,i){var r;if(null==e)r=n*mf,i.point(-gf,r),i.point(0,r),i.point(gf,r),i.point(gf,0),i.point(gf,-r),i.point(0,-r),i.point(-gf,-r),i.point(-gf,0),i.point(-gf,r);else if(xf(e[0]-t[0])>pf){var a=e[0]<t[0]?gf:-gf;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(t[0],t[1])}),[-gf,-mf]);function gp(e,t){var n=Ef(e),i=n>0,r=xf(n)>pf;function a(e,t){return Ef(e)*Ef(t)>n}function o(e,t,i){var r=[1,0,0],a=Df(zf(e),zf(t)),o=Of(a,a),s=a[0],l=o-s*s;if(!l)return!i&&e;var u=n*o/l,c=-n*s/l,h=Df(r,a),d=jf(r,u);Ff(d,jf(a,c));var f=h,p=Of(d,f),g=Of(f,f),m=p*p-g*(Of(d,d)-1);if(!(m<0)){var y=Cf(m),v=jf(f,(-p-y)/g);if(Ff(v,d),v=Rf(v),!i)return v;var A,_=e[0],x=t[0],b=e[1],w=t[1];x<_&&(A=_,_=x,x=A);var E=x-_,I=xf(E-gf)<pf;if(!I&&w<b&&(A=b,b=w,w=A),I||E<pf?I?b+w>0^v[1]<(xf(v[0]-_)<pf?b:w):b<=v[1]&&v[1]<=w:E>gf^(_<=v[0]&&v[0]<=x)){var C=jf(f,(-p+y)/g);return Ff(C,d),[v,Rf(C)]}}}function s(t,n){var r=i?e:gf-e,a=0;return t<-r?a|=1:t>r&&(a|=2),n<-r?a|=4:n>r&&(a|=8),a}return hp(a,(function(e){var t,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,d){var f,p=[h,d],g=a(h,d),m=i?g?0:s(h,d):g?s(h+(h<0?gf:-gf),d):0;if(!t&&(u=l=g)&&e.lineStart(),g!==l&&((!(f=o(t,p))||Yf(t,f)||Yf(p,f))&&(p[0]+=pf,p[1]+=pf,g=a(p[0],p[1]))),g!==l)c=0,g?(e.lineStart(),f=o(p,t),e.point(f[0],f[1])):(f=o(t,p),e.point(f[0],f[1]),e.lineEnd()),t=f;else if(r&&t&&i^g){var y;!(m&n)&&(y=o(p,t,!0))&&(c=0,i?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}g&&(!t||!Yf(t,p))&&e.point(p[0],p[1]),t=p,l=g,n=m},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),(function(n,i,r,a){!function(e,t,n,i,r,a){if(n){var o=Ef(t),s=If(t),l=i*n;null==r?(r=t+i*vf,a=t-l/2):(r=Xf(o,r),a=Xf(o,a),(i>0?r<a:r>a)&&(r+=i*vf));for(var u,c=r;i>0?c>a:c<a;c-=l)u=Rf([o,-s*Ef(c),-s*If(c)]),e.point(u[0],u[1])}}(a,e,t,r,n,i)}),i?[0,-e]:[-gf,e-gf])}function mp(e){return function(t){var n=new yp;for(var i in e)n[i]=e[i];return n.stream=t,n}}function yp(){}function vp(e,t,n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],a=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),function(e,t){e&&Nf.hasOwnProperty(e.type)?Nf[e.type](e,t):Pf(e,t)}(n,e.stream(cp));var o=cp.result(),s=Math.min(i/(o[1][0]-o[0][0]),r/(o[1][1]-o[0][1])),l=+t[0][0]+(i-s*(o[1][0]+o[0][0]))/2,u=+t[0][1]+(r-s*(o[1][1]+o[0][1]))/2;return null!=a&&e.clipExtent(a),e.scale(150*s).translate([l,u])}yp.prototype={constructor:yp,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ap=16,_p=Ef(30*_f);function xp(e,t){return+t?function(e,t){function n(i,r,a,o,s,l,u,c,h,d,f,p,g,m){var y=u-i,v=c-r,A=y*y+v*v;if(A>4*t&&g--){var _=o+d,x=s+f,b=l+p,w=Cf(_*_+x*x+b*b),E=Sf(b/=w),I=xf(xf(b)-1)<pf||xf(a-h)<pf?(a+h)/2:wf(x,_),C=e(I,E),k=C[0],S=C[1],T=k-i,P=S-r,N=v*T-y*P;(N*N/A>t||xf((y*T+v*P)/A-.5)>.3||o*d+s*f+l*p<_p)&&(n(i,r,a,o,s,l,k,S,I,_/=w,x/=w,b,g,m),m.point(k,S),n(k,S,I,_,x,b,u,c,h,d,f,p,g,m))}}return function(t){var i,r,a,o,s,l,u,c,h,d,f,p,g={point:m,lineStart:y,lineEnd:A,polygonStart:function(){t.polygonStart(),g.lineStart=_},polygonEnd:function(){t.polygonEnd(),g.lineStart=y}};function m(n,i){n=e(n,i),t.point(n[0],n[1])}function y(){c=NaN,g.point=v,t.lineStart()}function v(i,r){var a=zf([i,r]),o=e(i,r);n(c,h,u,d,f,p,c=o[0],h=o[1],u=i,d=a[0],f=a[1],p=a[2],Ap,t),t.point(c,h)}function A(){g.point=m,t.lineEnd()}function _(){y(),g.point=x,g.lineEnd=b}function x(e,t){v(i=e,t),r=c,a=h,o=d,s=f,l=p,g.point=v}function b(){n(c,h,u,d,f,p,r,a,i,o,s,l,Ap,t),g.lineEnd=A,A()}return g}}(e,t):function(e){return mp({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var bp=mp({point:function(e,t){this.stream.point(e*_f,t*_f)}});function wp(e){return function(e){var t,n,i,r,a,o,s,l,u,c,h=150,d=480,f=250,p=0,g=0,m=0,y=0,v=0,A=null,_=pp,x=null,b=ap,w=.5,E=xp(k,w);function I(e){return[(e=a(e[0]*_f,e[1]*_f))[0]*h+n,i-e[1]*h]}function C(e){return(e=a.invert((e[0]-n)/h,(i-e[1])/h))&&[e[0]*Af,e[1]*Af]}function k(e,r){return[(e=t(e,r))[0]*h+n,i-e[1]*h]}function S(){a=Uf(r=function(e,t,n){return(e%=vf)?t||n?Uf(Gf(e),Hf(t,n)):Gf(e):t||n?Hf(t,n):Vf}(m,y,v),t);var e=t(p,g);return n=d-e[0]*h,i=f+e[1]*h,T()}function T(){return u=c=null,I}return I.stream=function(e){return u&&c===e?u:u=bp(_(r,E(b(c=e))))},I.clipAngle=function(e){return arguments.length?(_=+e?gp(A=e*_f,6*_f):(A=null,pp),T()):A*Af},I.clipExtent=function(e){return arguments.length?(b=null==e?(x=o=s=l=null,ap):ip(x=+e[0][0],o=+e[0][1],s=+e[1][0],l=+e[1][1]),T()):null==x?null:[[x,o],[s,l]]},I.scale=function(e){return arguments.length?(h=+e,S()):h},I.translate=function(e){return arguments.length?(d=+e[0],f=+e[1],S()):[d,f]},I.center=function(e){return arguments.length?(p=e[0]%360*_f,g=e[1]%360*_f,S()):[p*Af,g*Af]},I.rotate=function(e){return arguments.length?(m=e[0]%360*_f,y=e[1]%360*_f,v=e.length>2?e[2]%360*_f:0,S()):[m*Af,y*Af,v*Af]},I.precision=function(e){return arguments.length?(E=xp(k,w=e*e),T()):Cf(w)},I.fitExtent=function(e,t){return vp(I,e,t)},I.fitSize=function(e,t){return function(e,t,n){return vp(e,[[0,0],t],n)}(I,e,t)},function(){return t=e.apply(this,arguments),I.invert=t.invert&&C,S()}}((function(){return e}))()}function Ep(e){return function(t,n){var i=Ef(t),r=Ef(n),a=e(i*r);return[a*r*If(t),a*If(n)]}}function Ip(e){return function(t,n){var i=Cf(t*t+n*n),r=e(i),a=If(r),o=Ef(r);return[wf(t*a,i*o),Sf(i&&n*a/i)]}}var Cp=Ep((function(e){return Cf(2/(1+e))}));Cp.invert=Ip((function(e){return 2*Sf(e/2)}));var kp=Ep((function(e){return(e=kf(e))&&e/If(e)}));function Sp(e,t){return[e,t]}kp.invert=Ip((function(e){return e})),Sp.invert=Sp;var Tp=Object.defineProperty,Pp=(e,t)=>Tp(e,"name",{value:t,configurable:!0}),{BufferOp:Np,GeoJSONReader:Mp,GeoJSONWriter:Bp}=uf;function Lp(e,t,n){var i=(n=n||{}).units||"kilometers",r=n.steps||8;if(!e)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var a=[];switch(e.type){case"GeometryCollection":return Ad(e,(function(e){var n=Rp(e,t,i,r);n&&a.push(n)})),rh(a);case"FeatureCollection":return vd(e,(function(e){var n=Rp(e,t,i,r);n&&vd(n,(function(e){e&&a.push(e)}))})),rh(a)}return Rp(e,t,i,r)}function Rp(e,t,n,i){var r=e.properties||{},a="Feature"===e.type?e.geometry:e;if("GeometryCollection"===a.type){var o=[];return Ad(e,(function(e){var r=Rp(e,t,n,i);r&&o.push(r)})),rh(o)}var s=Fp(a),l={type:a.type,coordinates:Op(a.coordinates,s)},u=(new Mp).read(l),c=lh(uh(t,n),"meters"),h=Np.bufferOp(u,c,i);if(!zp((h=(new Bp).write(h)).coordinates))return eh({type:h.type,coordinates:Dp(h.coordinates,s)},r)}function zp(e){return Array.isArray(e[0])?zp(e[0]):isNaN(e[0])}function Op(e,t){return"object"!=typeof e[0]?t(e):e.map((function(e){return Op(e,t)}))}function Dp(e,t){return"object"!=typeof e[0]?t.invert(e):e.map((function(e){return Dp(e,t)}))}function Fp(e){var t=sf(e).geometry.coordinates,n=[-t[0],-t[1]];return wp(kp).scale(79.4188).clipAngle(179.999).rotate(n).scale(Kc)}Pp(Lp,"buffer"),Pp(Rp,"bufferFeature"),Pp(zp,"coordsIsNaN"),Pp(Op,"projectCoords"),Pp(Dp,"unprojectCoords"),Pp(Fp,"defineProjection");var jp=Lp,Qp=Object.defineProperty;function Up(e){const t=[];if(Ad(e,(e=>{t.push(e.coordinates)})),t.length<2)throw new Error("Must have at least two features");const n=e.features[0].properties||{},i=fd(t[0],...t.slice(1));return 0===i.length?null:1===i.length?nh(i[0],n):sh(i,n)}((e,t)=>{Qp(e,"name",{value:t,configurable:!0})})(Up,"difference");var Vp=Up;function qp(e){let t;for(const n of e)t&&n[0]-t[0]>=180?n[0]-=360:t&&n[0]-t[0]<-180&&(n[0]+=360),t=n}function Gp(e,t){const n=Vp(rh([nh([[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]]),e]));if(!n)return;n.properties={isMask:"y"};const i=jp(e,0);if(i){if("Polygon"===i.geometry.type)for(const e of i.geometry.coordinates)qp(e);else for(const e of i.geometry.coordinates)for(const t of e)qp(t);t(rh([i,n]))}}const Hp=rh([]);function Xp(){const e=(0,t.useRef)(null),n=(0,t.useRef)(null),[i]=(0,t.useState)(11),[r]=(0,t.useState)(51),[a]=(0,t.useState)(14),[o]=(0,t.useState)("RW8yjePMGPa0iGbfofrz"),[s,l]=(0,t.useState)();return(0,t.useEffect)((()=>{n.current||(n.current=new(Ke().Map)({container:e.current,style:"https://api.maptiler.com/maps/streets-v2/style.json?key=".concat(o),center:[i,r],zoom:a}),n.current.addControl(new(Ke().NavigationControl),"top-right"),l(function(e,t){let n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{fill:{paint:{"fill-color":"#000","fill-opacity":.1},filter:["all",["==",["geometry-type"],"Polygon"],["has","isMask"]]},line:{layout:{"line-cap":"square"},paint:{"line-width":["case",["==",["geometry-type"],"Polygon"],2,3],"line-dasharray":[1,1],"line-color":"#3170fe"},filter:["!",["has","isMask"]]}};const l=[];let u,c,h;function d(){!e.getSource("full-geom")&&(null!=s&&s.fill||null!=s&&s.line)&&e.addSource("full-geom",{type:"geojson",data:Hp}),!e.getLayer("full-geom-fill")&&null!=s&&s.fill&&e.addLayer({...null==s?void 0:s.fill,id:"full-geom-fill",type:"fill",source:"full-geom"}),!e.getLayer("full-geom-line")&&null!=s&&s.line&&e.addLayer({...null==s?void 0:s.line,id:"full-geom-line",type:"line",source:"full-geom"}),h&&g(h)}e.loaded()?d():e.once("load",(()=>{d()})),e.on("styledata",(()=>{d()}));const f=e=>{null==n||n({type:"mapClick",coordinates:[e.lngLat.lng,e.lngLat.lat]})};function p(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)throw new Error;const n=document.createElement("div");return e&&n.classList.add("marker-interactive"),new nf({props:{displayIn:"maplibre"},target:n}),new t.Marker({element:n,offset:[1,-13]})}function g(t){var n;h=t,null==(n=e.getSource("full-geom"))||n.setData(t)}return{setEventHandler(t){t?(n=t,e.on("click",f)):(n=void 0,e.off("click",f))},flyTo(t,n){e.flyTo({center:t,zoom:n,...a})},fitBounds(t,n,i){e.fitBounds([[t[0],t[1]],[t[2],t[3]]],{padding:n,maxZoom:i,...o})},indicateReverse(t){e.getCanvasContainer().style.cursor=t?"crosshair":""},setReverseMarker(n){!t||!i||(c?n?c.setLngLat(n):(c.remove(),c=void 0):n&&(c=("object"==typeof i?new t.Marker(i):p()).setLngLat(n).addTo(e),c.getElement().classList.add("marker-reverse")))},setMarkers(a,o){if(i){for(const e of l)e.remove();if(l.length=0,g(Hp),t){if(o){let n=!1;if("GeometryCollection"===o.geometry.type){const e=o.geometry.geometries.filter((e=>"Polygon"===e.type||"MultiPolygon"===e.type));e:if(e.length>0){const t=Id(rh(e.map((e=>eh(e)))));if(!t)break e;Gp({...o,geometry:t.geometry},g),n=!0}else{const e=o.geometry.geometries.filter((e=>"LineString"===e.type||"MultiLineString"===e.type));e.length>0&&(g({...o,geometry:{type:"GeometryCollection",geometries:e}}),n=!0)}}if(!n)if("Polygon"===o.geometry.type||"MultiPolygon"===o.geometry.type)Gp(o,g);else if("LineString"===o.geometry.type||"MultiLineString"===o.geometry.type)return void g(o);i&&l.push(("object"==typeof i?new t.Marker(i):p()).setLngLat(o.center).addTo(e))}if(r)for(const i of null!==a&&void 0!==a?a:[]){if(i===o)continue;const a=("object"==typeof r?new t.Marker(r):p(!0)).setLngLat(i.center).setPopup(new t.Popup({offset:[1,-27],closeButton:!1,closeOnMove:!0,className:"maptiler-gc-popup"}).setText("reverse"===i.place_type[0]?i.place_name:i.place_name.replace(/,.*/,""))).addTo(e),s=a.getElement();s.addEventListener("click",(e=>{e.stopPropagation(),null==n||n({type:"markerClick",id:i.id})})),s.addEventListener("mouseenter",(()=>{null==n||n({type:"markerMouseEnter",id:i.id}),a.togglePopup()})),s.addEventListener("mouseleave",(()=>{null==n||n({type:"markerMouseLeave",id:i.id}),a.togglePopup()})),l.push(a)}}}},setSelectedMarker(e){u&&u.getElement().classList.toggle("marker-selected",!1),u=e>-1?l[e]:void 0,null==u||u.getElement().classList.toggle("marker-selected",!0)},getCenterAndZoom(){const t=e.getCenter();return[e.getZoom(),t.lng,t.lat]}}}(n.current,Ke())))}),[o,i,r,a]),(0,Be.jsxs)("div",{className:"map-wrap",children:[(0,Be.jsx)("div",{className:"searchbar",children:(0,Be.jsx)(ii,{apiKey:o,mapController:s})}),(0,Be.jsx)("div",{ref:e,className:"map"})]})}const Wp=()=>{(0,t.useContext)(We);const e=ee(),[n,i]=(0,t.useState)(""),[r,a]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),[l,u]=(0,t.useState)(""),[c,h]=(0,t.useState)({});return(0,Be.jsx)(t.Fragment,{children:(0,Be.jsxs)(qe,{currPage:"2",handleSubmit:()=>{const t=(()=>{let e={};return n.trim()||(e.buildingName="Building/ Society Name is required."),r.trim()||(e.locality="Locality/ Area is required."),l.trim()||(e.city="City is required."),e})();Object.keys(t).length>0?h(t):(h({}),e("/list-your-property/features-and-amenities"))},children:[(0,Be.jsxs)("div",{className:"square",style:{marginTop:"-3rem"},children:[(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:["Building/ Society Name ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsx)("input",{type:"text",placeholder:"Enter Apartment Name",className:"text-box",value:n,onChange:e=>i(e.target.value)}),c.buildingName&&(0,Be.jsx)("p",{className:"error",children:c.buildingName})]}),(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:["Locality / Area ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsx)("input",{type:"text",placeholder:"Eg : sheetal nagar",className:"text-box",value:r,onChange:e=>a(e.target.value)}),c.locality&&(0,Be.jsx)("p",{className:"error",children:c.locality})]})]}),(0,Be.jsxs)("div",{className:"square",style:{marginTop:"1rem"},children:[(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsx)("p",{children:"Landmark / Street Name"}),(0,Be.jsx)("input",{type:"text",placeholder:"Prominent Landmark",className:"text-box",value:o,onChange:e=>s(e.target.value)})]}),(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsx)("p",{children:"City"}),(0,Be.jsx)("input",{type:"text",placeholder:"Mumbai, Maharashtra",className:"text-box",value:l,onChange:e=>u(e.target.value)}),c.city&&(0,Be.jsx)("p",{className:"error",children:c.city})]})]}),(0,Be.jsx)(Xp,{})]})})},Yp="data:image/png;base64,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",Zp="data:image/png;base64,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",Kp="data:image/png;base64,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",Jp="data:image/png;base64,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",$p="data:image/png;base64,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",eg="data:image/png;base64,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",tg="data:image/png;base64,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",ng="data:image/png;base64,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",ig="data:image/png;base64,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t+kibA6FdNE0lSvL5m9gym34Uf7DtFyu15wAgRUJlDvuc0cH+zY7f9sSY/wrfx5jHHJoHJj/LFu2faxcrtecAIEVCZQ78ILhkY44Hsbp59ezfd//m5f1fb9JBDHGm7ysCI90AfbnurncirhsCgECWeAlwqOo+9cF0+eCqQgPF0wzoDmBNQsIjzWPjm0jsGIB4bHiwbFpBNYsIDzWPDq2jcCKBYTHigfHphFYs4DwWPPo2DYCKxYQHiseHJtGYM0CwmPNo2PbCKxYQHiseHBsGoE1C6wtPNJvYNbsZdsIEBgFyvAof7yWlu+byh/ApSr2/bYl4875VW3f91/TXabpmR7jj+2u9z33I9dtToDAKwuU4VHcIv7rcYF7lv3voT9LhUd6jse0ra7rPr0yj+YJEDgksJbwSNs3Bkh+MlkKsK+HtttyAgQI/CYw/tr2xmnLbzQWECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBA4GUE/gODAGqsKYQ0EgAAAABJRU5ErkJggg==",rg="data:image/png;base64,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",ag="data:image/png;base64,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",og="data:image/png;base64,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",sg="data:image/png;base64,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",lg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAADACAYAAAD1JI3VAAAAAXNSR0IArs4c6QAAFCJJREFUeAHtnb2O5EQXhrmEvYS9hL2EvYS9g51LmGRHtnskWoQQsBIhwSIRgrQbECKxASFoichgSCCkQ8L59m3V6e90uapc7rE97plnpJbddrl+Hvu8depUteeTT/iDAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEILAUgaZpnjdN8zp8ni9VLuVAAAJnRODy8vKJiUXXdbuu6279p23bm67r3lxdXb04o2ZRVQhAYGoCQSwu2rb9KSUWXjii/V3btm+bprlomubp1PUiPwhAYGUEZOht214GsTjyKiJxqD6nvBCRld1oqgOBuxIIQ5BP27b9UCsOn3322e33339/+913391qv/Y6lUFc5K53jOshcA8EhuIVORGQQPzwww+3f/zxx238p2MSkc8//3yMiOzjIhKue8BAkRCAwBABi1cogDkmXvH111/f/vjjj0mx+PPPP2/1if/+/vvv/TVfffVVtYioThYXUV2H2sN5CEBgJgIywFPiFRKLn3/++fbff/+NNeHouzwMpS39KY9ff/11ny7nyaSOExeZ6aEgWwikCCi42TSN4hWaCanq8S1e8csvv9z+999/JR04nJMgWP611yidROTbb78dHRfpum6LJ5K64xyDwAQEFC8wgy5tfbyixvA1JFEw1D4yfstfXocd1/aff/45CExpZ2xc5Pr6mljIBM8IWUCgR6AkHApc5uIVJQO3c/IySsFPCUgqcGrXl7a6ToHXUlwE4ejdbg5AYBoCsXB88cUXVfGKklHH52Tg5m3YVsem+pNAKcYST/MiHNM8I+QCgR6BWDiGgpenGLsfpphwzFGO8rT8tUU4erebAxCYhkAsHHL9p/yzoKiMerfb7WdeTEhqYiW1dUkNixCOaZ4RcoFAj0DXdc98L639KYcRmhVJxTF0XJ8p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",ug="data:image/png;base64,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",cg="data:image/png;base64,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",hg="data:image/png;base64,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",dg="data:image/png;base64,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",fg=()=>{const e=(0,t.useContext)(We),n=t=>{e.amenities.includes(t.target.value)?e.setAmenities(e.amenities.filter((e=>e!==t.target.value))):e.setAmenities([...e.amenities,t.target.value])};return(0,t.useEffect)((()=>{e.setAmenities(e.amenities),console.log(e.amenities)}),[e.amenities]),(0,Be.jsxs)("div",{className:"features-pic-container",children:[(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:lg,alt:"security",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"security",name:"security",value:"security",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:Yp,alt:"cctv",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"cctv",name:"cctv",value:"cctv",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:ig,alt:"lift",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"lift",name:"lift",value:"lift",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:ag,alt:"parking",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"parking",name:"parking",value:"parking",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:dg,alt:"watersupply",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"watersupply",name:"watersupply",value:"watersupply",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:sg,alt:"powerpartial",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"powerpartial",name:"powerpartial",value:"powerpartial",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:og,alt:"powerfull",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"powerfull",name:"powerfull",value:"powerfull",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:rg,alt:"maintainence",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"maintainence",name:"maintainence",value:"maintainence",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:$p,alt:"garden",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"garden",name:"garden",value:"garden",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:ng,alt:"kidsarea",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"kidsarea",name:"kidsarea",value:"kidsarea",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:cg,alt:"sport",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"sport",name:"sport",value:"sport",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:eg,alt:"gym",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"gym",name:"gym",value:"gym",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:Kp,alt:"communityhall",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"communityhall",name:"communityhall",value:"communityhall",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:ug,alt:"shoppingcenter",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"shoppingcenter",name:"shoppingcenter",value:"shoppingcenter",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:Zp,alt:"clubhouse",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"clubhouse",name:"clubhouse",value:"clubhouse",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:hg,alt:"swimmingpool",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"swimmingpool",name:"swimmingpool",value:"swimmingpool",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:tg,alt:"intercom",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"intercom",name:"intercom",value:"intercom",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:Jp,alt:"firesafety",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"firesafety",name:"firesafety",value:"firesafety",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:Zp,alt:"clubhouse",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"clubhouse",name:"clubhouse",value:"clubhouse",className:"feature-checkbox",onChange:n})]}),(0,Be.jsxs)("div",{className:"feature-item",children:[(0,Be.jsx)("img",{src:hg,alt:"swimmingpool",className:"feature-img"}),(0,Be.jsx)("input",{type:"checkbox",id:"swimmingpool",name:"swimmingpool",value:"swimmingpool",className:"feature-checkbox",onChange:n})]})]})},pg=()=>{const e=ee(),n=(0,t.useContext)(We),[i,r]=(0,t.useState)(!1),[a,o]=(0,t.useState)({nonVegAllowed:!1,petsAllowed:!1,electricityStatus:!1,waterSupply:!1,furnishing:!1,tiles:!1,gatedSecurity:!1}),s=()=>{(()=>{let e=!0,t={nonVegAllowed:!1,petsAllowed:!1,electricityStatus:!1,waterSupply:!1,furnishing:!1,tiles:!1,gatedSecurity:!1};return n.nonVegAllowed||(t.nonVegAllowed=!0,e=!1),n.petsAllowed||(t.petsAllowed=!0,e=!1),n.electricityStatus||(t.electricityStatus=!0,e=!1),n.waterSupply||(t.waterSupply=!0,e=!1),n.furnishing||(t.furnishing=!0,e=!1),n.tiles||(t.tiles=!0,e=!1),n.gatedSecurity||(t.gatedSecurity=!0,e=!1),o(t),e})()&&(r(!0),e("/list-your-property/pricing-details"))},l=e=>{n.setNonVegAllowed(e.target.value)};(0,t.useEffect)((()=>{n.setNonVegAllowed(n.nonVegAllowed)}),[n.nonVegAllowed]);const u=e=>{n.setPetsAllowed(e.target.value)};(0,t.useEffect)((()=>{n.setPetsAllowed(n.petsAllowed)}),[n.petsAllowed]);const c=e=>{n.setElectricityStatus(e.target.value)};(0,t.useEffect)((()=>{n.setElectricityStatus(n.electricityStatus)}),[n.electricityStatus]);const h=e=>{n.setWaterSupply(e.target.value)};(0,t.useEffect)((()=>{n.setWaterSupply(n.waterSupply)}),[n.waterSupply]);const d=e=>{n.setFurnishing(e.target.value)};(0,t.useEffect)((()=>{n.setFurnishing(n.furnishing)}),[n.furnishing]);const f=e=>{n.setTiles(e.target.value)};(0,t.useEffect)((()=>{n.setTiles(n.tiles)}),[n.tiles]);const p=e=>{n.setGatedSecurity(e.target.value)};return(0,t.useEffect)((()=>{n.setGatedSecurity(n.gatedSecurity)}),[n.gatedSecurity]),(0,Be.jsx)(t.Fragment,{children:(0,Be.jsx)(qe,{currPage:"3",handleSubmit:s,children:(0,Be.jsxs)("div",{onSubmit:s,children:[(0,Be.jsx)("div",{className:"headline",children:(0,Be.jsx)("p",{children:"General Features"})}),(0,Be.jsxs)("div",{className:"identity",children:[(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp"}),(0,Be.jsx)("p",{children:"Non-Veg"})]}),(0,Be.jsxs)("div",{className:"radio-group",children:[(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"nonVegAllowed",name:"nonVegAllowed",value:"Allowed",onChange:l}),(0,Be.jsx)("label",{htmlFor:"nonVegAllowed",children:"Allowed"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"nonVegNotAllowed",name:"nonVegAllowed",value:"Not-Allowed",onChange:l}),(0,Be.jsx)("label",{htmlFor:"nonVegNotAllowed",children:"Not Allowed"})]})]}),a.nonVegAllowed&&(0,Be.jsx)("div",{className:"error",children:"Non-Veg selection is required"}),(0,Be.jsxs)("div",{className:"identity",children:[(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp"}),(0,Be.jsx)("p",{children:"Pets Allowed"})]}),(0,Be.jsxs)("div",{className:"radio-group",children:[(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"petsAllowed",name:"petsAllowed",value:"Yes",onChange:u}),(0,Be.jsx)("label",{htmlFor:"petsAllowed",children:"Yes"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"petsNotAllowed",name:"petsAllowed",value:"No",onChange:u}),(0,Be.jsx)("label",{htmlFor:"petsNotAllowed",children:"No"})]})]}),a.petsAllowed&&(0,Be.jsx)("div",{className:"error",children:"Pets Allowed selection is required"}),(0,Be.jsxs)("div",{className:"identity",children:[(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp"}),(0,Be.jsx)("p",{children:"Electricity"})]}),(0,Be.jsxs)("div",{className:"radio-group",children:[(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"noCut",name:"electricityStatus",value:"Rare/No Powercut",onChange:c}),(0,Be.jsx)("label",{htmlFor:"noCut",children:"Rare/No Powercut"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"cut",name:"electricityStatus",value:"Frequent Powercut",onChange:c}),(0,Be.jsx)("label",{htmlFor:"cut",children:"Frequent Powercut"})]})]}),a.electricityStatus&&(0,Be.jsx)("div",{className:"error",children:"Electricity selection is required"}),(0,Be.jsxs)("div",{className:"identity",children:[(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp"}),(0,Be.jsx)("p",{children:"Water Supply"})]}),(0,Be.jsxs)("div",{className:"radio-group",children:[(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"municipal",name:"waterSupply",value:"Municipal Corporation (BMC)",onChange:h}),(0,Be.jsx)("label",{htmlFor:"municipal",children:"Municipal Corporation (BMC)"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"borewell",name:"waterSupply",value:"Borewell",onChange:h}),(0,Be.jsx)("label",{htmlFor:"borewell",children:"Borewell"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"radio",id:"both",name:"waterSupply",value:"Both",onChange:h}),(0,Be.jsx)("label",{htmlFor:"both",children:"Both"})]})]}),a.waterSupply&&(0,Be.jsx)("div",{className:"error",children:"Water Supply selection is required"}),(0,Be.jsx)("div",{className:"line"}),(0,Be.jsxs)("div",{className:"identity",children:[(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp"}),(0,Be.jsx)("p",{children:"Furnishing"})]}),(0,Be.jsxs)("div",{className:"radio-group",children:[(0,Be.jsxs)("div",{className:"radio-option",style:{width:"33%"},children:[(0,Be.jsx)("input",{type:"checkbox",id:"full",name:"furnishing",value:"Fully Furnished (BMC)",onChange:d}),(0,Be.jsx)("label",{htmlFor:"full",children:"Fully Furnished (BMC)"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"checkbox",id:"semi",name:"furnishing",value:"Semi Furnished",onChange:d}),(0,Be.jsx)("label",{htmlFor:"semi",children:"Semi Furnished"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"checkbox",id:"unfurnished",name:"furnishing",value:"Unfurnished",onChange:d}),(0,Be.jsx)("label",{htmlFor:"unfurnished",children:"Unfurnished"})]})]}),a.furnishing&&(0,Be.jsx)("div",{className:"error",children:"Furnishing selection is required"}),(0,Be.jsx)("div",{className:"line"}),(0,Be.jsx)("div",{className:"identity",children:(0,Be.jsx)("p",{children:"Tiles"})}),(0,Be.jsxs)("div",{className:"radio-group",children:[(0,Be.jsxs)("div",{className:"radio-option",style:{width:"33%"},children:[(0,Be.jsx)("input",{type:"checkbox",id:"white",name:"tiles",value:"Normal White Tiles",onChange:f}),(0,Be.jsx)("label",{htmlFor:"white",children:"Normal White Tiles"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"checkbox",id:"marble",name:"tiles",value:"Marble",onChange:f}),(0,Be.jsx)("label",{htmlFor:"marble",children:"Marble"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"checkbox",id:"vitrified",name:"tiles",value:"Vitrified Tiles",onChange:f}),(0,Be.jsx)("label",{htmlFor:"vitrified",children:"Vitrified Tiles"})]})]}),a.tiles&&(0,Be.jsx)("div",{className:"error",children:"Tiles selection is required"}),(0,Be.jsx)("div",{className:"line"}),(0,Be.jsxs)("div",{className:"identity",children:[(0,Be.jsx)("img",{src:De,alt:"imp",className:"imp"}),(0,Be.jsx)("p",{children:"Safety"})]}),(0,Be.jsxs)("div",{className:"radio-group",children:[(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"checkbox",id:"personnel",name:"security",value:"yes",onChange:p}),(0,Be.jsx)("label",{htmlFor:"Rent",children:"24/7 Security personnel (Gated Security)"})]}),(0,Be.jsxs)("div",{className:"radio-option",children:[(0,Be.jsx)("input",{type:"checkbox",id:"cctv",name:"security",value:"no",onChange:p}),(0,Be.jsx)("label",{htmlFor:"Sale",children:"Security Systems- CCTV"})]})]}),a.gatedSecurity&&(0,Be.jsx)("div",{className:"error",children:"Safety selection is required"}),(0,Be.jsx)("div",{className:"line"}),(0,Be.jsx)("div",{className:"identity",children:(0,Be.jsx)("p",{children:"SOCIETY AMENITIES"})}),(0,Be.jsx)(fg,{}),(0,Be.jsx)("div",{className:"bottom"})]})})})},gg=()=>{const e=ee(),[n,i]=(0,t.useState)(""),[r,a]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),[l,u]=(0,t.useState)(""),[c,h]=(0,t.useState)({});return(0,Be.jsx)(t.Fragment,{children:(0,Be.jsxs)(qe,{currPage:"4",handleSubmit:()=>{const t=(()=>{let e={};return n.trim()||(e.rent="Rent amount is required."),r.trim()||(e.security="Security amount is required."),o.trim()||(e.Maintainence="Maintainence is required."),e})();Object.keys(t).length>0?h(t):(h({}),e("/list-your-property/property-images"))},children:[(0,Be.jsxs)("div",{className:"square",style:{marginTop:"-3rem"},children:[(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:["Rent ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsx)("input",{type:"text",placeholder:"\u20b9",className:"text-box",value:n,onChange:e=>{i(e.target.value)}}),c.rent&&(0,Be.jsx)("p",{className:"error",children:c.rent})]}),(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:["Security ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsx)("input",{type:"text",placeholder:"\u20b9",className:"text-box",value:r,onChange:e=>{a(e.target.value)}}),c.security&&(0,Be.jsx)("p",{className:"error",children:c.security})]})]}),(0,Be.jsxs)("div",{className:"square",children:[(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{children:["Maintainence ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsxs)("select",{className:"text-box",value:o,onChange:e=>{s(e.target.value)},children:[(0,Be.jsx)("option",{value:"",disabled:!0,className:"disabled-option",children:"Maintainence"}),(0,Be.jsx)("option",{value:"rent",children:"Included in rent"}),(0,Be.jsx)("option",{value:"extra",children:"Extra maintainence"})]}),c.Maintainence&&(0,Be.jsx)("p",{className:"error",children:c.Maintainence})]}),(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsxs)("p",{style:{marginLeft:"8rem"},children:["Maintainence ",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsx)("input",{type:"text",placeholder:"\u20b9   Maintainence",className:"text-box",style:{width:"53%",marginLeft:"8rem"},onChange:e=>{u(e.target.value)}}),c.extraMaintainence&&(0,Be.jsx)("p",{className:"error",children:c.extraMaintainence})]}),(0,Be.jsx)("div",{className:"square-area",children:(0,Be.jsx)("input",{type:"text",placeholder:"Monthly",className:"text-box",style:{width:"53%",marginTop:"1.5rem",marginLeft:"2.5rem"}})})]}),"extra"===o&&(0,Be.jsxs)("div",{className:"square-area",children:[(0,Be.jsx)("p",{children:"Additional Pricing details to convey to agent?"}),(0,Be.jsx)("input",{style:{height:"5rem"},type:"text",placeholder:"Do you have any concerns regarding pricing of your property? Add your concerns here or call us.",className:"property-description"})]}),(0,Be.jsx)("div",{className:"leave-margin"})]})})},mg=()=>{const e=(0,t.useRef)(null);return(0,Be.jsx)(t.Fragment,{children:(0,Be.jsxs)(qe,{currPage:"5",children:[(0,Be.jsx)("p",{className:"first-line",children:"Add Photos / videos to attract more tenants! "}),(0,Be.jsx)("p",{className:"second-line",children:"Add Photos of living room, bedroom, bathroom, floor, doors, kitchen, balcony, location map, neighborhood, etc"}),(0,Be.jsxs)("div",{className:"add-photos",onClick:()=>{e.current.click()},children:[(0,Be.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAtxJREFUaAXtWItx2zAM9QgdISN0BBDyANmg2STZwN7A2SAjNBu4G7gbZIQ2zwZ1EEAKlOzYbk+5y5GEHv4f0Vqtlr8lAksElgj88xEgoh/M/MHMf1r+U0oH8NyF40T0vcXoAuYDvDd1gogeEM2CcVMy8XATJ4jo2znGZ6dTSnvIuroTzPyWjcgrEb1EhjDzS8ardRfxXfT5p+JnpTyXy1urkpTSq+UnoudW/lEc0glhKaWfVsnIGVOluQyk/PYj8nJQjquU2dOo4Xg4sylh/ORGBA8zTxoAMn7ruuY05TmjUEZw8/sDGRMnfLaJ6Kk1pYLDHI/TGuRd9E7KRHFYoM60A2i0KXUd2Dn7sZT1oOnRn06gNh77OXXthF6IgEBa+5zoEOA4ygQiImbe6gaV7O7OCUpoXwgo29tTESUi2lg5hfNmTmlaOb3ivAkBGVhYYZDtIStPn2Wu+0lSkJ1Jmh/7TO/XENAj/aYx8oOXEzNvvKQ6JbQvBFRkywvJGndYr9doh2OUu6571D2RdQFQEevImSev0wGO40Qo3GuK1wo4U3BiWxHryNnwvE4HOI4TwdY+ol2BrpCVbICshxrW0g3f5XogFKwskSwMyk09Ht2GekJARbzly3Vfga8svoaz9JAvBFiJcmbm35p3rDGJCM3cZ6Drun1FrCNrPuynAxzHiSBv3d6o2m0RmSncdpt/iX2ZA4XGzFfeYzPDcGSlYPyk+9aXOYA82CxYZZVz8wgVHX2WIc8VhFXiACMEKY/BddzK0+e7u0rANzjRmIktsCPxKD7SAcDegUKA4ygT1A+QX0omJtUW/VLmiqlK1rGUHEcIcBzXJYT2hYDr2uu0hfZZwJw6dVovRCjdeJ3oruvsh6yzfgI6BTMJMhx2OsDFN3jlm+Vg9mohN977zzni6aTvMzdyon4Fl1q7ZyfaPmN+3jDxlU7P8VuX0jtK/J4Gy8yWXtiWCCwR+O8i8BdjquNK24pJBwAAAABJRU5ErkJggg==",alt:"camera",className:"camera-icon"}),(0,Be.jsx)("div",{className:"add-photos-text",children:(0,Be.jsx)("p",{children:"+  Add Photos New"})}),(0,Be.jsx)("input",{type:"file",ref:e,style:{display:"none"},onChange:e=>{const t=e.target.files;console.log(t)},multiple:!0})]})]})})},yg={backdrop:"Modal_backdrop__FjZ6M",modal:"Modal_modal__mObqA","slide-down":"Modal_slide-down__S4mK9"},vg=e=>(0,Be.jsx)("div",{className:yg.backdrop,onClick:e.onClose}),Ag=e=>(0,Be.jsx)("div",{className:yg.modal,children:(0,Be.jsx)("div",{className:yg.content,children:e.children})}),_g=document.getElementById("overlays"),xg=e=>(0,Be.jsxs)(t.Fragment,{children:[a.createPortal((0,Be.jsx)(vg,{onClose:e.onClose}),_g),a.createPortal((0,Be.jsx)(Ag,{children:e.children}),_g)]}),bg=()=>{const e=ee();return(0,Be.jsx)(xg,{children:(0,Be.jsxs)("div",{className:"modal-page",children:[(0,Be.jsxs)("p",{children:["POST PROPERTY ON DYLAN ESTATE?",(0,Be.jsx)("img",{src:De,alt:"important",className:"imp"})]}),(0,Be.jsx)("button",{className:"button",onClick:()=>{e("/list-your-property/confirmationPage")},children:"Continue"}),(0,Be.jsxs)("div",{className:"content",children:[(0,Be.jsx)("p",{className:"p1",children:"By continuing you agree to our "}),(0,Be.jsx)("p",{className:"p2",children:"Terms and Conditions & Privacy Policy"})]})]})})},wg=()=>{const e=ee();return(0,Be.jsxs)("div",{className:"confirm-page",children:[(0,Be.jsx)("p",{className:"first-c",children:"Thank you for listing your property with us,"}),(0,Be.jsx)("p",{className:"second-c",children:"Your listing will be reviewed and will go live within 24 hours."}),(0,Be.jsxs)("p",{className:"third-c",children:["We will now manage your listing and get in touch with you after finding the best suitable tenant",(0,Be.jsx)("br",{})," as per your preference."]}),(0,Be.jsx)("p",{className:"fourth-c",children:"-Dylan Estates"}),(0,Be.jsxs)("div",{className:"all-buttons",children:[(0,Be.jsx)("button",{className:"button",children:"Edit Property Listing"}),(0,Be.jsx)("button",{className:"button",onClick:()=>{e("/list-your-property/previewpage")},children:"Preview Property Listing"})]})]})},Eg=()=>{const e=(0,t.useContext)(We),n=[{name:"cctv",img:Yp},{name:"clubhouse",img:Zp},{name:"communityhall",img:Kp},{name:"firesafety",img:Jp},{name:"garden",img:$p},{name:"gym",img:eg},{name:"intercom",img:tg},{name:"kidsarea",img:ng},{name:"lift",img:ig},{name:"maintainence",img:rg},{name:"parking",img:ag},{name:"powerfull",img:og},{name:"powerpartial",img:sg},{name:"security",img:lg},{name:"shoppingcenter",img:ug},{name:"sport",img:cg},{name:"swimmingpool",img:hg},{name:"watersupply",img:dg}].filter((t=>e.amenities.includes(t.name)));return console.log(n),(0,Be.jsx)("div",{className:"amenities-container",children:n.map(((e,t)=>(0,Be.jsx)("div",{className:"aminities-item",children:(0,Be.jsx)("img",{src:e.img,alt:e.name,className:"aminities-img"})},t)))})},Ig=()=>{const e=(0,t.useContext)(We),n=[{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAZRJREFUWAntWN1twyAQZoQz7gB5jCGRPIKfUs5P3qAdoSNkk2SEbpBukBE8QkZIda5IgSpA4pq4KpEQRvD5vvtyP7YZy7+swMwVgEUDUG26UqjX3xx0T1iqxd3uE7iQ6sAlnicdQu1uJjqQE9hPSsxwvBDY30SSV2qfipy2U0g8RP3d5IkG6bkU+MEr3HuHociAC55vj/r+eoa6gSBJWGOnATQXEo9BEGPMxNB1DKaUaMV4WW26II4y1TIm1C4IupMgl3Yoke2grUzQkOh/KEjFOqaDWHEr8RyDKZ1GEIxBWKqGiqZrLNV6KNjXMhmkeklFJGSHuBihythXcW5PIWDC/ZNVtMGtfUMMRXSPULeI3C9E+/7D+er57aKim+4g2u1lM9EFX6mtRdJsEC7BYDZNQJpsZoJjhM0KjlGPsFnBrKBVg9z3i0esfYV6FmQzwbFh4VNw/r342lPt2FriwXsL9dNKNUZi9FCP+OrkIeHbgroDLr9fN+jrl3WeSJEX1pOsdWL6xcBhjd0jOUzvZbbw1xT4BCozlCitpbrmAAAAAElFTkSuQmCC",label:"Bedrooms",value:e.bedrooms},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAbdJREFUWAntmMtxgzAQhl2CECkgR5A4UAInZ8XJHcQluIO4BHcQSkgHTgdJB5TgEpJZEuO1LAvBgGDGYoaZBT3249drl9UqXI+qAEvgOZJw5LI8cal+0MZ3i9ADQc5gCEdvJuF1dshIqJpC6faskE8ZFDqQ6RkhWQIFF/DOBGy9qRoL2FKgSMAHAtB3JpsJ2HuB1AFRIXTcCflfb3LIe4BdkCxdbyaHQwdWwHS9MQ9vOd8cPA8xwnMJlQ7IhEe4LgV5BnsK6B2uC7AtT1WF2xE+e79sc9A7jMlhADSp0ufdIhW8hFbXkQtdsT7tSKqvq9COS3XwCeDm6+XQjvziAVneBKjfbl82/TSIhfpEplZBavhcJPrRib4pi9EOgESWoCARY5AZFBwkG2mECRnd2mKXtIGJMqeN0MaMDVf3mDcT8HbjJ3GMMbm0J+56xyM910Rcu+mavI8E1vxa6Z0Vcql29/7PjAnGs/I0OLfB87CZd1IdNaiap6rqdWvTJvrrc8fygtnH06F0jONv0J7nwNZUuZ2TJFZz7EQP6fDHk2NTt2o8K5ug1hoKWbrSQrpLMGppE4oeQoFfVr/c7IupHxkAAAAASUVORK5CYII=",label:"Bathrooms",value:e.bathrooms},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAbVJREFUWAntmNFxhCAQQC1h9VLAfZ5gZizhvi7glx3EDtJCOkgJXgcpISWkBEuwBDPLhRtEQcyhZxKcYWAHWN6uuCtEUXj+kweAsueEFm1MeIPtzdmOYAnl3XdpNweowAnIADjXA8GDcz2mjw8e1D0yV17Tg3Bgx4SwGgirnDnXArwkhGu87YCwVyfIuYBA+RvOiSn/hAPbuyyiw4k1Catd5kZzABPKanW8SI8TkKNwmLl8A+pwEtQGaYTzDWiCs0Fa4XwCTsGNQU7C+QI0wDWQs31C+VnCyVq87vTpRcpqHWfFuyrfvAcfMnbsKUSrKRdw8usbgxyZ0wEpqh1hVa/v1o9koFCDc4VEOBw70Ocd0KLQ5EkJd3dABNAhVbhNAF4hUn7G/Yuy+tz1FasgpnYAFKc/wmqMXz8pMeUfS4cZeTT1U1uiQm+b9KyivJOdgz1zCdR+4HykOshLwMyhG+BLhvRUSmdYa31BdTDm3N0jL9GbPgvkR1DXsbZtgNaJa3X+OkAdeGlZ/KLZbtWWBnDUb75Vw7tBRyX+QswwZDXGLY2H6CXDyaTxWdHqfz5G2NDxVzzwBXU9SN6n00nhAAAAAElFTkSuQmCC",label:"Built-up Area",value:"".concat(e.sqft," sqft")},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAlpJREFUWAnlWFFywiAQzREI9gD9NKAzHsGvCvnKEbxJewO9gb1Bj9IjeBQ7m/EpWQMBpI7TOsNslmUfj82GBavqL/1EYzupzCG7NZu9UGZbPCZibl5rZY9S21OJRliEWYRoaXJYYE9ytRZ3k5SN+QRoaSmU+bibYK3b7yGx9jBTZpvTatV+DbCUPd5NcACo7ekeQLHqREm8nktpwNJ4VQhQaLvj9lt9s3Ojzu2uLevZB/iyMGtu8+libtaYnI9Bf7b0AT49QVqxXLR7voARfe9Gh9tdW9ZzacDSeMGPJGfFnCD0WttvqvHJJRAAkC4p8boWoQ1bNG8dnxA4PplcpzkQCMbWaF5zOd6YTj6YZ1JyADiIpe24zadTlOHnG8P7KfrwCUruiMFjZYuPhS5W16MV+iCBJ7UdHkqUOcB2kZRTQpl3qY337HcZXFVVH8XGfspAo/3S9QExSNgoyujrJScYm1MAzJUDEs7hY5IgJSZ3HtNzicGPY6I/SJDuCdzRpwOQJNXYqfsJT3aOC7wgQantoGTVi/ZLnI/jPkBKCW7z6cAiMnxMJMHhsZ5WA8dowMCFauZsGdF47kcidTrB8zYTk7fHmG1m4hWnE6QI08Szpe0I3Nfc1/vQV4wUSJUPe8WpxDD+oQRL3kmK52DpI///I0g5VfJOUjyCSPpU+dCPJJVcH3VWcYAxEUFWi5U9ksONk7Yn9OdKHkHg3J6mNtfrasoXySf4Ld0tj32UIxO+yD+sEYu6Rg850OdH3D8Fv01ynByIUmj782HgnhG6g2TbtN3z+ws4PbX8AZq/4RK5mOwxAAAAAElFTkSuQmCC",label:"Property on Floor",value:e.propertyOnFloor},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAlpJREFUWAnlWFFywiAQzREI9gD9NKAzHsGvCvnKEbxJewO9gb1Bj9IjeBQ7m/EpWQMBpI7TOsNslmUfj82GBavqL/1EYzupzCG7NZu9UGZbPCZibl5rZY9S21OJRliEWYRoaXJYYE9ytRZ3k5SN+QRoaSmU+bibYK3b7yGx9jBTZpvTatV+DbCUPd5NcACo7ekeQLHqREm8nktpwNJ4VQhQaLvj9lt9s3Ojzu2uLevZB/iyMGtu8+libtaYnI9Bf7b0AT49QVqxXLR7voARfe9Gh9tdW9ZzacDSeMGPJGfFnCD0WttvqvHJJRAAkC4p8boWoQ1bNG8dnxA4PplcpzkQCMbWaF5zOd6YTj6YZ1JyADiIpe24zadTlOHnG8P7KfrwCUruiMFjZYuPhS5W16MV+iCBJ7UdHkqUOcB2kZRTQpl3qY337HcZXFVVH8XGfspAo/3S9QExSNgoyujrJScYm1MAzJUDEs7hY5IgJSZ3HtNzicGPY6I/SJDuCdzRpwOQJNXYqfsJT3aOC7wgQantoGTVi/ZLnI/jPkBKCW7z6cAiMnxMJMHhsZ5WA8dowMCFauZsGdF47kcidTrB8zYTk7fHmG1m4hWnE6QI08Szpe0I3Nfc1/vQV4wUSJUPe8WpxDD+oQRL3kmK52DpI///I0g5VfJOUjyCSPpU+dCPJJVcH3VWcYAxEUFWi5U9ksONk7Yn9OdKHkHg3J6mNtfrasoXySf4Ld0tj32UIxO+yD+sEYu6Rg850OdH3D8Fv01ynByIUmj782HgnhG6g2TbtN3z+ws4PbX8AZq/4RK5mOwxAAAAAElFTkSuQmCC",label:"Total Floors",value:e.totalFloors},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA5VJREFUWAndWNGR2yAQVQkIpwB/nkGZcQn+OoO+XEJKcAdRCe7A7iAl3HXgdODrQCU4s0jIy7JCSOfLTHIzGnEGlsfb3begovif/8SLWa+U+SGVaaQyZ/I0YvN6gDF/lQOx3gmhzE+pzU1qe895SmVvMOdLwYJxuTGXHEDJMcqcnw5UanuUum6TC2ey2dtogdFPux7cWSr7KwVspey71PYEseifbkPwm+sbDQOwLbY7sQgouKFU9joCDuLvmGMcxrhE0paNWRefcxOpZy42WDk3HxftuCiKMaCltteczQ7rcm7tjHxeMsTWrCXDJqw5AEg1+vgJ4mb2DlMLFEUhtgdR6joKH7HZp73jpCTO1tss+ifA+e4RkG1Sghidu4FLvNG5byfqL2bnKky/ccxS524iX8qc2XU69sLKAEHNDk78yIEiStBij3AhhfuHpWRlGmLoNnRONDJA4ZhuqTmaNEKZho4paNDmsCeI+8gGMSjUriMXRiwqG5LDuZelGW1LfLeHPEAkbDavB2TGNSFhqK0gWehipbLv1Aj9n0moB0udoJ+YsInc6+2utH3DIAMPuvNcUOz3Jz9x7B0dHnpQ3yqz83PiTcTuHcZqe8IAAZPvK6Qmx6gJwaSMQ5APxlAD6ixedMW41w/vy+DDC1huKMCAXm8BvXOYASYxOKntqHvB9HMBkmoD2Yzwu2bOJvCcpwH8CvcC0FhqUEWZkyQpZpwubvanKIEm3NsDHE8SSm+p7RumH7fp4qD6kgf1CHg9nr3e9kqbUGZwQuUKNeNeBCIUZJwgqewFgKxQ00OK1PYDG5WM1MTuHQclQRc39oJ10bNF3wLu1oEO2ysdU1DVBw2jg6h7idE7BjVVKrFtqpfsYYGlGbHY9ZOzG+waMTUHlAfIsHcfPYNKbenFPDjhDlLwSVADuO7mGFQbmUoo7oT77PvIAK67c4fgqrodZc9PHFhCQftskP21Nro0wdoeR/Jdqjr6mrDogs2sApLGfRAoqzrv2gk2ISHoCRsy1oFccE/xODvvMImm7fybYxeP4XHJy4oHCq7yi4+9YQwAo1Iy2HJfFRbeHB2TjLu9cccqlChX6uwRSqZ/4LeSlC88z82t6uUfjzAjCddklToKzGlnbkJgIKl273KqkwsA1udJKUkBmepzQKu6kbr+HTGDpIn0fciqbpZUmik8yX4Au4Lrpzty2QscDoZHmQbiMbg+Jq39o51/ADOS0A041MYlAAAAAElFTkSuQmCC",label:"Property Facing",value:e.facing},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAx1JREFUWAntmN1x2zAMgD0CRbXveYxJ904j5KUNoSePkBGyQT2CN3A3SDdwNsgIygYawT2QBg3+SUotqw+N73SkQRL8CIEgxNVq4CfWsJXrx71U5oBPpc1xjof0SWV2Yv1jO4BQbhLKPEkNpyWev4KstTkuAWfnUOZQNlWhJQP4LjVkn1rBq9TtG1tQ52T5/nLT9qzvqVLwWsAoiyPAt3JP11Izl8D6WP/zYq0LXQ04RQE6vLeKMrsxQG6AKfoTfR9VINfmFwMc9amP6r8asAp9cNwl2Ca8uQXFvbnz1juHJtE8iGTVTMAXdDWgVNAx3Uk1FzPFiB/OuknGACsFXWxBqaEfsuJigHJjfmbgbPgYsuIigEK1TQmO5EJ9bxKfWK1WNwfEjcFfbaXBnySBXEGHfWPIEND8jttH//M4FfuguDcPUl+OK4SLT5Jagz/LERjH8En5eMxueNukeg7QhhMekF1I6URj7mJA0WyF1NHmUeZA1iQXsOXVgBp6zAMDpRpOmBDQTo0B0QoWnFmSxie6pgLia8CJ7JMBogmwpNdK/eOjjuRY8qDMdVCd64pdwb/uXLAlBUuXyOLBqCI17JcGKc/3uCcuXzpHx8QT3uOE8hwSeLLKPwWcnCehrj4sd8nvRc95jPPrNCx5UKwEO1hDHzTyIMvOaPQ1sgjWaUxJju2BbzJdNLZY0kRYVioNoj7IMqUlkJIcJ4/diiJCEQwbkuMrk5XMCPjMjVE6FgPgLxs8JS6fm3Xmu3UuQPENtmNzBXD4h78SHJyLS3MBJsZgvpuAkeCfAmbeFnH5MjF7ZlVzWVBqCH0wSig8FK/YhID5oNRp0JwNMEo8Ju1ihOWpUKXhyBfg2u2NwYmnYdw1sE5jSnJs53kjZj40ZrTE2Md3V7yyOSyYhDPdTs8J+artTo5i4RyAQfZTiBZZS2JYkRt2jeH8sbdXG3i9Ya84fDbt5ZVqX8jqlYIX6l+WJ8nsjpLZLBgK0w1yCdg0+a3LXNz1wMEFULCTFwSN3MnDYSWO7Le2Vk7/18Jnqge1u4t8beESDeRBPiv/iwX+AHlZiarLdr+dAAAAAElFTkSuQmCC",label:"Balcony",value:e.balcony},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAjxJREFUWAntV9FxwjAMzQiO0wH62dj0LiPwU2rnKxuUERiFDWADRqAbMAIjMEJ7oignKYkNoUl7XLjLycZ60rMsK0qSTL8pAv88Aup5rlS+qDLjlr/5gE314p57bx/AqXV7bf3XoI9xm5uJnskZfxyUGNl4avzxJpI6d9uxyKGf1Pr9VccNO0EQysz4T537bfAhETnjovrlAe2jVMVcRUmqV18hAGRq/SEKSpKEYmB8DSaznuV4li+qKA5uKnNm3CYK6klQW55K4DvqayJIQnRzBKEoyxsMOXhNCWBpcUUOKlMWUF4oLjV+1+kLFiSAgpV1H2TzjSHVhXFDgfwBtqQ+zjtrYogcgpV5K4gfNkQdlGyRTNrKGGJQNiqHkjdX1rTLPFRM0ThKwokNZQqhvpTwrq6B2vo1VUhn5Q6KprZ+Rf/X1p9qkBgIvc4j1rY8Cd0VmNLW87cXLW+h2ySMBRzzpkLwr6dd9oLl7RaCYKjtkY7bdBokyGVqrPWNoCRy7xxD+7gE5Qv93ogJfN2I9I6gKs7t1zrYasVaq7Z169dg++4jRgNDy94RHJoY2n8sgprWINzigBK6KOhk+AV6X9cuM9Hmc0X+hhhrDY68JgiD1DY/YsYi0+LnyMjB5FJOWAPZAhz2I/6nazrS8sOIwkJqSpELYx5xuYl+egavO9vO/ZNQk9Jp/U8J0ia1i6EqKmhU61xknW0XqOf/TzM3J3nenXvSPuQilJ5oPkhgj/nZl3HLMXz1oDdBpggk3wOE5EDp2oNoAAAAAElFTkSuQmCC",label:"Furnishing",value:e.furnishing},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAArNJREFUWAntVt1tGzEMzgg6uQP4pYBP8oNH8Esb6Z6yQTqCR8gG8Qb2CN0g3SDdICPcCC2oO9oUT5Roow8FWgMGpePHH1EkxYeH/78/GAGzCXvr48G68AIU9jX15vOXXQtTkxd5yQk/jNbHX/zfufhhXPjGhY2Pr4iVMFymuTfrvel8eEPFNdr5+GZ2e4NKS1iOQayaap1B42AQla98LB6EYhCronANaOhCt8No+3iec+hsYc+u0fSPBzBgdmFtfaxiVI4gCO6dGut8fAcjyEejnR/eKc76ON6Kofji+tM2VRNN4JE7g4JTJPJI8crSYFBfkU5VRStqOBWB80frwzmL0nxtVEaDofhsPefINUIuvGQAttHgNRim9rpdRMiFeoR6RYQUmKsHbFXMoU2e0ChiNlBNjRzahDUvEp5nqE+k3EiqMuYUONO5yKvsgypNzbWBoXhxvbi21G+G0bpwSvkAlEUGEns1PyMpcv3jsYYRjUsMqdtmFUUa48rFH6ir0J9SkUCkEXMzNbsno3UKnGm9ZRxzs0MoANdgfd65L1Gano/0XCAeqN0OMKJMrUPAUPxd67n6LvMQ7GuKgN/C1OT/bh6Ua7oqmA6Vf9N/fYLqkk4GOqH/1DAL2dRblEPZJUcwV5C6cOJGYZ+1gAJm6YwPz5kQGriPjsaHZzSyeMsmnRkGsYlCKMUT3+dQqjB8IuaCuD7YRCdiMof4WwPOQd+wPh61OWT98JMfKg3486wttQ+KmaJTGld9XPSW7ATCpvjksPmoiVktk/hVsKf6bLfDkUaqNNhXMTyRpXFV5Q0M+Kmi6MSZz9mgp4qhp4G11nANp9EpYkRGzWKDp9EpYkRGw2iNrdEpYkRGzWKDp9EpYujMs3Lhe8OWiq3RKWLSIDb1ogMdslSWBZBGpwYjqP+HP/8GmpXGmC3FjpgAAAAASUVORK5CYII=",label:"Tenant Preference",value:e.tenantPreference},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAjlJREFUWAntWNFNwzAQ7QhXlwH62dhFygj9Aex8dQPYADaATegmZRNG6AigCxz1Jb3oBbdFApDQ5c7P7724deXzZPL/9xdXgHxTT0PcutDsXEhvp/1vds7HZ1rEObTWFOLtaQ3ZL8zagyb5LX7KnOiSv6pNk66KGwH+VJyGtLUN9r9zDyb4SAMupIfOYuxM6g7wzQQeeQDWHQLSfEUzH+/g3XbgJZiDqut1l2NIV9FYQCac+vQq47SIKzURSNiYzGcuqlck06QuUeq9KACJAqDL9EXejvn4LGNodEFvQP40ZK7oSZR6LwpAogCoXpPU2ljdjN48bhmfcg6q9z/MeZ2fRbcXh4DtKlZp45bNU28iWOBVc1XaXCz1V2RIV1HDQDWrPIF1YWC5J8UA68JARV+ewLowsNyTYoB1YaCiL09gXRhY7kkxwLowUNGXJ7AuDCz3pBhgXRio6MsTWBcGlntSDLAuDFT05QmsCwPLPSkGWHcIyGfAtj2sbu4V+4iEfHz84Lhe59OGdHPcxAJ2uz3ycfSJhvgkk/XYefeW1/lZmcoTC9gekzJyXoV8HvLcO7BW+1W0dHu8FvDzwLo/8mfkPRKjwGfAjP/1+AfWOs5nl2md9xKGF7PMptrGK+tHGJwZb69ZTAIYaDJ8bwDW7V4W0Td6j7EWRzXus5C23bc5f97YG5Cv3c5vSN925Zvn4KfR/b06p2HyzVevfNCcFPktXGhbzNNfYC6b3cynF6ob+9pNjP3H37gC77aAHNUVPuILAAAAAElFTkSuQmCC",label:"Flooring",value:e.flooring},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAdJJREFUWAntmN1twyAQxzMC4A6QxwRcySP4qTny5BEyQjfICt0g3aDZIN0gI7gbeIRWlxTVJuCeCRCpjaWTLczHj7/v8MFsdr/+uwJsAbVYrl6EhF1KY8unZpLWbAFzruAglP7MZayqGQnyBCd1mwvMjFNI2JAAxRJeTaOcdxIgqmdDFVK/Y+PoVuqBC5EAH0qoLcCWJHtAJaGGX4oEiJUGgBJ2AWOTmtwBSTKNVLq5gmxeM6H0M5Owca1xNwVEOC710fgzV/pgi3kzQBvOQGYFRAg0e1AfXCFhb9dNpqAoYWtUYRK2ZmAfHFf6mNUHhVp3BhDvCDkVDieVTkF1mUhwR3LhU84ongyQyXVlq9hXFJ9/g0uqIHY+BkmBSw7og6TCZQH8gTz7JKZlrmjFeq4rmQ+6BsM80lU+VpYVcAzE9y4aIK5xqFBs4xL2/egPS1itRbnfYeznQMB8284/D/ghlI5r5fCfHqwg7vR8kXhNeZQoxki7BmKsbRDg+R87CIwuZBEeAzPvwgCrhl1mKuuOy9Vb7NMtO0Uj+SDODndisdc4Sn9kwG/I7AdIxdQzQpyRcGTPFDUC6rSsmp5wnPwZA6d41A0Cp7IpaZoJsvudosAXlLDdGuH77ecAAAAASUVORK5CYII=",label:"Availability",value:e.availability},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAyRJREFUWAntWN1x2zAM9ggU3QHyGJPqnUbwS2uST96gGcEbJBvEG7QbNBs4G6QbqBtoBPVAiTYJ/oik7etLcpcjRRHARwD8AHm1+vz79EC5B8ijeGi4OFGuBsLEc7mGO0vQjfhFuRzNP3kU2zubLFPfcPVhwMFImHgp01C5G0K3JAp7bHAwb7g8Lcld/X7KKTk2TPaEfetiCimXrxig9uI9w0y+yr1jlImfMYBwAGevycWETExX9jpOesrlEBKmrXgOgptBpjwf0pe1pikj4JXQzfTAtWqw1+6SiySSUzoXuy2xTwm8ZwHq10w8Wc+adm7Ki4SLH9iA+6ycXKRcHiiXPW3VQNqJ+9ZcnlwZOYJe+2BV89nYmWyxkcuzCxIbI52mHe/iXAUyluxfWrHVHjI3cx4bLj8ICrcNdJbzDlsVbhLIG/AWYeoJjMY8Qvnu1QaF53G9BbU6eGMhn2ZwxmgMZOhmGxkYrwYZUkA6FawapNsTHO4cGiFMdVhOR2izO9iHCc7XukWyuhCmkkU+lFupXDRGIxEYFms94rERFBmlsRF3LuvN931sr70+gXR4c6RL5fBCHZMXbYWxecPEmy0H5Bzbi9dDVJaMgOfBjPbKS4vCrsUj8lQu4s1LjWao90t6ALtwtVphLyYvGt4MXUssccnDljRMOp1zw+R7AENyyTskk31UYKIOlLgAEuUV8B0GB3lYkn82CDuHYW6/8+YBL1olSvQ4Ty/K0zXZM2QtXHRkXk7aqhcstPDcl+aeweeFONIMm/3nMRdk06rfteDAGP6cKMrjmfHhG9dtl1o1rJl8h0pyPlHlxP+c2B2rVIGXIByxW12jNBDecanhqLFTLeN7L0ExJVaAA6HZhNpZ69FQU1xLUx52dPKBZDYIRlEIHOS5eX/1SLn869FOhjc1waOWTuuBpjijc8oGniLz+SeSA3gVAOlPz83uaH468Q6mwYWb4mxAoY25POkBcj+4+ljHHrJZvDbzpMuRLgCrTF46dQANPHrTsKbQ6zBy9WfBWxrsrQg+hSf6DjwygZXHhqk3AEM3EirREdavKYlRo//7xT9lfLdltg578QAAAABJRU5ErkJggg==",label:"Water Supply",value:e.waterSupply},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAzBJREFUWAnlmNFt2zAQhj0CRXWAvBSISRXQCH5pTfLJI2QEb1BvUG+QbJBskG7gbqBsoBFc/JQonyiSllTBDtAAAhmRvPt0PN4dvVr9T3/sUW34envkQj2jZUI9fZrvZ1L/4lKf/ScTumKP6uGuoDE4B2shyw27CySs40BSLRPqcBdALvXRA6tyoZ4yYV5774Wu7gSoXigI4ADCyh2j79H/FIA4wQDhUu89wHpxQISJTKp3pwh9P3Tk3/TOjadbY8EXg+RSPccV9pVl0pzic5vQw8oFQw0v1M+rCsmphHIudRVbw4RZLmA3zm3qmDLyvmYktrWQL1yaP3ZOYepc6N+sNOVi2wpBXwq1IRDIDBWUNwB9cKS2RZWPEYYwQQEzod7cOvTpWL7+sXNjN2uZMCWFQB9ZgImhX6YsyB42jH39XuKDYw/WY87kj0s5PIEPZgYopaGJzB8UEm7M5uoplU/ADwfCmbe9yMlTwRygazOpT6MrnyYT9A+FFVSY2g8bFk7Ew4wDGNNaSBIdktuPk2sPzVq/cDxS72loweIrcB+ZMG92rZNBWoShEPSilU8mdL9qkfoMxXCT5Ne3gzBCIBP1YuwYOcE5yMu+BZgwk+u+tvLpZ6L1dh9WOuFekZNCAqBZYV6DQke85IU69D62rYp6S2Ole+heEar3sF09gRP+8ROEK9s6ETE491X+vSIQik6dsBmdYf24PXZicBIdSKqlp4t5dSBNiZ3gkR1kHRiA6oZFu+Vz7hVXt6STnu60cIN6sucuXE6/V/wr4CUlBpKB1Jftxff5gM5Bh36hu3vFXMDWYoPYSba38pPBas69Yg5gbDsdXFPgRiJBIJoPCwQSRuYA8nXflRwYl/oDu5X0VjhlqszyC4SpgIGwdEZhMDYlWvgWctS9YhBmpH5PWSBgvaGvpQRMHQvEzmiCD8w9p6rxqSzR+a3vdL4aquXswfByNlwpKnTJgUAYOrcZYQ8fxT3GzxA4GBhbkiMpK5e6+2mEnMrOqv47WDkpcOnBa6efAjYuEIlzS4NRebb0Koz/O+HFioWpeWEOgwxBhdyiD2u28fHY3UMC95hbsNxMx19wG0jmMXoXggAAAABJRU5ErkJggg==",label:"Pets Allowed",value:e.petsAllowed},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAxRJREFUWAntWN1x2zAM1ggU1b770SaVO43gl9aknrxBMkI2cDdINkhH6AbpBh7BI3gE90CJCgBCimypaq+N73z8AQR8AIkfKcs+fv+7B9TarXLrXrX1F23cC6y5T3TpDtrW59z4k1q7LacrU1cd3bgDp09aa+O+BXAA0PpLbv1RVVsVhTbKG1rkU+ZLFekw5rY+RhqMarN7xPRJc11SgEERUiABzK1/xUo1A6itP2MjMe/Vc1XtVaLAuBcsSJc18TIAwPTWiBP2YrH5usc8k+ba+icsHO4iFgj3jtCtvxD6aqvgfmKe2QAq4x6wYJgXxj1EACGImPLc+J+RDqPeuO9chqrSYFOtI8I9F4IRy+zmRYzgNki09aeOmGWZZMBnFCRgAAenrX/GMmCu7vye8u0SHv5MWNOH/IVbrm3inScsKFVMDYy8uXE/qK7RAOszfpDnuRTgbhBgmytJLpW8zFNVNCQZC+ubJP12xCRFaOsfsQEwh2OPgposQPNkkobSO3qMz787firTCMVebAGQCIXkjgXrsn5mRhAASYQjA7Gc3jnLcyRI4CG4lxA8AURZn/k9BR5cTZSpOwOEIEvk9wLDBFBa3Pl9XwV4jw6y4DTgj+Vi4I2Xa5JjMe/ic6lMSt5fHFhUyBM4pJpIE0dl3T20RexChy5mib2Qgqy7F8HBJo+mJUAJOkijQcAKzIt5D+smoPDiTx4vAtjvQR7yOCFjQ+acC4WAJHGii9dVxSoCYZ5pwUvlYCQnzKx1nwkTEcNPDfeahBEWUmH/nccsHG/SziUgeffCO4/kgQkbvBkePN6oR7QKvcVFvqkjv04QxaNPi3sxvCaiNn4quKYG84p1RZMABZvnxFCGZgAJ4JKK1dOiDTpCOoLgyQnH3cjkngvd9m1fGlij2pU9+FYz+r5Adli7bfd95+3VIcjDzeugx/qIfSDhUsP7K3gFAKgV+l6zdquwZ9yhD1gICtRZ9+kftd9z3J1HUR29Zu+2Y5UQS6nnRlCdAddcEQkT2fvrAQJa4dWx88YN3hz3WYO46WPxj3rgF9YtStvMK2YkAAAAAElFTkSuQmCC",label:"Non-Veg Allowed",value:e.nonVegAllowed},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAAAAXNSR0IArs4c6QAAAbxJREFUWAntmMtxwjAQhilhvaSAHInWB5fgSwZJp5RACXQQOiAdQAeUkHSQdEA6oAQyC9kZ23pgHhbOxMxoBJKQPv3aXT1Go7/+gccSQOlXJL1FMvtbpIzMJyq9gol+vEofULbIlLkZWHNy3Deo5+IiSJ5dl3ACe4AsSjgbEpSeSSed50/T+dmASHrdAFvCJTP1jIy5fav1rfTK0yxe1AQcKz2L/6N9Lfc1ALbXy205KOhqcizhuIlkd5wg4pl3UdAXN0NefxfAjPR7zTPJ7HsDiDnv1fV9GpRdhEwhqYJHu6vDjZX5CMFxeTJAn90hmS0U8VNKMsBMmU1zad3f02VTzSSAD7kuXZj6Uks9THRZhRwARQ3nVNLwZFYwy+1G2kueREEZTPJzHOYugP5Abb3H+eSA/Q7UxQuIt0rem0DN9gcuYH8CtTgIkpljbnecoPDbnbTlPLkNVgdv830AbKNSrM3/VBDJPZXEVArV8WMUkllKSDrkl13czbzWiWefvVU9L3loQsHy3/jW2ctWZXIn42YY8nCN7O757Xj6Ph03g4Bcwcd3JLNGsl+VWV/7kPmNuV2Ebn1RoL5V/gAe0SH2iJUK5wAAAABJRU5ErkJggg==",label:"Electricity Status",value:e.electricityStatus},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAk1JREFUWAntWN1xwjAMzgjCdAAewc5DRuClreUnRugIbAAblA3aTdoN2g0yAiOkp3AOlklMDDHkrnCXw0nsT5++SPJPlj1+/0EBmOvZROkvobDqf5k9jQGp39o0gtkShML1Adfs++NiNVH4Q5waXKFwFwPg951ILGHxsrKAMNdLeub3i7t/3Vm8TCj9GTe4XWmQeiNyvRkCS0j9MTjBQYjZMAsRnHbEVeNRlmUgTSEUnlc+N1sWTy6I0yabzMFrCVrs6QJXDNgqoLCCBTZxaft3/ScjSAZFrrenJM0xhrpYOc+TEqRP6BME+Vw49s82n3K95BiBLO4Tg75FDo6V/77PvchNXe6mEr+hYHWQl5l7Eex0wq+DD4IdUtH0SOKclKUxKEik3OmRpsvGj3sT9MnVCTdUobZeXprFreQUViwPUisICt/JAX8Z1UWOplDreP2fkqBfgOul2VzPepMjhrckWCspsXQTwgkPrpyVMSXBgwA9Vj3+Z7XkUito7ZxZmrUrdxx8m6mug2SY3K0UPIrBPjcjR5ssoXRJy30olmDHJE2SxojToMymy3mU+dkOUm+b96mTpDEUaFBhdrK5Cm6aWBUPgLqvGLiKXw9GEfSNhe5pdiBv/T71FpTiydmjRLVDc3EU0KUEzo3jBK87WUjjkLMnofW/UOY3jaH2U4iQrZM9iRvsMW2qVYfgbjkcyutna1bPYsCH7HsosFypSyrBkJwYFhQrOmpjR3ejUM5lKRT7zKX7bhRtOsgUCkuRmz1I03qoOQqiDxJjU+AP/aicVjHbnTMAAAAASUVORK5CYII=",label:"Property Age",value:"".concat(e.propertyAge," age")},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAArdJREFUWAntmN1x2zAMgDMCRHcAP0akcqcR9NKK5JM3aDaoN6g3iDeoR+gG6QbpBh7BI7QHSmBhUJFcl/S1l/pOB0kkyI8w8UPd3f3LP1h3oIzbKm2/lLhA20e4t+urbATGflTGn5RxPwpfJ6j77W9BQv1hUxgqWTTc2+5iyEq7460Bcc6LAN81tkvgGr9bafuY81KN3cl5QL9vFyHhwZ39vZW2XxeVruygjD1wSDTA4lDYiSuh9y4qXdkhOyCGhMrY52EB/RPnIq/HvYT3523uCXUq4154WMkOqIzbc+tyzxOOdSLAdE/3e2q7KaCImdEjbwoIrV0r47+PVoyWQItgVlDGHVXjT6D92WZXjQ+WX2n3DccoZkEaOJfM/hfnAqNxigBiAYGpkHsjTYhOwx0nvl93gOFL6mQH5Dk6hJO2gwhhhlAiQ1AITSx18gVkB5wbkIcfvI/gIjPxwD83Huknci6TyPzJPXJl3BjAQ3kWwwy0G6wpf1UvrLTKDoirCQuo3QHjG1/dEIJCIN9zcOwT8nvtDqrxO65TBJBP8Kf3bxMQtP2MGx09mlsQvVXV/R4vGU7Qcwed/hPXyW7BMZ3FDc8LzMr4F3KGyrhnAgngzElA27gPswMmAzIrEhxJApyNCrkLVlGZHLm3UkEwAsZCYgwz8YzDt0ay4BwVNUKFtMWyCFkLFyDDD7YFnQe3AaFTBJBgcsi3C0jnD3KIJTl1TsF/oJgFxfkjhp0F0HhOoe1RDHAB5FVgAiP5H5AsSRaRktpJpu2FvizQhCTlxPRM7STpPUn8rEJtKFcsM1GfRIL2LVfCe8yfGJzpku30Xsq5fqHoYDk6zHPpJ7hwvhXKcrICz7EKT6wmX4ic+6pX5oTkOVryTD4PpdUNPgFPfImYBJp6SYWBwvNEicu4rSwgpjj+6nc/AVtCLV4Hi/w8AAAAAElFTkSuQmCC",label:"Property Type",value:e.propertyType},{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA+lJREFUWAnNWD9v1DAU70dwcnyAMlRq7VTK2And0l4cqdJJdETqzVRIN4F0DC1bl6pdEDAVgWA9BlgqVe3UtR/hBAKp2yHEHvRz7JzjOIkTUspJuXPs5/d+fv99S0sdfMhyn/iMjz0WXeAhNBqR1Wi5A9btWeigfMYT2/PPwbqAsgHF3K2BhamU+cqEN50HWPBs7QbYSGi0LxlZzaeD2h49TV69myY/f/1Ovn6/ST5OzxLM6TRlY4/x60ZgfRa9LWOm5pc3dgSAD9MzASop+QAwwD568sIJrE+j09qo6KXqLzB0BTU5fGMF7QLWo/yyEUCA2nt+lHw+v7IKNRV3+PK9ONiDh3vC1Oa6egdY8Hw8OcopojHA+xs7TsCU4C/nV8IX4Y8un28/bpJwazcD6QTQo9En5Wv4nRy+dpHVmMYEB1lOAEmItBLPdZDbo2dJ10+4Nco0J2XNILvWB0GAsNcB3vo4iOfO4NQJfMZr001XwEkYh0qu8y8Jh6RH+aXP+CwHJIjnmG/zmK4D3oTGI2dQNkLT3Aginc6jfEZWo74+R9b50KP8Wp/DuFAEaHRg0jR+vxdE/ZwGjWxPwj6xMSW0aDYzQ5gHs/GpnYOpDdMUNFPLRBJ4LEbdVdE7d91XS+cH0YHGOCnTWhUj2RUpcInP4vq6W8VQXytqcXCsr2Pss8EJij0esrY1LKyv5ZoQ95xnMip7Rxuf0yKLdnXaHtZpdIDHTBtmoIFW39vZ2A/ivKlptF/H3ARHaPz3kVslNBW4KIUizeCStLKZJdusC6eiGU39LhB7xlW8O1mTwk90c7uNByfY2wkIGxP4oOsVoAowWnzwssloNYdkCjNWCW2zplyjFShswhWTMH7cRnizPYPjxnkVvoJaWiEI/eIY5ayKOdZkqRzLxkNL1FlFQaOKeu7mnxJciUnjU9XdtDFR2gzb2zgnkDArCK2ak02CqCpBvIhiVI6a04skr5I4UpLo2otyRACVNB/CV20+5wXx1KY1XUiVNgHePDBMj4N6VPA2zF4soyk4o5SBKcCJgElPnHXYHh1MldZkpRBaLzNTb50PUd7wwCeFQPll69ytbZjFtDMzAFKtaS2TNK/pW/jbRAdRNU4bkby5gSW3x2wEoD0IzRFpL6IxkFcB3bxl89pW6xDZoOAGejI3GkmnXk0GS9Y8CKArm6E5L9qvmiACatPUHuMX4jR2Jy7XnqkC07wKkJxf+KauEZMJCkPq57mAEX4unTxbcLrdWwTo5vUZnys/dAkixa7HOP43zLD4a4PxknmRyRHoxHcxRu4t+p92grsApctENBs3toV6dcK7G88RPf8bqByeP5O5DG/9YLekAAAAAElFTkSuQmCC",label:"Gated Security",value:e.gatedSecurity}];return(0,Be.jsx)("div",{className:"page",children:(0,Be.jsxs)("div",{className:"page-style",children:[(0,Be.jsx)("p",{className:"overview",children:"Property Overview"}),(0,Be.jsx)("div",{className:"property-details",children:n.map(((e,t)=>(0,Be.jsxs)("div",{className:"property-item",children:[e.img&&(0,Be.jsx)("img",{src:e.img,alt:e.label,className:"property-icon"}),(0,Be.jsxs)("div",{className:"property-text",children:[(0,Be.jsx)("p",{className:"property-value",children:e.value}),(0,Be.jsx)("p",{className:"property-label",children:e.label})]})]},t)))}),(0,Be.jsx)("div",{className:"line"}),(0,Be.jsx)("p",{className:"amenities-title",children:"Amenities"}),(0,Be.jsx)(Eg,{}),(0,Be.jsx)("div",{className:"line"}),(0,Be.jsx)("p",{className:"description-title",children:"Description"}),(0,Be.jsx)("p",{className:"desc-desc",children:e.description}),(0,Be.jsx)("div",{className:"line"})]})})};const Cg=function(){return(0,Be.jsx)(Xe,{children:(0,Be.jsx)(Ie,{children:(0,Be.jsxs)("div",{className:"App",children:[(0,Be.jsx)(Le,{}),(0,Be.jsxs)(ye,{children:[(0,Be.jsx)(ge,{path:"/",exact:!0,element:(0,Be.jsx)(pe,{to:"/list-your-property"})}),(0,Be.jsx)(ge,{path:"/list-your-property",exact:!0,element:(0,Be.jsx)(Ue,{})}),(0,Be.jsx)(ge,{path:"/list-your-property/property-details",exact:!0,element:(0,Be.jsx)(Ye,{})}),(0,Be.jsx)(ge,{path:"/list-your-property/location-details",exact:!0,element:(0,Be.jsx)(Wp,{})}),(0,Be.jsx)(ge,{path:"/list-your-property/features-and-amenities",exact:!0,element:(0,Be.jsx)(pg,{})}),(0,Be.jsx)(ge,{path:"/list-your-property/pricing-details",exact:!0,element:(0,Be.jsx)(gg,{})}),(0,Be.jsx)(ge,{path:"/list-your-property/property-images",exact:!0,element:(0,Be.jsx)(mg,{})}),(0,Be.jsx)(ge,{path:"/list-your-property/modal",exact:!0,element:(0,Be.jsx)(bg,{})}),(0,Be.jsx)(ge,{path:"/list-your-property/confirmationPage",exact:!0,element:(0,Be.jsx)(wg,{})}),(0,Be.jsx)(ge,{path:"/list-your-property/previewpage",exact:!0,element:(0,Be.jsx)(Ig,{})}),(0,Be.jsx)(ge,{path:"*",exact:!0,element:(0,Be.jsx)(pe,{to:"/"})})]})]})})})},kg=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:a,getTTFB:o}=t;n(e),i(e),r(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,Be.jsx)(t.StrictMode,{children:(0,Be.jsx)(Xe,{children:(0,Be.jsx)(Cg,{})})})),kg()})()})();
//# sourceMappingURL=main.0b1f7f65.js.map